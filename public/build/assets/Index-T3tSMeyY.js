import{r as p,j as e,Y as E,b as N,y as A}from"./app-CikEoOUb.js";import{s as x}from"./index-sFwGSaal.js";import{B as b}from"./button-DE34mfwC.js";import{d as L,A as O,D as _,a as k,b as F,c as f}from"./authenticated-layout-tnqnI4FE.js";import{D as U}from"./DataTable-BVsypS1V.js";import{B as I}from"./badge-YCVpdJLF.js";import{L as g}from"./label-DFDTJu9O.js";import{S as M,a as V,b as B,c as H,e as z}from"./select-D_R4pDbd.js";import{C as P}from"./country-dropdown-DJU1s9Mt.js";import{D as R,a as G,b as q,c as Y,d as Z}from"./dialog-PNNo5n6u.js";import{C as t,a as o,b as m,c as n}from"./card-B9gfxKxc.js";import{U as $}from"./users-nklF4Rz8.js";import{G as J}from"./graduation-cap-CBnNqgUr.js";import{D as K}from"./dollar-sign-CYT0YlfH.js";import{E as Q}from"./ellipsis-CvJy5PQA.js";import{E as W}from"./eye-Ds39zDLU.js";import{S as X}from"./square-pen-GySVy4y7.js";import{T as ee}from"./trash-2-BzQTabuC.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";import"./table-BDtgScpB.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";import"./popover-B4Q4HwOH.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),le=h=>[{header:"#",cell:({row:a})=>a.index+1},{header:"Logo",cell:({row:a})=>a.original.logo?e.jsx("img",{src:a.original.logo,alt:"Club Logo",className:"w-10 h-10 object-cover rounded"}):"-"},{header:"Club Name",cell:({row:a})=>{var c;return((c=a.original.user)==null?void 0:c.name)??"-"}},{header:"Organization",cell:({row:a})=>{var c;return((c=a.original.organization)==null?void 0:c.name)??"-"}},{header:"Location",cell:({row:a})=>e.jsx("div",{className:"text-sm",children:a.original.city&&a.original.country?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:a.original.city}),e.jsx("div",{className:"text-muted-foreground",children:a.original.country})]}):a.original.city||a.original.country||"-"})},{header:"Status",cell:({row:a})=>e.jsx(I,{variant:a.original.status?"default":"destructive",children:a.original.status?"Active":"Inactive"})},{header:"Actions",cell:({row:a})=>e.jsxs(_,{children:[e.jsx(k,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsxs(F,{align:"end",children:[e.jsxs(f,{onClick:()=>h(a.original),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(f,{asChild:!0,children:e.jsxs(N,{href:x("admin.clubs.edit",a.original.id),children:[e.jsx(X,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(f,{asChild:!0,children:e.jsxs(N,{href:x("admin.clubs.destroy",a.original.id),method:"delete",as:"button",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}];function ze({clubs:h,organizations:a=[],filters:c}){var S,D;const d=Array.isArray(h)?h:[],[u,v]=p.useState(c.organization_id||""),[j,y]=p.useState(c.country||""),C=(s={})=>{A.get(x("admin.clubs.index"),{...s,organization_id:u||null,country:j||null},{preserveScroll:!0,preserveState:!0,replace:!0})},T=()=>{v(""),y(""),A.get(x("admin.clubs.index"),{},{preserveScroll:!0,preserveState:!0})},[l,w]=p.useState(null);return e.jsxs(O,{header:"Clubs",children:[e.jsx(E,{title:"Organizations"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(t,{children:[e.jsx(o,{className:"flex flex-row items-center justify-between",children:e.jsx(m,{children:"Filters"})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap ",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(g,{className:"text-sm mb-1",children:"Organizations"}),e.jsxs(M,{value:u||"",onValueChange:s=>{v(s),C({country:j})},children:[e.jsx(V,{children:e.jsx(B,{placeholder:"All Organizations"})}),e.jsxs(H,{children:[e.jsx(z,{value:"all",children:"All"}),a.map(s=>e.jsx(z,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(g,{className:"text-sm mb-1",children:"Country"}),e.jsx(P,{placeholder:"All Countries",defaultValue:j||"",onChange:s=>{const r=(s==null?void 0:s.alpha3)||"";y(r),C({organization_id:u})},slim:!1})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(b,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-primary text-white dark:text-black",onClick:T,children:"Reset Filters"})})]})})]})}),e.jsxs("div",{className:"container mx-auto ",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(t,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(d.reduce((s,r)=>{var i;return s+Number(((i=r.students)==null?void 0:i.length)||0)},0))})]})]})})}),e.jsx(t,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(J,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Instructors"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(d.reduce((s,r)=>{var i;return s+Number(((i=r.instructors)==null?void 0:i.length)||0)},0))})]})]})})}),e.jsx(t,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(se,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Supporters"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(d.reduce((s,r)=>{var i;return s+Number(((i=r.supporters)==null?void 0:i.length)||0)},0))})]})]})})}),e.jsx(t,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(K,{className:"h-4 w-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",Number(d.reduce((s,r)=>{var i;return s+Number(((i=r.payment_stats)==null?void 0:i.total_amount)||0)},0)).toFixed(2)]})]})]})})})]}),e.jsxs(t,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between",children:[e.jsx(m,{children:"Clubs"}),e.jsxs(N,{href:x("admin.clubs.create"),children:[" ",e.jsx(b,{children:"Add Club"})," "]})]}),e.jsx(n,{children:e.jsx(U,{columns:le(s=>w(s)),data:d})})]}),l&&e.jsx(R,{open:!!l,onOpenChange:s=>{s||w(null)},children:e.jsxs(G,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(q,{children:[e.jsx(Y,{children:"Club Details"}),e.jsx(Z,{children:"View detailed information about the club."})]}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-primary/10 text-primary text-4xl font-bold border-2 border-primary/20 shadow-lg",children:l.logo?e.jsx("img",{src:l.logo,alt:"Club Logo",className:"w-32 h-32 rounded-full object-cover"}):l.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-xl",children:l.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Club ID: ",l.id]})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Email",value:((S=l.user)==null?void 0:S.email)||"Not specified"},{label:"Phone",value:l.phone||"Not specified"},{label:"City",value:l.city||"Not specified"},{label:"Country",value:l.country||"Not specified"},{label:"Tax Number",value:l.tax_number||"Not specified"},{label:"Invoice Prefix",value:l.invoice_prefix||"Not specified"},{label:"Organization",value:((D=l.organization)==null?void 0:D.name)||"Not specified"},{label:"Status",value:e.jsx(I,{variant:l.status?"default":"destructive",children:l.status?"Active":"Inactive"})}].map((s,r)=>e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground",children:s.label}),e.jsx("div",{className:"text-sm",children:s.value})]},r))}),l.students&&l.students.length>0&&e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{children:["Students (",l.students.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:l.students.map(s=>e.jsx("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.email&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})},s.id))})})]}),l.instructors&&l.instructors.length>0&&e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{children:["Instructors (",l.instructors.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:l.instructors.map(s=>e.jsx("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.email&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})},s.id))})})]}),l.supporters&&l.supporters.length>0&&e.jsxs(t,{children:[e.jsx(o,{children:e.jsxs(m,{children:["Supporters (",l.supporters.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:l.supporters.map(s=>e.jsx("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),s.email&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})},s.id))})})]})]})]})})]})]})}export{ze as default};
