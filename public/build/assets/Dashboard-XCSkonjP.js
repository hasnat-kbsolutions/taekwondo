import{j as e,Y as E,b as a}from"./app-ByP4EyMF.js";import{C as t,a as l,b as i,c as n}from"./card-CKPA4ccG.js";import{B as G}from"./badge-Dh2Aq8W_.js";import{W as f,B as I,C as x,w as q,A as J,q as R,S as v}from"./authenticated-layout-Qq67eihM.js";import{R as M}from"./RatingStars-DZWBoLLx.js";import{G as K,U as Q}from"./users-BmXZoUBI.js";import{H as W}from"./hourglass-r_ahzZgW.js";import{C as X}from"./circle-check-big-Btn6P261.js";import{F as P}from"./file-text-C9-O2sHM.js";import{C as S}from"./coins-j_GfTwCV.js";import{C as y}from"./circle-alert-CSaMhgHT.js";import{M as Z}from"./map-pin-CCGJE_zB.js";import{A as h}from"./arrow-right-BP2g0HWD.js";import"./button-xRIIPuWW.js";import"./input-DHU4GFng.js";import"./separator-DivMgUP8.js";import"./index-DmN_BMdc.js";import"./sun-w0LeklHu.js";import"./log-out-DV0RpnIg.js";const D=(u,p="MYR")=>{const d=Number(u)||0;return p==="JPY"?d.toLocaleString():d.toFixed(2)};function ve({studentsCount:u,instructorsCount:p,paymentsCount:d,paidCount:_,pendingCount:T,totalAmount:B,avgStudentRating:w,avgInstructorRating:k,totalRatings:Y,totalAttendanceDays:ee,presentDays:$,absentDays:F,attendanceRate:H,certificationsCount:U,amountsByCurrency:c,defaultCurrencyCode:o,upcomingEvents:j=[],paymentProofs:g=[],studentsWithUnpaidFees:b=[]}){const C=[{label:"Students",count:u,icon:e.jsx(K,{className:"h-6 w-6 text-primary"}),url:route("club.students.index")},{label:"Instructors",count:p,icon:e.jsx(Q,{className:"h-6 w-6 text-primary"}),url:route("club.instructors.index")},{label:"Total Payments",count:d,icon:e.jsx(f,{className:"h-6 w-6 text-primary"}),url:route("club.payments.index")},{label:"Paid",count:_,icon:e.jsx(I,{className:"h-6 w-6 text-green-600"}),url:route("club.payments.index")},{label:"Unpaid",count:T,icon:e.jsx(W,{className:"h-6 w-6 text-yellow-500"}),url:route("club.payments.index")},{label:"Total Amount",count:e.jsxs("div",{className:"space-y-1 w-full",children:[e.jsxs("div",{className:"text-lg font-bold",children:[o==="MYR"?"RM":o," ",D((c==null?void 0:c[o||"MYR"])||0,o||"MYR")]}),c&&Object.keys(c).length>1&&e.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:Object.entries(c).filter(([s])=>s!==o).map(([s,r])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s,":"]}),e.jsx("span",{children:D(r,s)})]},s))})]}),icon:e.jsx(f,{className:"h-6 w-6 text-primary"}),url:route("club.payments.index")},{label:"Attendance Rate",count:`${H}%`,icon:e.jsx(x,{className:"h-6 w-6 text-blue-600"}),url:route("club.attendances.index")},{label:"Present Days",count:$,icon:e.jsx(x,{className:"h-6 w-6 text-green-600"}),url:route("club.attendances.index")},{label:"Absent Days",count:F,icon:e.jsx(x,{className:"h-6 w-6 text-red-600"}),url:route("club.attendances.index")},{label:"Certifications",count:U,icon:e.jsx(q,{className:"h-6 w-6 text-purple-600"}),url:route("club.certifications.index")}],L=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),O=s=>{if(!s)return"";const[r,N]=s.split(":"),m=parseInt(r),A=m>=12?"PM":"AM";return`${m%12||12}:${N} ${A}`},V=s=>new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),z=(s,r="MYR",N)=>{const m=Number(s)||0;return`${N||(r==="MYR"?"RM":r)} ${m.toFixed(2)}`};return e.jsxs(J,{header:"Dashboard",children:[e.jsx(E,{title:"Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[g&&g.length>0&&e.jsxs(t,{className:"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-green-600"}),e.jsx(i,{className:"text-lg",children:"Payment Proofs (Today)"})]}),e.jsx(a,{href:route("club.payments.index"),className:"text-sm text-primary hover:underline",children:"View All"})]})}),e.jsx(n,{children:e.jsx("div",{className:"grid gap-3 md:grid-cols-5",children:g.map(s=>{var r;return e.jsx(a,{href:route("club.payments.index",{highlight:s.payment_id}),className:"block",children:e.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm line-clamp-1",children:[s.payment.student.name,s.payment.student.surname?` ${s.payment.student.surname}`:""]}),e.jsx(P,{className:"h-4 w-4 text-green-600 shrink-0"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium text-foreground",children:z(s.payment.amount,s.payment.currency_code,(r=s.payment.currency)==null?void 0:r.symbol)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-3 w-3"}),e.jsx("span",{children:V(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-3 w-3"}),e.jsx("span",{className:"line-clamp-1",children:s.original_filename})]})]})]})},s.id)})})})]}),b&&b.length>0&&e.jsxs(t,{className:"border-red-500 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-950/20 dark:to-pink-950/20",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-red-600"}),e.jsx(i,{className:"text-lg",children:"Students with Unpaid Fees"})]}),e.jsx(a,{href:route("club.payments.index",{status:"unpaid"}),className:"text-sm text-primary hover:underline",children:"View All"})]})}),e.jsx(n,{children:e.jsx("div",{className:"grid gap-3 md:grid-cols-5",children:b.map(s=>{var r;return e.jsx(a,{href:route("club.payments.index"),className:"block",children:e.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm line-clamp-1",children:[s.name,s.surname?` ${s.surname}`:""]}),e.jsx(y,{className:"h-4 w-4 text-red-600 shrink-0"})]}),e.jsx("div",{className:"space-y-1 text-xs text-muted-foreground",children:((r=s.feePlan)==null?void 0:r.plan)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-3 w-3"}),e.jsx("span",{className:"line-clamp-1",children:s.feePlan.plan.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsxs("span",{className:"font-medium text-foreground",children:[s.feePlan.plan.currency_code," ",Number(s.feePlan.plan.base_amount).toFixed(2)]})]})]})})]})},s.id)})})})]}),j&&j.length>0&&e.jsxs(t,{className:"border-orange-500 bg-gradient-to-r from-orange-50 to-blue-50 dark:from-orange-950/20 dark:to-blue-950/20",children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-orange-600"}),e.jsx(i,{className:"text-lg",children:"Upcoming Events"})]}),e.jsx(a,{href:route("club.events.index"),className:"text-sm text-primary hover:underline",children:"View All"})]})}),e.jsx(n,{children:e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:j.map(s=>e.jsx(a,{href:route("club.events.edit",s.id),className:"block",children:e.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm line-clamp-1",children:s.title}),e.jsx(G,{variant:"outline",className:"text-xs shrink-0",children:s.event_type})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-3 w-3"}),e.jsx("span",{children:L(s.event_date)})]}),s.start_time&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-3 w-3"}),e.jsx("span",{children:O(s.start_time)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-3 w-3"}),e.jsx("span",{className:"line-clamp-1",children:s.venue})]})]})]})},s.id))})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:"Overview Statistics"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:C.map(s=>e.jsx(a,{href:s.url,className:"block group",children:e.jsxs(t,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:s.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon,e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:s.count})})]})},s.label))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:"Rating Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(t,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Average Student Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{rating:Math.round(w),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:w.toFixed(1)})]})})]})}),e.jsx(a,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(t,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Average Instructor Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{rating:Math.round(k),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:k.toFixed(1)})]})})]})}),e.jsx(a,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(t,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Total Ratings"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:Y})})]})})]})]})]})]})}export{ve as default};
