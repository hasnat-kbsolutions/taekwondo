import{q as z,r as d,j as e,Y as A,b as x,y as N}from"./app-7XFigbmq.js";import{B as u}from"./button-CCcPhxbK.js";import{A as E,D as M,a as T,b as K,c}from"./authenticated-layout-B6kGi5TT.js";import{D as O}from"./DataTable-CYfQn6yM.js";import{L as m}from"./label-ztH3PvpF.js";import{C as R,a as k,b as V,c as F}from"./card-BKWKaNas.js";import{S as _,a as y,b as C,c as w,e as i}from"./select-Dnkl5v9W.js";import{D as G,a as L,b as P,c as q,d as B}from"./dialog-CnpdXIFW.js";import{R as I}from"./RatingStars-qTNWmiJA.js";import{E as H}from"./ellipsis-BHF0nFoR.js";import{E as U}from"./eye-C5YsUARA.js";import{S as Y}from"./square-pen-C3kw_hQn.js";import{T as J}from"./trash-2-QeIVhHGm.js";import"./input-CnohFrKr.js";import"./separator-DyyDiEGZ.js";import"./index-DEaZXpuG.js";import"./sun-NolOlq6D.js";import"./users-2aCKo87b.js";import"./log-out-Bg06zR0y.js";import"./table-uXPPKHso.js";import"./index-CHEfl8Xa.js";import"./index-D4rJs81K.js";import"./chevron-down-5jzcqLDA.js";const Q=t=>[{header:"#",cell:({row:r})=>r.index+1,meta:{sticky:!0,left:"0px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[60px] w-[60px]"}},{header:"IC Number",accessorKey:"ic_number",meta:{sticky:!0,left:"60px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[120px]"}},{header:"Name",accessorKey:"name",meta:{sticky:!0,left:"180px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[150px]"}},{header:"Photo",cell:({row:r})=>r.original.profile_picture?e.jsx("img",{src:r.original.profile_picture,alt:"Instructor",className:"w-10 h-10 object-cover rounded-full"}):"-"},{header:"Email",accessorKey:"email"},{header:"Mobile",accessorKey:"mobile"},{header:"Grade",accessorKey:"grade"},{header:"Gender",accessorKey:"gender",cell:({row:r})=>{const l=r.original.gender;return l?l.charAt(0).toUpperCase()+l.slice(1):"-"}},{header:"Organization",cell:({row:r})=>{var l;return((l=r.original.organization)==null?void 0:l.name)??"-"}},{header:"Club",cell:({row:r})=>{var l;return((l=r.original.club)==null?void 0:l.name)??"-"}},{header:"Rating",cell:({row:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{rating:typeof r.original.average_rating=="number"?Math.round(r.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.original.total_ratings,")"]})]})},{header:"Actions",cell:({row:r})=>e.jsxs(M,{children:[e.jsx(T,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsxs(K,{align:"end",children:[e.jsxs(c,{onClick:()=>t(r.original),children:[e.jsx(U,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(c,{asChild:!0,children:e.jsxs(x,{href:route("admin.instructors.edit",r.original.id),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(c,{asChild:!0,children:e.jsxs(x,{href:route("admin.instructors.destroy",r.original.id),method:"delete",as:"button",children:[e.jsx(J,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}];function ve({instructors:t,organizations:r=[],clubs:l=[],filters:h}){var b,v;const{props:W}=z(),[n,g]=d.useState(h.organization_id||""),[o,p]=d.useState(h.club_id||""),[a,j]=d.useState(null),f=(s={})=>{N.get(route("admin.instructors.index"),{organization_id:n||null,club_id:o||null,...s},{preserveScroll:!0,preserveState:!0,replace:!0})},S=()=>{g(""),p(""),N.get(route("admin.instructors.index"))};return e.jsxs(E,{header:"Instructors",children:[e.jsx(A,{title:"Instructors"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(R,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between",children:[e.jsx(V,{children:"Instructors"}),e.jsx(x,{href:route("admin.instructors.create"),children:e.jsx(u,{children:"Add Instructor"})})]}),e.jsxs(F,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(m,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(_,{value:n,onValueChange:s=>{g(s),f({club_id:o})},children:[e.jsx(y,{children:e.jsx(C,{placeholder:"All Organizations"})}),e.jsxs(w,{children:[e.jsx(i,{value:"all",children:"All"}),r.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(m,{className:"text-sm mb-1",children:"Club"}),e.jsxs(_,{value:o,onValueChange:s=>{p(s),f({organization_id:n})},children:[e.jsx(y,{children:e.jsx(C,{placeholder:"All Clubs"})}),e.jsxs(w,{children:[e.jsx(i,{value:"all",children:"All"}),l.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(u,{variant:"secondary",onClick:S,children:"Reset Filters"})})]})}),e.jsx(O,{columns:Q(s=>j(s)),data:t})]})]}),a&&e.jsx(G,{open:!!a,onOpenChange:s=>{s||j(null)},children:e.jsxs(L,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(q,{children:"Instructor Details"}),e.jsx(B,{children:"View detailed information about the instructor."})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.profile_picture?e.jsx("img",{src:a.profile_picture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-2 border-gray-200 shadow-lg"}):e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-gray-100 text-gray-400 text-sm italic border-2 border-gray-200",children:"No Image"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.grade})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Email",value:a.email},{label:"Mobile",value:a.mobile||"Not specified"},{label:"IC Number",value:a.ic_number||"Not specified"},{label:"Grade",value:a.grade||"Not specified"},{label:"Gender",value:a.gender?a.gender.charAt(0).toUpperCase()+a.gender.slice(1):"Not specified"},{label:"Organization",value:((b=a.organization)==null?void 0:b.name)||"Not assigned"},{label:"Club",value:((v=a.club)==null?void 0:v.name)||"Not assigned"},{label:"Address",value:a.address||"Not specified"},{label:"Rating",value:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{rating:typeof a.average_rating=="number"?Math.round(a.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[typeof a.average_rating=="number"?a.average_rating.toFixed(1):"0.0"," ","(",a.total_ratings," ","ratings)"]})]})}].map((s,D)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{className:"text-sm font-medium text-muted-foreground",children:s.label}),e.jsx("div",{className:"text-sm",children:s.value})]},D))})]})]})})]})]})}export{ve as default};
