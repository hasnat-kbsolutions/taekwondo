import{W as h,j as e,Y as j}from"./app-Bk__NUyR.js";import{A as f}from"./authenticated-layout-YlO6j7OP.js";import{I as c}from"./input-B9cDc4UL.js";import{T as g}from"./textarea-DkJthq2y.js";import{B as m}from"./button-smLTRYM9.js";import{L as d}from"./label-BhyDlvqu.js";import{C as v,a as C,b as S,c as _}from"./card-lmL7nzWO.js";import{S as b,a as N,b as y,c as E,e as F}from"./select-BB-HpjLV.js";import"./separator-VAPR6h-8.js";import"./index-BwyuI8_P.js";import"./sun-Cwk4OBxP.js";import"./users-Bes5WrE6.js";import"./log-out-C7YU2t2a.js";import"./index-BGqZ_pcS.js";import"./index-7iZjociB.js";import"./chevron-down-CshEc7SL.js";function R({certification:s,students:u}){const{data:r,setData:i,put:p,processing:n,errors:l}=h({student_id:s.student_id||"",issued_at:s.issued_at?new Date(s.issued_at).toISOString().split("T")[0]:"",notes:s.notes||"",file:null}),x=t=>{t.preventDefault(),p(route("club.certifications.update",{certification:s.id}),{preserveScroll:!0,onSuccess:()=>{}})},a=t=>l[t]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l[t]});return e.jsxs(f,{header:"Edit Certification",children:[e.jsx(j,{title:"Edit Certification"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(v,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Edit Certification"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Update certification details for student."})]}),e.jsx(_,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"student_id",children:["Student"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(b,{value:r.student_id?r.student_id.toString():"",onValueChange:t=>i("student_id",parseInt(t)),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Select a student"})}),e.jsx(E,{children:u.map(t=>e.jsx(F,{value:t.id.toString(),children:t.name},t.id))})]}),a("student_id")]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"issued_at",children:"Issued Date"}),e.jsx(c,{id:"issued_at",type:"date",value:r.issued_at,onChange:t=>i("issued_at",t.target.value)}),a("issued_at")]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"notes",children:"Notes"}),e.jsx(g,{id:"notes",value:r.notes||"",onChange:t=>i("notes",t.target.value),placeholder:"Additional notes about this certification...",rows:4}),a("notes")]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"file",children:"Certificate File"}),e.jsx(c,{id:"file",type:"file",onChange:t=>{var o;return i("file",((o=t.target.files)==null?void 0:o[0])||null)},accept:".pdf,.jpg,.jpeg,.png"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Leave empty to keep the current file. Accepted formats: PDF, JPG, JPEG, PNG (max 10MB)"}),s.file&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current file:"}),e.jsx("a",{href:`/storage/${s.file}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View current certificate file"})]}),a("file")]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(m,{type:"submit",disabled:n,children:n?"Updating...":"Update Certification"}),e.jsx(m,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"})]})]})})]})})]})}export{R as default};
