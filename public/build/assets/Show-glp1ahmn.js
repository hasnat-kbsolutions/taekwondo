import{r as p,W as w,j as e,Y as R,y as A}from"./app-DT13sNDJ.js";import{A as D,S}from"./authenticated-layout-Cx1UTSKQ.js";import{C as i,a as l,b as n,c}from"./card-DvyRDZ49.js";import{B as I}from"./button-_MPKCyHU.js";import{T as z}from"./textarea-DoCttzpQ.js";import{L as a}from"./label-DUjCpFhQ.js";import{S as L,a as P,b as M,c as T,e as B}from"./select-gAEyQ-Ek.js";import{R as d}from"./RatingStars-QjpEwtxI.js";import{U as E}from"./user-CW-Dtdst.js";import{A as F}from"./award-wcuA1qwI.js";import{C as O}from"./calendar-BwzjkAKX.js";import{C as U}from"./credit-card-BX9KRV42.js";import"./input-2s6pPNzp.js";import"./separator-oS8k4mHV.js";import"./index-BVHmHscH.js";import"./createLucideIcon-CDCLNRtp.js";import"./building-2-Dmaaj3kn.js";import"./users-GnOVMNQc.js";import"./log-out-DZdJrOvn.js";import"./sun-CNh23O19.js";import"./index-RCdHDkqR.js";import"./index-g2AH_h-X.js";import"./chevron-down-Bm3UrJxU.js";const me=({student:t,ratingsReceived:m,ratingsGiven:x,instructors:C,stats:o})=>{var y,b;const[h,g]=p.useState(""),[j,u]=p.useState(0),[f,N]=p.useState(""),{processing:v,errors:r}=w({rated_id:"",rated_type:"App\\Models\\Instructor",rating:0,comment:""}),_=s=>{s.preventDefault(),A.post(route("ratings.store"),{rated_id:h,rated_type:"App\\Models\\Instructor",rating:j,comment:f},{onSuccess:()=>{g(""),u(0),N("")}})};return e.jsxs(D,{header:"My Profile",children:[e.jsx(R,{title:"My Profile"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"Profile Information"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.name," ",t.surname]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-lg",children:t.email})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"text-lg",children:t.phone})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Grade"}),e.jsx("p",{className:"text-lg",children:t.grade})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"text-lg",children:t.gender})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{className:"text-lg",children:t.dob?new Date(t.dob).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Nationality"}),e.jsx("p",{className:"text-lg",children:t.nationality})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"City"}),e.jsx("p",{className:"text-lg",children:t.city})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Country"}),e.jsx("p",{className:"text-lg",children:t.country})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Club"}),e.jsx("p",{className:"text-lg",children:((y=t.club)==null?void 0:y.name)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsx("p",{className:"text-lg",children:((b=t.organization)==null?void 0:b.name)||"Not assigned"})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Received (",m.length,")"]})}),e.jsx(c,{children:m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["by"," ",s.rater_name," ","(",s.rater_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings received yet."})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Given (",x.length,")"]})}),e.jsx(c,{children:x.length>0?e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["to"," ",s.rated_name," ","(",s.rated_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings given yet."})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Statistics"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Certifications"})]}),e.jsx("span",{className:"font-semibold",children:o.certifications_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Attendances"})]}),e.jsx("span",{className:"font-semibold",children:o.attendances_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Payments"})]}),e.jsx("span",{className:"font-semibold",children:o.payments_count})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Average Rating"})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(d,{rating:typeof t.average_rating=="number"?Math.round(t.average_rating):0,readonly:!0,size:"lg"})}),e.jsx("p",{className:"text-2xl font-bold",children:typeof t.average_rating=="number"?t.average_rating.toFixed(1):"0.0"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.total_ratings," rating",t.total_ratings!==1?"s":""]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Rate an Instructor"})}),e.jsx(c,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"instructor",children:"Select Instructor"}),e.jsxs(L,{value:h,onValueChange:g,children:[e.jsx(P,{children:e.jsx(M,{placeholder:"Choose an instructor"})}),e.jsx(T,{children:C.map(s=>e.jsxs(B,{value:s.id.toString(),children:[s.name," (",s.grade,")"]},s.id))})]}),r.rated_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rated_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Rating"}),e.jsx(d,{rating:j,onRatingChange:u,size:"md"}),r.rating&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rating})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"comment",children:"Comment (Optional)"}),e.jsx(z,{id:"comment",value:f,onChange:s=>N(s.target.value),placeholder:"Share your experience...",rows:3}),r.comment&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.comment})]}),e.jsx(I,{type:"submit",disabled:!h||j===0||v,className:"w-full",children:v?"Submitting...":"Submit Rating"})]})})]})]})]})})]})};export{me as default};
