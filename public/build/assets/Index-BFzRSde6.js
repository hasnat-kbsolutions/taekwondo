import{j as e,b as p,r as n,Y as F,y as z}from"./app-CrzSoxxC.js";import{D as T}from"./DataTable-ClnoAR1X.js";import{B as v}from"./button-C-1r8nU5.js";import{D as M,a as L,b as G,c as h,A as R}from"./authenticated-layout-CPhzq8EM.js";import{B}from"./badge-DSEe3gjG.js";import{E as H}from"./ellipsis-D9Gm6v4o.js";import{C as P,a as K,b as E,c as O}from"./card-CGNW-J2A.js";import{L as o}from"./label-DyYi2g5n.js";import{S as m,a as u,b as j,c as g,e as l}from"./select-B5GQ-7_D.js";import{C as V}from"./country-dropdown-B8SH9uiY.js";import{D as W,a as Y,b as q,c as J}from"./dialog-hJqeXgH9.js";import"./table-C-Sjlzy-.js";import"./input-NI_pwxrf.js";import"./index-DDgHXzHz.js";import"./index-DipoLmT8.js";import"./index-COvowkGC.js";import"./chevron-down-lLMB5SCt.js";import"./popover-DW48IWzc.js";const Q=x=>[{header:"#",cell:({row:i})=>i.index+1},{id:"profile_image",header:"Photo",cell:({row:i})=>i.original.profile_image?e.jsx("img",{src:i.original.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-400 italic",children:"No image"})},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"status",header:"Status",cell:({row:i})=>e.jsx(B,{variant:i.original.status?"default":"destructive",children:i.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:i})=>{const r=i.original;return e.jsxs(M,{children:[e.jsx(L,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsx(h,{onClick:()=>x(r),children:"View"}),e.jsx(h,{asChild:!0,children:e.jsx(p,{href:route("admin.students.edit",r.id),children:"Edit"})}),e.jsx(h,{asChild:!0,children:e.jsx(p,{href:route("admin.students.destroy",r.id),method:"delete",as:"button",children:"Delete"})})]})]})}}];function ge({students:x,organizations:i=[],clubs:r=[],nationalities:U=[],countries:X=[],filters:d}){const[f,N]=n.useState(d.organization_id||""),[y,S]=n.useState(d.club_id||""),[C,b]=n.useState(d.nationality||""),[D,w]=n.useState(d.country||""),[_,A]=n.useState(d.status||""),[t,I]=n.useState(null),c=s=>{z.get(route("admin.students.index"),{organization_id:s.organization_id??(f||null),club_id:s.club_id??(y||null),nationality:s.nationality??(C||null),country:s.country??(D||null),status:s.status??(_||null)},{preserveScroll:!0,preserveState:!0,replace:!0})},k=()=>{N(""),S(""),b(""),w(""),A(""),z.get(route("admin.students.index"),{},{preserveScroll:!0,preserveState:!1,replace:!0})};return e.jsxs(R,{header:"Students",children:[e.jsx(F,{title:"Students"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(P,{children:[e.jsx(K,{className:"flex flex-row items-center justify-between",children:e.jsx(E,{children:"Filters"})}),e.jsx(O,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(o,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(m,{value:f,onValueChange:s=>{const a=s==="all"?"":s;N(a),c({organization_id:a})},children:[e.jsx(u,{children:e.jsx(j,{placeholder:"All Organizations"})}),e.jsxs(g,{children:[e.jsx(l,{value:"all",children:"All"}),i.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(o,{className:"text-sm mb-1",children:"Club"}),e.jsxs(m,{value:y,onValueChange:s=>{const a=s==="all"?"":s;S(a),c({club_id:a})},children:[e.jsx(u,{children:e.jsx(j,{placeholder:"All Clubs"})}),e.jsxs(g,{children:[e.jsx(l,{value:"all",children:"All"}),r.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(o,{className:"text-sm mb-1",children:"Nationality"}),e.jsx(V,{placeholder:"All Nationalities",defaultValue:C||"",onChange:s=>{const a=(s==null?void 0:s.alpha3)||"";b(a),c({nationality:a})},slim:!1})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(o,{className:"text-sm mb-1",children:"Country"}),e.jsx(V,{placeholder:"All Countries",defaultValue:D||"",onChange:s=>{const a=(s==null?void 0:s.alpha3)||"";w(a),c({country:a})}})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(o,{className:"text-sm mb-1",children:"Status"}),e.jsxs(m,{value:_,onValueChange:s=>{const a=s==="all"?"":s;A(a),c({status:a})},children:[e.jsx(u,{children:e.jsx(j,{placeholder:"All Statuses"})}),e.jsxs(g,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end ",children:e.jsx(v,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-primary text-black",onClick:k,children:"Reset Filters"})})]})})]}),e.jsxs(P,{children:[e.jsxs(K,{className:"flex flex-row items-center justify-between",children:[e.jsx(E,{children:"Students"}),e.jsx(p,{href:route("admin.students.create"),children:e.jsx(v,{children:"Add Student"})})]}),e.jsx(O,{children:e.jsx(T,{columns:Q(s=>I(s)),data:x})})]}),t&&e.jsx(W,{open:!!t,onOpenChange:s=>{s||I(null)},children:e.jsxs(Y,{children:[e.jsx(q,{children:"Student Details"}),e.jsx(J,{children:"Full student details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Code:"})," ",t.code]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",t.name," ",t.surname]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",t.gender]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Nationality:"})," ",t.nationality]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Country:"})," ",t.country]}),e.jsxs("div",{children:[e.jsx("strong",{children:"DOB:"})," ",t.dob]}),e.jsxs("div",{children:[e.jsx("strong",{children:"DOD:"})," ",t.dod||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Grade:"})," ",t.grade]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID/Passport:"})," ",t.id_passport]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Skype:"})," ",t.skype]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Website:"})," ",t.website]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",t.street,","," ",t.city,","," ",t.postal_code]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx(B,{variant:t.status?"default":"destructive",children:t.status?"Active":"Inactive"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("strong",{children:"Profile Image:"}),e.jsx("div",{className:"mt-1",children:t.profile_image?e.jsx("img",{src:t.profile_image,alt:"Profile",className:"w-24 h-24 rounded object-cover"}):e.jsx("span",{className:"italic text-gray-500",children:"No image"})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("strong",{children:"ID/Passport Image:"}),e.jsx("div",{className:"mt-1",children:t.id_passport_image?e.jsx("img",{src:t.id_passport_image,alt:"ID",className:"w-24 h-24 rounded object-cover"}):e.jsx("span",{className:"italic text-gray-500",children:"No image"})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("strong",{children:"Signature Image:"}),e.jsx("div",{className:"mt-1",children:t.signature_image?e.jsx("img",{src:t.signature_image,alt:"Signature",className:"w-24 h-24 rounded object-cover"}):e.jsx("span",{className:"italic text-gray-500",children:"No image"})})]})]})]})})]})]})}export{ge as default};
