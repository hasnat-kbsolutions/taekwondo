import{j as e,b as h,r,Y as F,y as w}from"./app-fkVW5Yol.js";import{D as M}from"./DataTable-DwtZzX_K.js";import{B as m}from"./button-C9OsE3FY.js";import{D as O,a as P,b as T,c as A,A as L}from"./authenticated-layout-D64KPrcx.js";import{B as k}from"./badge-Vt28zRuF.js";import{E as R}from"./ellipsis-CsRHbhSd.js";import{C as _,a as D,b as I,c as z}from"./card-mwGPUOOY.js";import{L as d}from"./label-CHCV23bO.js";import{S as c,a as o,b as u,c as x,e as l}from"./select-C_tYRZea.js";import{C as K}from"./country-dropdown-CKDQvq80.js";import"./table-C5BHpoC6.js";import"./input-BPFdEJkw.js";import"./index-b64KSONF.js";import"./index-CbQVDI13.js";import"./index-JhnkQruI.js";import"./chevron-down-IE_ccq37.js";import"./popover-CoUR2VFI.js";const H=[{header:"#",cell:({row:t})=>t.index+1},{id:"profile_image",header:"Photo",cell:({row:t})=>t.original.profile_image?e.jsx("img",{src:t.original.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-400 italic",children:"No image"})},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx(k,{variant:t.original.status?"default":"destructive",children:t.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:t})=>e.jsxs(O,{children:[e.jsx(P,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs(T,{align:"end",children:[e.jsx(A,{asChild:!0,children:e.jsx(h,{href:route("admin.students.edit",t.original.id),children:"Edit"})}),e.jsx(A,{asChild:!0,children:e.jsx(h,{href:route("admin.students.destroy",t.original.id),method:"delete",as:"button",children:"Delete"})})]})]})}];function ce({students:t,organizations:E=[],clubs:V=[],nationalities:Y=[],countries:q=[],filters:i}){const[j,p]=r.useState(i.organization_id||""),[f,g]=r.useState(i.club_id||""),[y,v]=r.useState(i.nationality||""),[C,S]=r.useState(i.country||""),[N,b]=r.useState(i.status||""),n=s=>{w.get(route("admin.students.index"),{organization_id:s.organization_id??(j||null),club_id:s.club_id??(f||null),nationality:s.nationality??(y||null),country:s.country??(C||null),status:s.status??(N||null)},{preserveScroll:!0,preserveState:!0,replace:!0})},B=()=>{p(""),g(""),v(""),S(""),b(""),w.get(route("admin.students.index"),{},{preserveScroll:!0,preserveState:!1,replace:!0})};return e.jsxs(L,{header:"Students",children:[e.jsx(F,{title:"Students"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(_,{children:[e.jsx(D,{className:"flex flex-row items-center justify-between",children:e.jsx(I,{children:"Filters"})}),e.jsx(z,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(c,{value:j,onValueChange:s=>{const a=s==="all"?"":s;p(a),n({organization_id:a})},children:[e.jsx(o,{children:e.jsx(u,{placeholder:"All Organizations"})}),e.jsxs(x,{children:[e.jsx(l,{value:"all",children:"All"}),E.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Club"}),e.jsxs(c,{value:f,onValueChange:s=>{const a=s==="all"?"":s;g(a),n({club_id:a})},children:[e.jsx(o,{children:e.jsx(u,{placeholder:"All Clubs"})}),e.jsxs(x,{children:[e.jsx(l,{value:"all",children:"All"}),V.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Nationality"}),e.jsx(K,{placeholder:"All Nationalities",defaultValue:y||"",onChange:s=>{const a=(s==null?void 0:s.alpha3)||"";v(a),n({nationality:a})},slim:!1})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Country"}),e.jsx(K,{placeholder:"All Countries",defaultValue:C||"",onChange:s=>{const a=(s==null?void 0:s.alpha3)||"";S(a),n({country:a})}})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Status"}),e.jsxs(c,{value:N,onValueChange:s=>{const a=s==="all"?"":s;b(a),n({status:a})},children:[e.jsx(o,{children:e.jsx(u,{placeholder:"All Statuses"})}),e.jsxs(x,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end ",children:e.jsx(m,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-primary text-black",onClick:B,children:"Reset Filters"})})]})})]}),e.jsxs(_,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsx(I,{children:"Students"}),e.jsx(h,{href:route("admin.students.create"),children:e.jsx(m,{children:"Add Student"})})]}),e.jsx(z,{children:e.jsx(M,{columns:H,data:t})})]})]})]})}export{ce as default};
