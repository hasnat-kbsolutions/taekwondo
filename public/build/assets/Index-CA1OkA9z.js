import{j as e,b as N,r as d,Y as G,y as z}from"./app-CrzSoxxC.js";import{D as M}from"./DataTable-ClnoAR1X.js";import{B as b}from"./button-C-1r8nU5.js";import{D as k,a as B,b as O,c as C,A as P}from"./authenticated-layout-CPhzq8EM.js";import{E as L}from"./ellipsis-D9Gm6v4o.js";import{C as I,a as E,b as T,c as F}from"./card-CGNW-J2A.js";import{L as p}from"./label-DyYi2g5n.js";import{S as j,a as g,b as v,c as f,e as l}from"./select-B5GQ-7_D.js";import{D as R,a as H,b as Y,c as q}from"./dialog-hJqeXgH9.js";import{B as J}from"./badge-DSEe3gjG.js";import"./table-C-Sjlzy-.js";import"./input-NI_pwxrf.js";import"./index-DDgHXzHz.js";import"./index-DipoLmT8.js";import"./index-COvowkGC.js";import"./chevron-down-lLMB5SCt.js";const Q=S=>[{header:"#",cell:({row:t})=>t.index+1},{accessorKey:"name",header:"Name"},{accessorKey:"surename",header:"Surename"},{accessorKey:"gender",header:"Gender"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"type",header:"Type"},{id:"actions",header:"Actions",cell:({row:t})=>{const n=t.original;return e.jsxs(k,{children:[e.jsx(B,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(O,{align:"end",children:[e.jsx(C,{onClick:()=>S(n),children:"View"}),e.jsx(C,{asChild:!0,children:e.jsx(N,{href:route("admin.supporters.edit",n.id),children:"Edit"})}),e.jsx(C,{asChild:!0,children:e.jsx(N,{href:route("admin.supporters.destroy",n.id),method:"delete",as:"button",children:"Delete"})})]})]})}}];function xe({supporters:S,organizations:t,clubs:n,filters:c}){const[i,y]=d.useState(c.organization_id||""),[o,w]=d.useState(c.club_id||""),[x,D]=d.useState(c.gender||""),[h,A]=d.useState(c.status||""),[a,_]=d.useState(null),m=({organization_id:s,club_id:r,gender:u,status:V})=>{z.get(route("admin.supporters.index"),{organization_id:s,club_id:r,gender:u,status:V},{preserveScroll:!0,preserveState:!0,replace:!0})},K=()=>{y(""),w(""),D(""),A(""),z.get(route("admin.supporters.index"))};return e.jsxs(P,{header:"Supporters",children:[e.jsx(G,{title:"Supporters"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(I,{children:[e.jsx(E,{children:e.jsx(T,{children:"Filters"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(j,{value:i,onValueChange:s=>{y(s==="all"?"":s),m({organization_id:i,club_id:o,gender:x,status:h})},children:[e.jsx(g,{children:e.jsx(v,{placeholder:"All Organizations"})}),e.jsxs(f,{children:[e.jsx(l,{value:"all",children:"All"}),t.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Club"}),e.jsxs(j,{value:o,onValueChange:s=>{const r=s==="all"?"":s;w(r),m({organization_id:i,club_id:r,gender:x,status:h})},children:[e.jsx(g,{children:e.jsx(v,{placeholder:"All Clubs"})}),e.jsxs(f,{children:[e.jsx(l,{value:"all",children:"All"}),n.map(s=>e.jsx(l,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Gender"}),e.jsxs(j,{value:x,onValueChange:s=>{const r=s==="all"?"":s;D(r),m({organization_id:i,club_id:o,gender:r,status:h})},children:[e.jsx(g,{children:e.jsx(v,{placeholder:"All Genders"})}),e.jsxs(f,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"male",children:"Male"}),e.jsx(l,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Status"}),e.jsxs(j,{value:h,onValueChange:s=>{const r=s==="all"?"":s;A(r),m({organization_id:i,club_id:o,gender:x,status:r})},children:[e.jsx(g,{children:e.jsx(v,{placeholder:"All Statuses"})}),e.jsxs(f,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"active",children:"Active"}),e.jsx(l,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(b,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-primary text-black",onClick:K,children:"Reset Filters"})})]})})]}),e.jsxs(I,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between",children:[e.jsx(T,{children:"Supporters"}),e.jsx(N,{href:route("admin.supporters.create"),children:e.jsx(b,{children:"Add Supporter"})})]}),e.jsx(F,{children:e.jsx(M,{columns:Q(s=>_(s)),data:S})})]}),a&&e.jsx(R,{open:!!a,onOpenChange:s=>{s||_(null)},children:e.jsxs(H,{children:[e.jsx(Y,{children:"Supporter Details"}),e.jsx(q,{children:"Full supporter details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",a.name," ",a.surename]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",a.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Phone:"})," ",a.phone]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",a.gender]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Country:"})," ",a.country]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",a.type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"}),e.jsx(J,{variant:a.status?"default":"destructive",children:a.status?"Active":"Inactive"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("strong",{children:"Profile Image:"}),e.jsx("div",{className:"mt-1",children:a.profile_image?e.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-24 h-24 rounded object-cover",onError:s=>{var u;s.currentTarget.style.display="none";const r=document.createElement("span");r.className="italic text-gray-500",r.textContent="No image",(u=s.currentTarget.parentNode)==null||u.appendChild(r)}}):e.jsx("span",{className:"italic text-gray-500",children:"No image"})})]})]})]})})]})]})}export{xe as default};
