import{r as j,W as b,j as e,Y as E}from"./app-C7QOoTmK.js";import{B as L}from"./button-BwnA5GFK.js";import{I as o}from"./input-Dw712aEx.js";import{L as i}from"./label-CSw90S_9.js";import{S as g,a as v,b as f,c as w,e as c}from"./select-DXiczpqR.js";import{C as z,a as k,b as P,c as A}from"./card-Bz-PV3i5.js";import{t as C,A as D}from"./authenticated-layout-Byski1ZN.js";import{C as I}from"./country-dropdown-cSkSqO1e.js";import"./index-C2X7DR8K.js";import"./index-BJakivTH.js";import"./index-Ckf3Y_8P.js";import"./chevron-down-CFpZKIZV.js";import"./popover-BvSdmc91.js";function K({club:a,organizations:_}){var p,h;const[m,x]=j.useState(a.logo_url||null),{data:n,setData:t,put:y,processing:N,errors:l}=b({name:((p=a.user)==null?void 0:p.name)||"",email:((h=a.user)==null?void 0:h.email)||"",password:"",password_confirmation:"",organization_id:a.organization_id.toString(),city:a.city??"",country:a.country??"",street:a.street??"",postal_code:a.postal_code??"",tax_number:a.tax_number??"",invoice_prefix:a.invoice_prefix??"",phone:a.phone??"",skype:a.skype??"",notification_emails:a.notification_emails??"",website:a.website??"",status:a.status??!1,logo:null}),S=s=>{s.preventDefault(),C.dismiss(),y(route("admin.clubs.update",a.id))};return j.useEffect(()=>{Object.keys(l).length>0&&Object.entries(l).forEach(([s,r])=>{C.error(r)})},[l]),e.jsxs(D,{header:"Edit Club",children:[e.jsx(E,{title:"Edit Club"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(z,{children:[e.jsxs(k,{children:[e.jsx(P,{children:"Edit Club"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Fields marked with * are required."})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:S,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(i,{children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{value:n.name,onChange:s=>t("name",s.target.value)})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(i,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{type:"email",value:n.email,onChange:s=>t("email",s.target.value)})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:"Password"}),e.jsx(o,{type:"password",value:n.password,onChange:s=>t("password",s.target.value)})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:"Confirm Password"}),e.jsx(o,{type:"password",value:n.password_confirmation,onChange:s=>t("password_confirmation",s.target.value)})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(i,{children:["Organization ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(g,{value:n.organization_id,onValueChange:s=>t("organization_id",s),children:[e.jsx(v,{children:e.jsx(f,{placeholder:"Select Organization"})}),e.jsx(w,{children:_.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))})]})]}),["phone","skype","notification_emails","website","tax_number","invoice_prefix","city","street","postal_code"].map(s=>e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:s.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase())}),e.jsx(o,{value:n[s]??"",onChange:r=>t(s,r.target.value)})]},s)),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:"Country"}),e.jsx(I,{defaultValue:n.country,onChange:s=>t("country",s.alpha3),placeholder:"Select country",slim:!1})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:"Logo"}),m&&e.jsx("img",{src:m,alt:"Club Logo Preview",className:"h-16 w-auto rounded border mb-2"}),e.jsx(o,{type:"file",onChange:s=>{var u;const r=((u=s.target.files)==null?void 0:u[0])??null;if(t("logo",r),r){const d=new FileReader;d.onloadend=()=>x(d.result),d.readAsDataURL(r)}else x(null)}})]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(i,{children:"Status"}),e.jsxs(g,{value:n.status?"1":"0",onValueChange:s=>t("status",s==="1"),children:[e.jsx(v,{children:e.jsx(f,{placeholder:"Select Status"})}),e.jsxs(w,{children:[e.jsx(c,{value:"1",children:"Active"}),e.jsx(c,{value:"0",children:"Inactive"})]})]})]}),e.jsx("div",{className:"w-full px-2 mt-4",children:e.jsx(L,{type:"submit",disabled:N,children:"Submit"})})]})})]})})]})}export{K as default};
