import{q as y,j as e,Y as v}from"./app-Cf1f6aE6.js";import{s as w}from"./index-sFwGSaal.js";import{B as f}from"./button-DYamWovx.js";import{B as k}from"./badge-CeMOusya.js";import{A as D}from"./authenticated-layout-BWUFX903.js";import{T as A,a as C,b as c,c as p,d as T,e as o}from"./table-CqNVoMw1.js";import{A as B}from"./arrow-left-aO1oCxxG.js";import{D as L}from"./download-B2XQRWNO.js";import{B as R}from"./users-CzVlTGY4.js";import{U as I}from"./user-dMVHOv4J.js";import{C as S}from"./credit-card-CkwkDmXU.js";import{L as _}from"./landmark-B1a_tki6.js";import"./input-Cs79MDSo.js";import"./separator-C9zOXLy-.js";import"./index-DAYrs0Gt.js";import"./sun-DHFgHePi.js";import"./log-out-arwFQeNm.js";function ee(){const{payment:s,download:U,autoDownload:M}=y().props;if(!s)return e.jsx("div",{children:"No payment found."});const a=s.student||{},r=a.club||{},h=a.organization||{},n=s.currency||{symbol:"$",code:"USD"},u=s.items||[],b=s.total||s.amount||0,g=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-",l=(t,i)=>{const x=Number(t)||0;return i==="JPY"?x.toLocaleString():x.toFixed(2)},m=`${r.invoice_prefix||"INV"}-${s.id.toString().padStart(6,"0")}`;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
                       @media print {
                           @page {
                               size: A4;
                               margin: 15mm;
                           }
                           body {
                               margin: 0;
                               padding: 0;
                               background: white !important;
                               color: black !important;
                           }
                           * {
                               background: white !important;
                               color: black !important;
                               border-color: #d1d5db !important;
                           }
                           .invoice-container {
                               width: 100% !important;
                               max-width: 100% !important;
                               margin: 0 !important;
                               padding: 0 !important;
                               box-shadow: none !important;
                               border: 1px solid #d1d5db !important;
                               border-radius: 0 !important;
                               background: white !important;
                           }
                           .print-hidden {
                               display: none !important;
                           }
                           /* Hide theme header and navigation on print */
                           header, nav, .header, .navigation, [role="banner"] {
                               display: none !important;
                           }
                       }
            `}),e.jsxs(D,{children:[e.jsx(v,{title:`Invoice #${m}`}),e.jsxs("div",{className:"min-h-screen bg-background py-8 px-4 print:bg-white print:py-0 print:px-0 print:m-0",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-4 flex justify-between items-center print:hidden",children:[e.jsxs(f,{variant:"outline",onClick:()=>window.history.back(),children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(f,{onClick:async t=>{t.preventDefault();try{const i=w("invoice.download",{payment:s.id}),N=await(await fetch(i)).blob(),j=window.URL.createObjectURL(N),d=document.createElement("a");d.href=j,d.download=`${m}.pdf`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(j)}catch(i){console.error("Download failed:",i)}},variant:"default",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Download Invoice"]})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto bg-card shadow-lg rounded-lg overflow-hidden border invoice-container",children:[e.jsxs("div",{className:"bg-muted border-b p-6 print:bg-white print:p-4 print:border-b print:border-gray-300",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"flex items-center space-x-3",children:r.logo?e.jsx("img",{src:r.logo,alt:`${r.name} Logo`,className:"w-20 h-20 object-contain"}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-foreground print:text-black",children:r.name||"Taekwondo Club"}),h.name&&e.jsx("p",{className:"text-muted-foreground text-xs print:text-gray-700 ml-0",children:h.name})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-lg font-bold mb-1 text-foreground print:text-black",children:"INVOICE"}),e.jsxs("p",{className:"text-muted-foreground text-sm print:text-gray-700",children:["#",m]})]})]}),e.jsxs("div",{className:"flex justify-between mt-3 pt-3 border-t text-sm",children:[e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-muted-foreground text-xs print:text-gray-500",children:"Invoice Date"}),e.jsx("p",{className:"font-semibold text-foreground print:text-black",children:g(s.pay_at)})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("p",{className:"text-muted-foreground text-xs print:text-gray-500",children:"Payment Month"}),e.jsx("p",{className:"font-semibold text-foreground print:text-black",children:s.payment_month})]}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"text-muted-foreground text-xs print:text-gray-500",children:"Status"}),e.jsx(k,{variant:s.status==="paid"?"default":"destructive",className:"capitalize text-xs px-2 py-0.5",children:s.status})]})]})]}),e.jsxs("div",{className:"p-6 print:p-4",children:[e.jsxs("div",{className:"flex justify-between gap-6 mb-4 print:gap-4 print:mb-3",children:[e.jsxs("div",{className:"flex-1 text-left pr-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center print:text-black",children:[e.jsx(R,{className:"w-4 h-4 mr-1"}),"From"]}),e.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground print:text-gray-700",children:[!r.logo&&e.jsx("p",{className:"font-semibold text-foreground print:text-black",children:r.name||"Taekwondo Club"}),r.street&&e.jsx("p",{className:"text-xs",children:r.street}),r.city&&r.country&&e.jsxs("p",{className:"text-xs",children:[r.city,", ",r.country]}),r.phone&&e.jsx("p",{className:"text-xs",children:r.phone}),r.email&&e.jsx("p",{className:"text-xs",children:r.email})]})]}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center justify-end print:text-black",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),"Bill To"]}),e.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground print:text-gray-700",children:[e.jsxs("p",{className:"font-semibold text-foreground print:text-black",children:[a.name," ",a.surname]}),e.jsxs("p",{className:"text-xs",children:["Student ID: ",a.uid]}),a.email&&e.jsx("p",{className:"text-xs",children:a.email}),a.phone&&e.jsx("p",{className:"text-xs",children:a.phone})]})]})]}),e.jsxs("div",{className:"mb-4 print:mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center print:text-black",children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),"Payment Details"]}),e.jsx("div",{className:"rounded-lg border",children:e.jsxs(A,{children:[e.jsx(C,{children:e.jsxs(c,{children:[e.jsx(p,{children:"Description"}),e.jsx(p,{children:"Method"}),e.jsx(p,{className:"text-right",children:"Amount"})]})}),e.jsxs(T,{children:[u.length>0?u.map((t,i)=>e.jsxs(c,{children:[e.jsx(o,{className:"font-medium text-sm",children:t.description||"Payment"}),e.jsx(o,{className:"text-muted-foreground text-sm",children:s.method||"N/A"}),e.jsxs(o,{className:"text-right font-medium text-sm",children:[n.code==="MYR"?"RM ":n.symbol,l(t.amount,n.code)]})]},i)):e.jsxs(c,{children:[e.jsx(o,{className:"font-medium text-sm",children:"Monthly Payment"}),e.jsx(o,{className:"text-muted-foreground text-sm",children:s.method||"N/A"}),e.jsxs(o,{className:"text-right font-medium text-sm",children:[n.code==="MYR"?"RM ":n.symbol,l(b,n.code)]})]}),e.jsxs(c,{className:"bg-muted print:bg-gray-50 border-t-2",children:[e.jsxs(o,{colSpan:2,className:"font-bold text-foreground print:text-black",children:["Total Amount (",n.code,")"]}),e.jsxs(o,{className:"text-right font-bold text-lg text-foreground print:text-black",children:[n.code==="MYR"?"RM ":n.symbol,l(b,n.code)]})]})]})]})})]}),s.bank_information&&s.bank_information.length>0&&e.jsxs("div",{className:"mb-4 print:mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-2 flex items-center print:text-black",children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Bank Information"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 print:grid-cols-2",children:s.bank_information.map((t,i)=>e.jsxs("div",{className:"p-3 border rounded-lg bg-muted print:bg-gray-50",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-1 text-sm print:text-black",children:t.bank_name}),e.jsxs("div",{className:"space-y-0.5 text-xs text-muted-foreground print:text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Account Name:"})," ",t.account_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Account Number:"})," ",t.account_number]}),t.iban&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"IBAN:"})," ",t.iban]}),t.swift_code&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"SWIFT Code:"})," ",t.swift_code]}),t.branch&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Branch:"})," ",t.branch]}),t.currency&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Currency:"})," ",t.currency]})]})]},i))})]}),s.notes&&e.jsxs("div",{className:"mb-3 p-3 bg-muted border-l-4 border-primary rounded print:bg-gray-50 print:border-gray-400 print:mb-2 print:p-2",children:[e.jsx("h4",{className:"text-xs font-medium text-foreground mb-1 print:text-black",children:"Notes:"}),e.jsx("p",{className:"text-xs text-muted-foreground print:text-gray-700",children:s.notes})]}),e.jsx("div",{className:"border-t pt-4 print:border-gray-300 print:pt-3 print-hidden",children:e.jsxs("div",{className:"text-right",children:[e.jsx("h4",{className:"text-xs font-medium text-foreground mb-1 print:text-black",children:"Thank You!"}),e.jsx("p",{className:"text-xs text-muted-foreground print:text-gray-700",children:"We appreciate your business and continued support."})]})})]}),e.jsx("div",{className:"bg-muted px-6 py-3 print:hidden border-t",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Generated on"," ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})})})]})]})]})]})}export{ee as default};
