import{q as S,r as g,j as e,Y as N,y as _}from"./app-CxTZuyGd.js";import{A as P}from"./authenticated-layout-CluqYUVf.js";import{I as h}from"./input-Jc5VxaLp.js";import{B as x}from"./button-O6GChIvF.js";import{S as d,a as i,b as c,c as o,e as l}from"./select-5N-T1TLy.js";import{C as w,a as b,b as A,c as M}from"./card-Tsyb4i5t.js";import{L as r}from"./label-BOsW4Ivz.js";import{C as V}from"./react-icons.esm-CvMd7KxP.js";import{P as I,a as D,b as L}from"./popover-C3uMaFec.js";import{C as E}from"./calendar-DmGHMwWV.js";import{f as p}from"./format-LUeNQFBy.js";import"./separator-DMAn-66q.js";import"./index-DxtcMYs9.js";import"./createLucideIcon-A8Y1Mkot.js";import"./building-2-VmDwjJQs.js";import"./users-D04CuA_a.js";import"./log-out-M-di3x_B.js";import"./sun-D6Dd0lvh.js";import"./index-BopGJWdU.js";import"./index-D8paM-Vy.js";import"./chevron-down-CaBLg_eC.js";function ae(){const{students:u,currencies:j,errors:m}=S().props,[a,v]=g.useState({student_id:"",amount:"",currency_code:"MYR",status:"paid",method:"cash",pay_at:"",payment_month:"",notes:""}),t=(s,f)=>{v(C=>({...C,[s]:f}))},y=s=>{s.preventDefault(),_.post(route("admin.payments.store"),a)},n=s=>m[s]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m[s]});return e.jsxs(P,{header:"Add Payment",children:[e.jsx(N,{title:"Add Payment"}),e.jsx("div",{className:"p-6",children:e.jsxs(w,{children:[e.jsx(b,{children:e.jsx(A,{children:"Add Payment"})}),e.jsx(M,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(r,{children:["Student",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:a.student_id,onValueChange:s=>t("student_id",s),children:[e.jsx(i,{className:"w-full",children:e.jsx(c,{placeholder:"Select Student"})}),e.jsx(o,{children:u.map(s=>e.jsx(l,{value:String(s.id),children:s.name},s.id))})]}),n("student_id")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Amount",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"number",value:a.amount,onChange:s=>t("amount",s.target.value)}),n("amount")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Currency",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:a.currency_code,onValueChange:s=>t("currency_code",s),children:[e.jsx(i,{className:"w-full",children:e.jsx(c,{placeholder:"Select Currency"})}),e.jsx(o,{children:j.map(s=>e.jsxs(l,{value:s.code,children:[s.code," -"," ",s.symbol," ",s.name]},s.code))})]}),n("currency_code")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:a.status,onValueChange:s=>t("status",s),children:[e.jsx(i,{className:"w-full",children:e.jsx(c,{placeholder:"Select Status"})}),e.jsxs(o,{children:[e.jsx(l,{value:"paid",children:"Paid"}),e.jsx(l,{value:"unpaid",children:"Unpaid"})]})]}),n("status")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Method",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:a.method,onValueChange:s=>t("method",s),children:[e.jsx(i,{className:"w-full",children:e.jsx(c,{placeholder:"Select Method"})}),e.jsxs(o,{children:[e.jsx(l,{value:"cash",children:"Cash"}),e.jsx(l,{value:"stripe",children:"Stripe"})]})]}),n("method")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Month",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:a.payment_month,onValueChange:s=>t("payment_month",s),children:[e.jsx(i,{className:"w-full",children:e.jsx(c,{placeholder:"Select Month"})}),e.jsx(o,{children:["01","02","03","04","05","06","07","08","09","10","11","12"].map(s=>e.jsx(l,{value:s,children:new Date(0,parseInt(s)-1).toLocaleString("default",{month:"long"})},s))})]}),n("payment_month")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Pay At",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(I,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:"w-full justify-start text-left font-normal "+(!a.pay_at&&"text-muted-foreground"),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),a.pay_at?p(new Date(a.pay_at),"PPP"):"Pick a date"]})}),e.jsx(L,{className:"w-auto p-0",children:e.jsx(E,{mode:"single",selected:a.pay_at?new Date(a.pay_at):void 0,onSelect:s=>t("pay_at",s?p(s,"yyyy-MM-dd"):""),initialFocus:!0})})]}),n("pay_at")]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(r,{children:"Notes"}),e.jsx(h,{value:a.notes,onChange:s=>t("notes",s.target.value)})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(x,{type:"submit",children:"Save"})})]})})]})})]})}export{ae as default};
