import{j as i,b as ie,q as xe,r as $,Y as ve,y as le}from"./app-C9plaevp.js";import{D as je}from"./DataTable-DBQPNBmL.js";import{B as q}from"./button-C1BJUHSP.js";import{D as be,a as we,b as Se,c as k,A as Oe}from"./authenticated-layout-DP7ZBxis.js";import{B as de}from"./badge-DODT6762.js";import{E as Ne}from"./ellipsis-3c2ceUVd.js";import{C as M,a as U,b as Z,c as G}from"./card-BGsvxEZM.js";import{L as Q}from"./label-C24tmB1e.js";import{S as W,a as Y,b as X,c as J,e as E}from"./select-CLsyOCY0.js";import{C as oe}from"./country-dropdown-mC_tKaQv.js";import{D as $e,a as Ce,b as De,c as Ee}from"./dialog-BsQ0S-RG.js";import"./table-CgrdWPzq.js";import"./input-BE_Le7UK.js";import"./separator-BKFerzHS.js";import"./index-aFKWu_qK.js";import"./index-BjgcLafY.js";import"./index-zV113YDh.js";import"./chevron-down-qXVyCODI.js";import"./popover-CajeMZuU.js";const Ae=l=>[{header:"#",cell:({row:e})=>e.index+1},{id:"profile_image",header:"Photo",cell:({row:e})=>e.original.profile_image?i.jsx("img",{src:e.original.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):i.jsx("span",{className:"text-gray-400 italic",children:"No image"})},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"status",header:"Status",cell:({row:e})=>i.jsx(de,{variant:e.original.status?"default":"destructive",children:e.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:e})=>{const r=e.original;return i.jsxs(be,{children:[i.jsx(we,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Ne,{className:"h-4 w-4"})})}),i.jsxs(Se,{align:"end",children:[i.jsx(k,{onClick:()=>l(r),children:"View"}),i.jsx(k,{asChild:!0,children:i.jsx(ie,{href:route("admin.students.edit",r.id),children:"Edit"})}),i.jsx(k,{asChild:!0,children:i.jsx(ie,{href:route("admin.students.destroy",r.id),method:"delete",as:"button",children:"Delete"})})]})]})}}];var Pe=String.prototype.replace,Fe=/%20/g,ee={RFC1738:"RFC1738",RFC3986:"RFC3986"},se={default:ee.RFC3986,formatters:{RFC1738:function(l){return Pe.call(l,Fe,"+")},RFC3986:function(l){return String(l)}},RFC1738:ee.RFC1738,RFC3986:ee.RFC3986},_e=se,re=Object.prototype.hasOwnProperty,A=Array.isArray,S=function(){for(var l=[],e=0;e<256;++e)l.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return l}(),Ie=function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(A(t)){for(var a=[],s=0;s<t.length;++s)typeof t[s]<"u"&&a.push(t[s]);r.obj[r.prop]=a}}},fe=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(t[a]=e[a]);return t},Te=function l(e,r,t){if(!r)return e;if(typeof r!="object"){if(A(e))e.push(r);else if(e&&typeof e=="object")(t&&(t.plainObjects||t.allowPrototypes)||!re.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return A(e)&&!A(r)&&(a=fe(e,t)),A(e)&&A(r)?(r.forEach(function(s,n){if(re.call(e,n)){var c=e[n];c&&typeof c=="object"&&s&&typeof s=="object"?e[n]=l(c,s,t):e.push(s)}else e[n]=s}),e):Object.keys(r).reduce(function(s,n){var c=r[n];return re.call(s,n)?s[n]=l(s[n],c,t):s[n]=c,s},a)},Re=function(e,r){return Object.keys(r).reduce(function(t,a){return t[a]=r[a],t},e)},ze=function(l,e,r){var t=l.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},Le=function(e,r,t,a,s){if(e.length===0)return e;var n=e;if(typeof e=="symbol"?n=Symbol.prototype.toString.call(e):typeof e!="string"&&(n=String(e)),t==="iso-8859-1")return escape(n).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var c="",u=0;u<n.length;++u){var o=n.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||s===_e.RFC1738&&(o===40||o===41)){c+=n.charAt(u);continue}if(o<128){c=c+S[o];continue}if(o<2048){c=c+(S[192|o>>6]+S[128|o&63]);continue}if(o<55296||o>=57344){c=c+(S[224|o>>12]+S[128|o>>6&63]+S[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|n.charCodeAt(u)&1023),c+=S[240|o>>18]+S[128|o>>12&63]+S[128|o>>6&63]+S[128|o&63]}return c},Be=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],a=0;a<r.length;++a)for(var s=r[a],n=s.obj[s.prop],c=Object.keys(n),u=0;u<c.length;++u){var o=c[u],f=n[o];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(r.push({obj:n,prop:o}),t.push(f))}return Ie(r),e},Qe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ve=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},He=function(e,r){return[].concat(e,r)},qe=function(e,r){if(A(e)){for(var t=[],a=0;a<e.length;a+=1)t.push(r(e[a]));return t}return r(e)},he={arrayToObject:fe,assign:Re,combine:He,compact:Be,decode:ze,encode:Le,isBuffer:Ve,isRegExp:Qe,maybeMap:qe,merge:Te},ne=he,V=se,Ke=Object.prototype.hasOwnProperty,ce={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},P=Array.isArray,ke=String.prototype.split,Me=Array.prototype.push,me=function(l,e){Me.apply(l,P(e)?e:[e])},Ue=Date.prototype.toISOString,ue=V.default,j={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ne.encode,encodeValuesOnly:!1,format:ue,formatter:V.formatters[ue],indices:!1,serializeDate:function(e){return Ue.call(e)},skipNulls:!1,strictNullHandling:!1},Ze=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ge=function l(e,r,t,a,s,n,c,u,o,f,g,p,x,y){var m=e;if(typeof c=="function"?m=c(r,m):m instanceof Date?m=f(m):t==="comma"&&P(m)&&(m=ne.maybeMap(m,function(w){return w instanceof Date?f(w):w})),m===null){if(a)return n&&!x?n(r,j.encoder,y,"key",g):r;m=""}if(Ze(m)||ne.isBuffer(m)){if(n){var R=x?r:n(r,j.encoder,y,"key",g);if(t==="comma"&&x){for(var F=ke.call(String(m),","),z="",C=0;C<F.length;++C)z+=(C===0?"":",")+p(n(F[C],j.encoder,y,"value",g));return[p(R)+"="+z]}return[p(R)+"="+p(n(m,j.encoder,y,"value",g))]}return[p(r)+"="+p(String(m))]}var _=[];if(typeof m>"u")return _;var h;if(t==="comma"&&P(m))h=[{value:m.length>0?m.join(",")||null:void 0}];else if(P(c))h=c;else{var L=Object.keys(m);h=u?L.sort(u):L}for(var O=0;O<h.length;++O){var N=h[O],B=typeof N=="object"&&typeof N.value<"u"?N.value:m[N];if(!(s&&B===null)){var d=P(m)?typeof t=="function"?t(r,N):r:r+(o?"."+N:"["+N+"]");me(_,l(B,d,t,a,s,n,c,u,o,f,g,p,x,y))}}return _},We=function(e){if(!e)return j;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||j.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=V.default;if(typeof e.format<"u"){if(!Ke.call(V.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var a=V.formatters[t],s=j.filter;return(typeof e.filter=="function"||P(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:j.addQueryPrefix,allowDots:typeof e.allowDots>"u"?j.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:j.charsetSentinel,delimiter:typeof e.delimiter>"u"?j.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:j.encode,encoder:typeof e.encoder=="function"?e.encoder:j.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:j.encodeValuesOnly,filter:s,format:t,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:j.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:j.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:j.strictNullHandling}},Ye=function(l,e){var r=l,t=We(e),a,s;typeof t.filter=="function"?(s=t.filter,r=s("",r)):P(t.filter)&&(s=t.filter,a=s);var n=[];if(typeof r!="object"||r===null)return"";var c;e&&e.arrayFormat in ce?c=e.arrayFormat:e&&"indices"in e?c=e.indices?"indices":"repeat":c="indices";var u=ce[c];a||(a=Object.keys(r)),t.sort&&a.sort(t.sort);for(var o=0;o<a.length;++o){var f=a[o];t.skipNulls&&r[f]===null||me(n,Ge(r[f],f,u,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var g=n.join(t.delimiter),p=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),g.length>0?p+g:""},T=he,ae=Object.prototype.hasOwnProperty,Xe=Array.isArray,v={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:T.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Je=function(l){return l.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},pe=function(l,e){return l&&typeof l=="string"&&e.comma&&l.indexOf(",")>-1?l.split(","):l},er="utf8=%26%2310003%3B",rr="utf8=%E2%9C%93",tr=function(e,r){var t={},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,n=a.split(r.delimiter,s),c=-1,u,o=r.charset;if(r.charsetSentinel)for(u=0;u<n.length;++u)n[u].indexOf("utf8=")===0&&(n[u]===rr?o="utf-8":n[u]===er&&(o="iso-8859-1"),c=u,u=n.length);for(u=0;u<n.length;++u)if(u!==c){var f=n[u],g=f.indexOf("]="),p=g===-1?f.indexOf("="):g+1,x,y;p===-1?(x=r.decoder(f,v.decoder,o,"key"),y=r.strictNullHandling?null:""):(x=r.decoder(f.slice(0,p),v.decoder,o,"key"),y=T.maybeMap(pe(f.slice(p+1),r),function(m){return r.decoder(m,v.decoder,o,"value")})),y&&r.interpretNumericEntities&&o==="iso-8859-1"&&(y=Je(y)),f.indexOf("[]=")>-1&&(y=Xe(y)?[y]:y),ae.call(t,x)?t[x]=T.combine(t[x],y):t[x]=y}return t},ir=function(l,e,r,t){for(var a=t?e:pe(e,r),s=l.length-1;s>=0;--s){var n,c=l[s];if(c==="[]"&&r.parseArrays)n=[].concat(a);else{n=r.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=parseInt(u,10);!r.parseArrays&&u===""?n={0:a}:!isNaN(o)&&c!==u&&String(o)===u&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(n=[],n[o]=a):u!=="__proto__"&&(n[u]=a)}a=n}return a},nr=function(e,r,t,a){if(e){var s=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=t.depth>0&&n.exec(s),o=u?s.slice(0,u.index):s,f=[];if(o){if(!t.plainObjects&&ae.call(Object.prototype,o)&&!t.allowPrototypes)return;f.push(o)}for(var g=0;t.depth>0&&(u=c.exec(s))!==null&&g<t.depth;){if(g+=1,!t.plainObjects&&ae.call(Object.prototype,u[1].slice(1,-1))&&!t.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),ir(f,r,t,a)}},ar=function(e){if(!e)return v;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?v.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?v.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:v.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:v.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:v.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:v.comma,decoder:typeof e.decoder=="function"?e.decoder:v.decoder,delimiter:typeof e.delimiter=="string"||T.isRegExp(e.delimiter)?e.delimiter:v.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:v.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:v.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:v.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:v.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:v.strictNullHandling}},sr=function(l,e){var r=ar(e);if(l===""||l===null||typeof l>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof l=="string"?tr(l,r):l,a=r.plainObjects?Object.create(null):{},s=Object.keys(t),n=0;n<s.length;++n){var c=s[n],u=nr(c,t[c],r,typeof l=="string");a=T.merge(a,u,r)}return T.compact(a)},lr=Ye,or=sr,cr=se,ge={formats:cr,parse:or,stringify:lr};function b(){return b=Object.assign?Object.assign.bind():function(l){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(l[t]=r[t])}return l},b.apply(null,arguments)}class te{constructor(e,r,t){var a,s;this.name=e,this.definition=r,this.bindings=(a=r.bindings)!=null?a:{},this.wheres=(s=r.wheres)!=null?s:{},this.config=t}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,r;return(e=(r=this.template.match(/{[^}?]+\??}/g))==null?void 0:r.map(t=>({name:t.replace(/{|\??}/g,""),required:!/\?}$/.test(t)})))!=null?e:[]}matchesUrl(e){var r;if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(c,u,o,f)=>{var g;const p=`(?<${o}>${((g=this.wheres[o])==null?void 0:g.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return f?`(${u}${p})?`:`${u}${p}`}).replace(/^\w+:\/\//,""),[a,s]=e.replace(/^\w+:\/\//,"").split("?"),n=(r=new RegExp(`^${t}/?$`).exec(a))!=null?r:new RegExp(`^${t}/?$`).exec(decodeURI(a));if(n){for(const c in n.groups)n.groups[c]=typeof n.groups[c]=="string"?decodeURIComponent(n.groups[c]):n.groups[c];return{params:n.groups,query:ge.parse(s)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(r,t,a)=>{var s,n;if(!a&&[null,void 0].includes(e[t]))throw new Error(`Ziggy error: '${t}' parameter is required for route '${this.name}'.`);if(this.wheres[t]&&!new RegExp(`^${a?`(${this.wheres[t]})?`:this.wheres[t]}$`).test((n=e[t])!=null?n:""))throw new Error(`Ziggy error: '${t}' parameter '${e[t]}' does not match required format '${this.wheres[t]}' for route '${this.name}'.`);return encodeURI((s=e[t])!=null?s:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class ur extends String{constructor(e,r,t=!0,a){if(super(),this.t=a??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=b({},this.t,{absolute:t}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new te(e,this.t.routes[e],this.t),this.o=this.u(r)}}toString(){const e=Object.keys(this.o).filter(r=>!this.i.parameterSegments.some(({name:t})=>t===r)).filter(r=>r!=="_query").reduce((r,t)=>b({},r,{[t]:this.o[t]}),{});return this.i.compile(this.o)+ge.stringify(b({},e,this.o._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(r,t)=>typeof r=="boolean"?Number(r):t(r)})}h(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.l().host+e):e=this.m();let r={};const[t,a]=Object.entries(this.t.routes).find(([s,n])=>r=new te(s,n,this.t).matchesUrl(e))||[void 0,void 0];return b({name:t},r,{route:a})}m(){const{host:e,pathname:r,search:t}=this.l();return(this.t.absolute?e+r:r.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+t}current(e,r){const{name:t,params:a,query:s,route:n}=this.h();if(!e)return t;const c=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(t);if([null,void 0].includes(r)||!c)return c;const u=new te(t,n,this.t);r=this.u(r,u);const o=b({},a,s);if(Object.values(r).every(g=>!g)&&!Object.values(o).some(g=>g!==void 0))return!0;const f=(g,p)=>Object.entries(g).every(([x,y])=>Array.isArray(y)&&Array.isArray(p[x])?y.every(m=>p[x].includes(m)):typeof y=="object"&&typeof p[x]=="object"&&y!==null&&p[x]!==null?f(y,p[x]):p[x]==y);return f(r,o)}l(){var e,r,t,a,s,n;const{host:c="",pathname:u="",search:o=""}=typeof window<"u"?window.location:{};return{host:(e=(r=this.t.location)==null?void 0:r.host)!=null?e:c,pathname:(t=(a=this.t.location)==null?void 0:a.pathname)!=null?t:u,search:(s=(n=this.t.location)==null?void 0:n.search)!=null?s:o}}get params(){const{params:e,query:r}=this.h();return b({},e,r)}get routeParams(){return this.h().params}get queryParams(){return this.h().query}has(e){return this.t.routes.hasOwnProperty(e)}u(e={},r=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const t=r.parameterSegments.filter(({name:a})=>!this.t.defaults[a]);return Array.isArray(e)?e=e.reduce((a,s,n)=>b({},a,t[n]?{[t[n].name]:s}:typeof s=="object"?s:{[s]:""}),{}):t.length!==1||e[t[0].name]||!e.hasOwnProperty(Object.values(r.bindings)[0])&&!e.hasOwnProperty("id")||(e={[t[0].name]:e}),b({},this.$(r),this.p(e,r))}$(e){return e.parameterSegments.filter(({name:r})=>this.t.defaults[r]).reduce((r,{name:t},a)=>b({},r,{[t]:this.t.defaults[t]}),{})}p(e,{bindings:r,parameterSegments:t}){return Object.entries(e).reduce((a,[s,n])=>{if(!n||typeof n!="object"||Array.isArray(n)||!t.some(({name:c})=>c===s))return b({},a,{[s]:n});if(!n.hasOwnProperty(r[s])){if(!n.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${s}' parameter is missing route model binding key '${r[s]}'.`);r[s]="id"}return b({},a,{[s]:n[r[s]]})},{})}valueOf(){return this.toString()}}function H(l,e,r,t){const a=new ur(l,e,r,t);return l?a.toString():a}function Ar({students:l,organizations:e=[],clubs:r=[],nationalities:t=[],countries:a=[],filters:s}){var B;const{props:n}=xe(),[c,u]=$.useState(!1),[o,f]=$.useState([]),[g,p]=$.useState(s.organization_id||"all"),[x,y]=$.useState(s.club_id||"all"),[m,R]=$.useState(s.nationality||"all"),[F,z]=$.useState(s.country||"all"),[C,_]=$.useState(s.status||"all"),[h,L]=$.useState(null);$.useEffect(()=>{var d;if((d=n.flash)!=null&&d.import_log){const w=n.flash.import_log;let D=w.find(I=>I.summary),ye=w.filter(I=>I.status),K=[];D&&K.push(`Total: ${D.total}, Success: ${D.success}, Failed: ${D.failed}, Percentage: ${D.percentage}%`+(D.error?`, Error: ${D.error}`:"")),ye.forEach(I=>{K.push(`${I.status==="success"?"✅":"❌"} ${I.message}`)}),f(K),u(!0)}},[(B=n.flash)==null?void 0:B.import_log]);const O=d=>{le.get(H("admin.students.index"),{organization_id:d.organization_id??(g!=="all"?g:null),club_id:d.club_id??(x!=="all"?x:null),nationality:d.nationality??(m||null),country:d.country??(F||null),status:d.status??(C!=="all"?C:null)},{preserveScroll:!0,preserveState:!0,replace:!0})},N=()=>{p("all"),y("all"),R(""),z(""),_("all"),le.get(H("admin.students.index"),{},{preserveScroll:!0,preserveState:!1,replace:!0})};return i.jsxs(Oe,{header:"Students",children:[i.jsx(ve,{title:"Students"}),i.jsxs("div",{className:"container mx-auto py-10",children:[i.jsxs(M,{children:[i.jsx(U,{className:"flex flex-row items-center justify-between",children:i.jsx(Z,{children:"Import / Export Students"})}),i.jsx(G,{children:i.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:i.jsx(q,{asChild:!0,variant:"outline",children:i.jsx("a",{href:H("admin.students.export"),children:"Export Students"})})})})]}),i.jsxs(M,{className:"my-6",children:[i.jsx(U,{children:i.jsx(Z,{children:"Filters"})}),i.jsx(G,{children:i.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[i.jsxs("div",{children:[i.jsx(Q,{htmlFor:"organization",children:"Organization"}),i.jsxs(W,{value:g,onValueChange:d=>{p(d),O({organization_id:d})},children:[i.jsx(Y,{id:"organization",className:"w-48",children:i.jsx(X,{placeholder:"All Organizations"})}),i.jsxs(J,{children:[i.jsx(E,{value:"all",children:"All"}),e.map(d=>i.jsx(E,{value:String(d.id),children:d.name},d.id))]})]})]}),i.jsxs("div",{children:[i.jsx(Q,{htmlFor:"club",children:"Club"}),i.jsxs(W,{value:x,onValueChange:d=>{y(d),O({club_id:d})},children:[i.jsx(Y,{id:"club",className:"w-48",children:i.jsx(X,{placeholder:"All Clubs"})}),i.jsxs(J,{children:[i.jsx(E,{value:"all",children:"All"}),r.map(d=>i.jsx(E,{value:String(d.id),children:d.name},d.id))]})]})]}),i.jsxs("div",{className:"w-[200px]",children:[i.jsx(Q,{className:"text-sm mb-1",children:"Nationality"}),i.jsx(oe,{placeholder:"All Nationalities",defaultValue:m||"",onChange:d=>{const w=(d==null?void 0:d.alpha3)||"";R(w),O({nationality:w})},slim:!1})]}),i.jsxs("div",{className:"w-[200px]",children:[i.jsx(Q,{className:"text-sm mb-1",children:"Country"}),i.jsx(oe,{placeholder:"All Countries",defaultValue:F||"",onChange:d=>{const w=(d==null?void 0:d.alpha3)||"";z(w),O({country:w})},slim:!1})]}),i.jsxs("div",{children:[i.jsx(Q,{htmlFor:"status",children:"Status"}),i.jsxs(W,{value:C,onValueChange:d=>{_(d),O({status:d})},children:[i.jsx(Y,{id:"status",className:"w-32",children:i.jsx(X,{placeholder:"All Statuses"})}),i.jsxs(J,{children:[i.jsx(E,{value:"all",children:"All"}),i.jsx(E,{value:"active",children:"Active"}),i.jsx(E,{value:"inactive",children:"Inactive"})]})]})]}),i.jsx("div",{children:i.jsx(q,{variant:"secondary",onClick:N,children:"Reset Filters"})})]})})]}),i.jsxs(M,{children:[i.jsxs(U,{className:"flex flex-row items-center justify-between",children:[i.jsx(Z,{children:"Students"}),i.jsx(ie,{href:H("admin.students.create"),children:i.jsx(q,{children:"Add Student"})})]}),i.jsx(G,{children:i.jsx(je,{columns:Ae(d=>L(d)),data:l})})]}),h&&i.jsx($e,{open:!!h,onOpenChange:d=>{d||L(null)},children:i.jsxs(Ce,{children:[i.jsx(De,{children:"Student Details"}),i.jsx(Ee,{children:"Full student details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Code:"})," ",h.code]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Name:"})," ",h.name," ",h.surname]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Email:"})," ",h.email]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Phone:"})," ",h.phone]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Gender:"})," ",h.gender]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Nationality:"})," ",h.nationality]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Country:"})," ",h.country]}),i.jsxs("div",{children:[i.jsx("strong",{children:"DOB:"})," ",h.dob]}),i.jsxs("div",{children:[i.jsx("strong",{children:"DOD:"})," ",h.dod||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Grade:"})," ",h.grade]}),i.jsxs("div",{children:[i.jsx("strong",{children:"ID/Passport:"})," ",h.id_passport]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Skype:"})," ",h.skype]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Website:"})," ",h.website]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Address:"})," ",h.street,","," ",h.city,","," ",h.postal_code]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"})," ",i.jsx(de,{variant:h.status?"default":"destructive",children:h.status?"Active":"Inactive"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Profile Image:"}),i.jsx("div",{className:"mt-1",children:h.profile_image?i.jsx("img",{src:h.profile_image,alt:"Profile",className:"w-24 h-24 rounded object-cover"}):i.jsx("span",{className:"italic text-gray-500",children:"No image"})})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"ID/Passport Image:"}),i.jsx("div",{className:"mt-1",children:h.id_passport_image?i.jsx("img",{src:h.id_passport_image,alt:"ID",className:"w-24 h-24 rounded object-cover"}):i.jsx("span",{className:"italic text-gray-500",children:"No image"})})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Signature Image:"}),i.jsx("div",{className:"mt-1",children:h.signature_image?i.jsx("img",{src:h.signature_image,alt:"Signature",className:"w-24 h-24 rounded object-cover"}):i.jsx("span",{className:"italic text-gray-500",children:"No image"})})]})]})]})})]})]})}export{Ar as default};
