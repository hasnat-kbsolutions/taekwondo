import{W as C,r as D,j as e,Y as b}from"./app-CEAkk4i6.js";import{A as I}from"./authenticated-layout-CuUc6cJH.js";import{I as i}from"./input-BLFkIEB7.js";import{C as v}from"./country-dropdown-XsdAYqIL.js";import{L as r}from"./label-CNuVDIRz.js";import{B}from"./button-BIDWBxDs.js";import{S as d,a as u,b as o,c as h,d as g,f as y,e as t}from"./select-rXOhB-aK.js";import"./separator-BTVOhe19.js";import"./index-GNkbtKOe.js";import"./sun-Cb4-sj-T.js";import"./users-DTjBt5Wt.js";import"./log-out-CYh5mh1o.js";import"./dialog-DcEVzri4.js";import"./popover-Gu38JwDQ.js";import"./index-D0YihXUr.js";import"./globe-CqoSnSEC.js";import"./chevron-down-ByOlhStK.js";import"./index-CPm-OftT.js";import"./index-BZ-LQonx.js";function J({student:p,plans:m=[],currencies:w=[],feePlan:a}){const{data:s,setData:n,post:_,processing:N,errors:j}=C({...p,_method:"put",profile_image:null,identification_document:null,plan_id:a!=null&&a.plan_id?String(a.plan_id):"",interval:(a==null?void 0:a.interval)??"monthly",interval_count:(a==null?void 0:a.interval_count)??null,discount_type:(a==null?void 0:a.discount_type)??"",discount_value:(a==null?void 0:a.discount_value)??null,currency_code:(a==null?void 0:a.currency_code)??""}),x=D.useMemo(()=>m.filter(l=>l.planable_type==="App\\Models\\Organization"),[m]),S=l=>{l.preventDefault(),_(route("organization.students.update",p.id))},c=l=>j[l]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:j[l]});return e.jsxs(I,{header:"Edit Student",children:[e.jsx(b,{title:"Edit Student"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("form",{onSubmit:S,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{placeholder:"Name",value:s.name,onChange:l=>n("name",l.target.value)}),c("name")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Surname"}),e.jsx(i,{placeholder:"Surname",value:s.surname,onChange:l=>n("surname",l.target.value)})]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Nationality ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{placeholder:"Select nationality",defaultValue:s.nationality,onChange:l=>n("nationality",l.alpha3),slim:!1}),c("nationality")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Date of Birth"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"date",value:s.dob,onChange:l=>n("dob",l.target.value)}),c("dob")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Date of Deactivation"}),e.jsx(i,{type:"date",value:s.dod,onChange:l=>n("dod",l.target.value)}),c("dod")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Grade ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:s.grade||"",onValueChange:l=>n("grade",l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Grade"})}),e.jsxs(h,{children:[e.jsxs(g,{children:[e.jsx(y,{children:"Gup (Student Grades)"}),e.jsx(t,{value:"10th Gup - White",children:"10th Gup - White"}),e.jsx(t,{value:"9th Gup - White w/ Yellow Tag",children:"9th Gup - White w/ Yellow Tag"}),e.jsx(t,{value:"8th Gup - Yellow",children:"8th Gup - Yellow"}),e.jsx(t,{value:"7th Gup - Yellow w/ Green Tag",children:"7th Gup - Yellow w/ Green Tag"}),e.jsx(t,{value:"6th Gup - Green",children:"6th Gup - Green"}),e.jsx(t,{value:"5th Gup - Green w/ Blue Tag",children:"5th Gup - Green w/ Blue Tag"}),e.jsx(t,{value:"4th Gup - Blue",children:"4th Gup - Blue"}),e.jsx(t,{value:"3rd Gup - Blue w/ Red Tag",children:"3rd Gup - Blue w/ Red Tag"}),e.jsx(t,{value:"2nd Gup - Red",children:"2nd Gup - Red"}),e.jsx(t,{value:"1st Gup - Red w/ Black Tag",children:"1st Gup - Red w/ Black Tag"})]}),e.jsxs(g,{children:[e.jsx(y,{children:"Dan (Black Belt Ranks)"}),e.jsx(t,{value:"1st Dan - Black Belt",children:"1st Dan - Black Belt"}),e.jsx(t,{value:"2nd Dan - Assistant Instructor",children:"2nd Dan - Assistant Instructor"}),e.jsx(t,{value:"3rd Dan - Instructor",children:"3rd Dan - Instructor"}),e.jsx(t,{value:"4th Dan - International Instructor",children:"4th Dan - International Instructor"}),e.jsx(t,{value:"5th Dan - International Instructor",children:"5th Dan - International Instructor"}),e.jsx(t,{value:"6th Dan - Senior Instructor",children:"6th Dan - Senior Instructor"}),e.jsx(t,{value:"7th Dan - Master",children:"7th Dan - Master"}),e.jsx(t,{value:"8th Dan - Senior Master",children:"8th Dan - Senior Master"}),e.jsx(t,{value:"9th Dan - Grand Master",children:"9th Dan - Grand Master"})]})]})]}),c("grade")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(d,{value:s.gender,onValueChange:l=>n("gender",l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Gender"})}),e.jsxs(h,{children:[e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]}),c("gender")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"City"}),e.jsx(i,{placeholder:"City",value:s.city,onChange:l=>n("city",l.target.value)}),c("city")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Postal Code"}),e.jsx(i,{placeholder:"Postal Code",value:s.postal_code,onChange:l=>n("postal_code",l.target.value)}),c("postal_code")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Street"}),e.jsx(i,{placeholder:"Street",value:s.street,onChange:l=>n("street",l.target.value)}),c("street")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Country"}),e.jsx(v,{placeholder:"Select country",defaultValue:s.country,onChange:l=>n("country",l.alpha3),slim:!1}),c("country")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Status"}),e.jsxs(d,{value:String(s.status),onValueChange:l=>n("status",l==="true"),children:[e.jsx(u,{children:e.jsx(o,{placeholder:"Select Status"})}),e.jsxs(h,{children:[e.jsx(t,{value:"true",children:"Active"}),e.jsx(t,{value:"false",children:"Inactive"})]})]}),c("status")]}),e.jsx("div",{className:"w-full px-2 mt-6",children:e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plan Assignment"})}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Plan"}),e.jsxs(d,{value:String(s.plan_id)||"",onValueChange:l=>n("plan_id",l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Plan",children:s.plan_id?(()=>{const l=x.find(G=>String(G.id)===String(s.plan_id));return l?`${l.name} - ${l.currency_code} ${l.base_amount}`:a!=null&&a.plan?`${a.plan.name} - ${a.plan.currency_code} ${a.plan.base_amount}`:"Select Plan"})():"Select Plan"})}),e.jsx(h,{children:x.length===0?e.jsx(t,{value:"no-plans",disabled:!0,children:"No active plans available"}):x.map(l=>e.jsxs(t,{value:String(l.id),children:[l.name," - ",l.currency_code," ",l.base_amount]},l.id))})]}),c("plan_id")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Interval"}),e.jsxs(d,{value:s.interval,onValueChange:l=>n("interval",l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Interval"})}),e.jsxs(h,{children:[e.jsx(t,{value:"monthly",children:"Monthly"}),e.jsx(t,{value:"quarterly",children:"Quarterly"}),e.jsx(t,{value:"semester",children:"Semester"}),e.jsx(t,{value:"yearly",children:"Yearly"}),e.jsx(t,{value:"custom",children:"Custom"})]})]}),c("interval")]}),s.interval==="custom"&&e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Interval Count (Months)"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"number",min:"1",placeholder:"Enter number of months",value:s.interval_count??"",onChange:l=>n("interval_count",l.target.value?parseInt(l.target.value):null)}),c("interval_count")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Discount Type"}),e.jsxs(d,{value:s.discount_type||"none",onValueChange:l=>n("discount_type",l==="none"?"":l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Discount Type (Optional)"})}),e.jsxs(h,{children:[e.jsx(t,{value:"none",children:"None"}),e.jsx(t,{value:"percent",children:"Percentage"}),e.jsx(t,{value:"fixed",children:"Fixed Amount"})]})]}),c("discount_type")]}),s.discount_type&&e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Discount Value"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"number",min:"0",step:"0.01",placeholder:s.discount_type==="percent"?"Enter percentage":"Enter amount",value:s.discount_value??"",onChange:l=>n("discount_value",l.target.value?parseFloat(l.target.value):null)}),c("discount_value")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Currency"}),e.jsxs(d,{value:s.currency_code||"default",onValueChange:l=>n("currency_code",l==="default"?"":l),children:[e.jsx(u,{className:"w-full",children:e.jsx(o,{placeholder:"Select Currency (Optional)"})}),e.jsxs(h,{children:[e.jsx(t,{value:"default",children:"Use Plan Currency"}),w.map(l=>e.jsxs(t,{value:l.code,children:[l.code," - ",l.name]},l.code))]})]}),c("currency_code")]}),e.jsx("div",{className:"w-full px-2 mt-5",children:e.jsx(B,{type:"submit",disabled:N,children:"Update"})})]})})]})}export{J as default};
