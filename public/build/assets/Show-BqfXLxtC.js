import{r as _,j as e,Y,y as k}from"./app-Qc4CeIVR.js";import{A as L}from"./authenticated-layout-ky9aO383.js";import{C as l,a as x,b as i,c as t}from"./card-aGJSTTtW.js";import{B as g}from"./badge-GE5GUWPt.js";import{S as w,a as C,b as S,c as A,e as c}from"./select-C0cthBOg.js";import{C as T,T as U,a as B,b as m,c as h,A as E}from"./tabs-DD1WBGLm.js";import{B as p}from"./building-2-BOzU0Xrn.js";import{U as I}from"./users-AXSi9GuI.js";import{U as V}from"./user-check-BGdCVXAr.js";import{T as M}from"./trending-up-DNIUzvOp.js";import{M as G,P as J}from"./phone-DSxjiLxp.js";import{G as H}from"./globe-BHOLXFft.js";import{M as q}from"./map-pin-CI1zZJfe.js";import{C as K}from"./calendar-CZxiGZ8L.js";import"./button-C_h6ToX0.js";import"./input-iz2NDNEj.js";import"./separator-CgvCt5_y.js";import"./index-CnUrj3gZ.js";import"./createLucideIcon-775Dkrg4.js";import"./log-out-D5ccv8f0.js";import"./sun-C1Um4luV.js";import"./index-8jmc5Owj.js";import"./index-D46JdVQV.js";import"./chevron-down-Cz7cvS-S.js";function ge({organization:Q,organizationData:a,studentData:j,clubData:o,instructorData:N,attendanceData:n,paymentData:v,recentActivity:P,filters:y}){const[b,F]=_.useState(y.year||new Date().getFullYear().toString()),[O,R]=_.useState(y.month||"all"),f=(s,r)=>{const d={year:b};s==="year"?(F(r),d.year=r,d.month="all"):s==="month"&&(R(r),r==="all"?delete d.month:d.month=r),k.get(route("organization.insights.show"),d,{preserveState:!0,replace:!0})},u=s=>{switch(s.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(L,{children:[e.jsx(Y,{title:"Organization Insights"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[e.jsx(p,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{children:"Organization Insights"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.name," - Established"," ",a.established_date]})]}),e.jsx(g,{className:u(a.status),children:a.status})]})}),e.jsxs(l,{className:"mb-6",children:[e.jsx(x,{children:e.jsx(i,{children:"Filters"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsxs(w,{value:b,onValueChange:s=>f("year",s),children:[e.jsx(C,{className:"w-32",children:e.jsx(S,{})}),e.jsx(A,{children:Array.from({length:5},(s,r)=>{const d=new Date().getFullYear()-r;return e.jsx(c,{value:d.toString(),children:d},d)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),e.jsxs(w,{value:O,onValueChange:s=>f("month",s),children:[e.jsx(C,{className:"w-40",children:e.jsx(S,{})}),e.jsxs(A,{children:[e.jsx(c,{value:"all",children:"All months"}),e.jsx(c,{value:"1",children:"January"}),e.jsx(c,{value:"2",children:"February"}),e.jsx(c,{value:"3",children:"March"}),e.jsx(c,{value:"4",children:"April"}),e.jsx(c,{value:"5",children:"May"}),e.jsx(c,{value:"6",children:"June"}),e.jsx(c,{value:"7",children:"July"}),e.jsx(c,{value:"8",children:"August"}),e.jsx(c,{value:"9",children:"September"}),e.jsx(c,{value:"10",children:"October"}),e.jsx(c,{value:"11",children:"November"}),e.jsx(c,{value:"12",children:"December"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_students})]})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Clubs"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_clubs})]})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Instructors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_instructors})]})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Years Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.years_active})]})]})})})]}),e.jsxs(l,{className:"mb-8",children:[e.jsx(x,{children:e.jsxs(i,{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{children:"Organization Information"})]})}),e.jsx(t,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:a.email})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:a.phone})]}),a.website&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"h-4 w-4 text-gray-500"}),e.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:a.website})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:a.address})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Currency:"," ",a.currency," (",a.currency_symbol,")"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Established:"," ",a.established_date]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Active for:"," ",a.years_active," ","years"]})]})]})]})})]}),e.jsxs(U,{defaultValue:"students",className:"space-y-6",children:[e.jsxs(B,{className:"grid w-full grid-cols-6",children:[e.jsx(m,{value:"students",children:"Students"}),e.jsx(m,{value:"clubs",children:"Clubs"}),e.jsx(m,{value:"instructors",children:"Instructors"}),e.jsx(m,{value:"attendance",children:"Attendance"}),e.jsx(m,{value:"payments",children:"Payments"}),e.jsx(m,{value:"activity",children:"Activity"})]}),e.jsxs(h,{value:"students",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.summary.total_students}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Students"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.summary.new_students}),e.jsx("div",{className:"text-sm text-gray-600",children:"New This Period"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:j.summary.active_students}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Students"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[j.summary.retention_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Retention Rate"})]})})})]}),e.jsxs(l,{children:[e.jsx(x,{children:e.jsx(i,{children:"Students by Grade"})}),e.jsx(t,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:j.students_by_grade.map(s=>e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.count}),e.jsx("div",{className:"text-sm text-gray-600",children:s.grade})]},s.grade))})})]})]}),e.jsxs(h,{value:"clubs",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.summary.total_clubs}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Clubs"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.summary.active_clubs}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Clubs"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.summary.inactive_clubs}),e.jsx("div",{className:"text-sm text-gray-600",children:"Inactive Clubs"})]})})})]}),e.jsxs(l,{children:[e.jsx(x,{children:e.jsx(i,{children:"Clubs Overview"})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:o.clubs_with_students.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.city,","," ",s.country]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:s.students_count}),e.jsx("div",{className:"text-sm text-gray-600",children:"Students"}),e.jsx(g,{className:u(s.status),children:s.status})]})]},s.id))})})]})]}),e.jsxs(h,{value:"instructors",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.summary.total_instructors}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Instructors"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.summary.active_instructors}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Instructors"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.summary.inactive_instructors}),e.jsx("div",{className:"text-sm text-gray-600",children:"Inactive Instructors"})]})})})]}),e.jsxs(l,{children:[e.jsx(x,{children:e.jsx(i,{children:"Instructors Overview"})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:N.instructors_with_students.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.club})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:s.students_count}),e.jsx("div",{className:"text-sm text-gray-600",children:"Students"}),e.jsx(g,{className:u(s.status),children:s.status})]})]},s.id))})})]})]}),e.jsxs(h,{value:"attendance",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.summary.total_classes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Classes"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.summary.present}),e.jsx("div",{className:"text-sm text-gray-600",children:"Present"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.summary.absent}),e.jsx("div",{className:"text-sm text-gray-600",children:"Absent"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.summary.late}),e.jsx("div",{className:"text-sm text-gray-600",children:"Late"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[n.summary.overall_attendance_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance Rate"})]})})})]}),e.jsxs(l,{children:[e.jsx(x,{children:e.jsx(i,{children:"Attendance by Club"})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:n.attendance_by_club.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.club_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.present_classes," ","/"," ",s.total_classes," ","classes"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[s.attendance_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance Rate"})]})]},r))})})]})]}),e.jsx(h,{value:"payments",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[a.currency_symbol," ",v.summary.total_paid.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Paid"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[a.currency_symbol," ",v.summary.pending_amount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.currency_symbol," ",v.summary.total_amount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"})]})})}),e.jsx(l,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[v.summary.payment_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Payment Rate"})]})})})]})}),e.jsx(h,{value:"activity",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(x,{children:e.jsxs(i,{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{children:"Recent Activity"})]})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:P.map((s,r)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:s.type==="student_registration"?e.jsx(I,{className:"h-5 w-5 text-blue-600"}):e.jsx(T,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString()})]}),e.jsx(g,{className:u(s.status),children:s.status})]},r))})})]})})]})]})})]})}export{ge as default};
