import{r as S,j as e,Y as N,y as d}from"./app-BOiaKrnq.js";import{A as C}from"./authenticated-layout-DN-QAHOE.js";import{B as A}from"./button-D8YHfysu.js";import{C as m,a as x,b as h,c as p}from"./card-D2K8gMSj.js";import{L as v}from"./label-DnRgMY3U.js";import{S as w,a as Y,b as M,c as D,e as F}from"./select-BgqjcFjh.js";import{f as L}from"./format-7_oTgTIh.js";import"./input-CvH_BJnq.js";import"./separator-wF5N-nG0.js";import"./index-Us7THKc4.js";import"./sun-0h1ZuuTt.js";import"./users-DkIv6nVO.js";import"./log-out-DvMYnxvU.js";import"./index-C6yEH-YU.js";import"./index-C3o37o0H.js";import"./chevron-down-C3yehkxA.js";const a=new Date().getFullYear(),_=Array.from({length:31},(l,n)=>a-15+n);function X({attendance:l,year:n}){const[s,c]=S.useState(n||a),j=r=>{const t=parseInt(r);c(t),d.get(route("student.attendances.index"),{year:t})},u=()=>{c(a),d.get(route("student.attendances.index"),{year:a})},f=r=>{const t=l[r];return t==="present"?"✅":t==="absent"?"❌":"–"};return e.jsxs(C,{header:"My Attendance",children:[e.jsx(N,{title:"My Attendance"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(h,{children:"Filters"})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[180px]",children:[e.jsx(v,{className:"text-sm mb-1",children:"Year"}),e.jsxs(w,{onValueChange:j,value:s.toString(),children:[e.jsx(Y,{children:e.jsx(M,{placeholder:"Select a year"})}),e.jsx(D,{children:_.map(r=>e.jsx(F,{value:r.toString(),children:r},r))})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(A,{onClick:u,children:"Reset Filters"})})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{children:["Attendance for ",s]})}),e.jsx(p,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto border border-collapse w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1 text-left",children:"Month"}),[...Array(31)].map((r,t)=>e.jsx("th",{className:"border px-2 py-1 text-center",children:t+1},t+1))]})}),e.jsx("tbody",{children:[...Array(12)].map((r,t)=>{const y=new Date(s,t).toLocaleString("default",{month:"long"});return e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 font-semibold",children:y}),[...Array(31)].map((V,o)=>{const i=new Date(s,t,o+1),b=L(i,"yyyy-MM-dd"),g=i.getMonth()===t;return e.jsx("td",{className:"border px-1 py-1 text-center",children:g?f(b):""},o)})]},t)})})]})})})]})]})]})}export{X as default};
