import{r as o,j as e,Y as C,y as c}from"./app-CxTZuyGd.js";import{A as N,X as w,D as y,a as v,b as F,c as D}from"./authenticated-layout-CluqYUVf.js";import{B as d}from"./button-O6GChIvF.js";import{C as m,a as h,b as x,c as p}from"./card-Tsyb4i5t.js";import{D as S}from"./DataTable-DGHFDazB.js";import{I as b}from"./input-Jc5VxaLp.js";import{L as M}from"./label-BOsW4Ivz.js";import{F as L}from"./file-text-C3S_WeTI.js";import{E}from"./ellipsis-D3NZnPL4.js";import{E as I}from"./eye-61l0f6MR.js";import"./separator-DMAn-66q.js";import"./index-DxtcMYs9.js";import"./createLucideIcon-A8Y1Mkot.js";import"./building-2-VmDwjJQs.js";import"./users-D04CuA_a.js";import"./log-out-M-di3x_B.js";import"./sun-D6Dd0lvh.js";import"./table-DiS7_Tyn.js";const Q=({certifications:a,filters:u})=>{const[r,i]=o.useState({search:u.search||""}),l=o.useMemo(()=>a.filter(s=>{var n;return!r.search||((n=s.notes)==null?void 0:n.toLowerCase().includes(r.search.toLowerCase()))}),[a,r]),f=s=>{const t={search:s.search};c.get(route("student.certifications.index"),t,{preserveState:!0,preserveScroll:!0})},j=()=>{i({search:""}),c.get(route("student.certifications.index"),{},{preserveState:!0,preserveScroll:!0})},g=[{header:"#",cell:({row:s})=>s.index+1},{header:"Issued Date",cell:({row:s})=>e.jsx("span",{children:s.original.issued_at?new Date(s.original.issued_at).toLocaleDateString():"Not specified"})},{header:"File",cell:({row:s})=>e.jsxs("a",{href:`/storage/${s.original.file}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white flex items-center transition-colors",children:[e.jsx(L,{className:"w-4 h-4 mr-1"}),"View"]})},{header:"Notes",cell:({row:s})=>e.jsx("span",{className:"max-w-xs truncate",title:s.original.notes||"",children:s.original.notes||"No notes"})},{header:"Actions",cell:({row:s})=>e.jsxs(y,{children:[e.jsx(v,{asChild:!0,children:e.jsxs(d,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(E,{className:"h-4 w-4"})]})}),e.jsx(F,{align:"end",children:e.jsx(D,{asChild:!0,children:e.jsxs("a",{href:`/storage/${s.original.file}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"View Certificate"]})})})]})}];return e.jsxs(N,{header:"My Certifications",children:[e.jsx(C,{title:"My Certifications"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(m,{children:[e.jsx(h,{children:e.jsx(x,{children:"Filters"})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex-1 max-w-sm",children:[e.jsx(M,{className:"text-sm mb-1",children:"Search by notes"}),e.jsx(b,{placeholder:"Search by notes...",value:r.search,onChange:s=>{const t={...r,search:s.target.value};i(t),f(t)}})]}),r.search&&e.jsx("div",{className:"flex items-end",children:e.jsxs(d,{variant:"outline",onClick:j,className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Clear Filters"]})})]})})]}),e.jsxs(m,{children:[e.jsxs(h,{children:[e.jsxs(x,{children:["My Certifications (",l.length,")"]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"View all your certifications and certificates."})]}),e.jsx(p,{children:e.jsx(S,{columns:g,data:l})})]})]})]})};export{Q as default};
