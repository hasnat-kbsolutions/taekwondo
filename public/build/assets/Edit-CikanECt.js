import{W as g,j as e,Y as y}from"./app-CikEoOUb.js";import{B as h}from"./button-DE34mfwC.js";import{S as i,a as c,b as o,c as m,e as d}from"./select-D_R4pDbd.js";import{I as x}from"./input-BghCconx.js";import{C as N}from"./react-icons.esm-By5OCdRs.js";import{P as _,a as S,b as C}from"./popover-B4Q4HwOH.js";import{C as P}from"./calendar-BNEwoygx.js";import{L as r}from"./label-DFDTJu9O.js";import{C as b,a as w,b as I,c as M}from"./card-B9gfxKxc.js";import{A as D}from"./authenticated-layout-tnqnI4FE.js";import{f as u}from"./format-7_oTgTIh.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./index-CQAMZMT0.js";import"./chevron-down-rq2aknLd.js";function G({payment:n,students:p}){const{data:a,setData:l,put:j,processing:v,errors:s}=g({student_id:n.student_id||"",notes:n.notes||"",amount:n.amount||"",status:n.status||"unpaid",method:n.method||"cash",pay_at:n.pay_at||"",payment_month:n.payment_month.length===2?n.payment_month:n.payment_month.split("-")[1]||""}),f=t=>{t.preventDefault(),j(route("club.payments.update",n.id))};return e.jsxs(D,{header:"Edit Payment",children:[e.jsx(y,{title:"Edit Payment"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(b,{children:[e.jsx(w,{children:e.jsx(I,{children:"Edit Payment"})}),e.jsx(M,{children:e.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx(r,{children:"Student"}),e.jsxs(i,{value:String(a.student_id),onValueChange:t=>l("student_id",parseInt(t)),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select Student"})}),e.jsx(m,{children:p.map(t=>e.jsx(d,{value:String(t.id),children:t.name},t.id))})]}),s.student_id&&e.jsx("p",{className:"text-red-500 text-sm",children:s.student_id})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(r,{children:"Amount"}),e.jsx(x,{type:"number",value:a.amount,onChange:t=>l("amount",t.target.value)}),s.amount&&e.jsx("p",{className:"text-red-500 text-sm",children:s.amount})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(r,{children:"Status"}),e.jsxs(i,{value:a.status,onValueChange:t=>l("status",t),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select Status"})}),e.jsxs(m,{children:[e.jsx(d,{value:"paid",children:"Paid"}),e.jsx(d,{value:"unpaid",children:"Unpaid"})]})]}),s.status&&e.jsx("p",{className:"text-red-500 text-sm",children:s.status})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(r,{children:"Method"}),e.jsxs(i,{value:a.method,onValueChange:t=>l("method",t),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select Method"})}),e.jsxs(m,{children:[e.jsx(d,{value:"cash",children:"Cash"}),e.jsx(d,{value:"stripe",children:"Stripe"})]})]}),s.method&&e.jsx("p",{className:"text-red-500 text-sm",children:s.method})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs(r,{children:["Month",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:a.payment_month,onValueChange:t=>l("payment_month",t),children:[e.jsx(c,{className:"w-full",children:e.jsx(o,{placeholder:"Select Month"})}),e.jsx(m,{children:["01","02","03","04","05","06","07","08","09","10","11","12"].map(t=>e.jsx(d,{value:t,children:new Date(0,parseInt(t)-1).toLocaleString("default",{month:"long"})},t))})]}),s.payment_month&&e.jsx("p",{className:"text-red-500 text-sm",children:s.payment_month})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsxs(r,{children:["Pay At",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(_,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:"w-full justify-start text-left font-normal "+(!a.pay_at&&"text-muted-foreground"),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),a.pay_at?u(new Date(a.pay_at),"PPP"):"Pick a date"]})}),e.jsx(C,{className:"w-auto p-0",children:e.jsx(P,{mode:"single",selected:a.pay_at?new Date(a.pay_at):void 0,onSelect:t=>l("pay_at",t?u(t,"yyyy-MM-dd"):""),initialFocus:!0})})]}),s.pay_at&&e.jsx("p",{className:"text-red-500 text-sm",children:s.pay_at})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx(r,{children:"Notes"}),e.jsx(x,{type:"text",value:a.notes,onChange:t=>l("notes",t.target.value)}),s.notes&&e.jsx("p",{className:"text-red-500 text-sm",children:s.notes})]}),e.jsx("div",{className:"col-span-full",children:e.jsx(h,{type:"submit",disabled:v,children:"Update"})})]})})]})})]})}export{G as default};
