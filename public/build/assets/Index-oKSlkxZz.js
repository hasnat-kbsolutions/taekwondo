import{j as e,b,r as d,Y as k,y as E}from"./app-BOiaKrnq.js";import{D as G}from"./DataTable-C7Y4JBaD.js";import{B as S}from"./button-D8YHfysu.js";import{D as M,a as B,b as O,c as y,A as P}from"./authenticated-layout-DN-QAHOE.js";import{E as L}from"./ellipsis-BluzSH6V.js";import{E as R}from"./eye-CwtMz0lv.js";import{S as q}from"./square-pen-Dm1aUC8M.js";import{T as H}from"./trash-2-zkKMwqEB.js";import{C as T,a as z,b as I,c as F}from"./card-D2K8gMSj.js";import{L as j}from"./label-DnRgMY3U.js";import{S as p,a as f,b as g,c as N,e as t}from"./select-BgqjcFjh.js";import{D as Y,a as J,c as Q,d as U}from"./dialog-DXR6Yr1A.js";import{B as W}from"./badge-CGO4XOmO.js";import"./table-DNQQVKZT.js";import"./input-CvH_BJnq.js";import"./separator-wF5N-nG0.js";import"./index-Us7THKc4.js";import"./sun-0h1ZuuTt.js";import"./users-DkIv6nVO.js";import"./log-out-DvMYnxvU.js";import"./index-C6yEH-YU.js";import"./index-C3o37o0H.js";import"./chevron-down-C3yehkxA.js";const X=v=>[{header:"#",cell:({row:l})=>l.index+1},{accessorKey:"name",header:"Name"},{accessorKey:"surename",header:"Surename"},{accessorKey:"gender",header:"Gender"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"type",header:"Type"},{id:"actions",header:"Actions",cell:({row:l})=>{const i=l.original;return e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(O,{align:"end",children:[e.jsxs(y,{onClick:()=>v(i),children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(y,{asChild:!0,children:e.jsxs(b,{href:route("admin.supporters.edit",i.id),children:[e.jsx(q,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(y,{asChild:!0,children:e.jsxs(b,{href:route("admin.supporters.destroy",i.id),method:"delete",as:"button",children:[e.jsx(H,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function ye({supporters:v,organizations:l,clubs:i,filters:c}){const[n,w]=d.useState(c.organization_id||""),[o,C]=d.useState(c.club_id||""),[m,D]=d.useState(c.gender||""),[x,A]=d.useState(c.status||""),[a,_]=d.useState(null),u=({organization_id:s,club_id:r,gender:h,status:V})=>{E.get(route("admin.supporters.index"),{organization_id:s,club_id:r,gender:h,status:V},{preserveScroll:!0,preserveState:!0,replace:!0})},K=()=>{w(""),C(""),D(""),A(""),E.get(route("admin.supporters.index"))};return e.jsxs(P,{header:"Supporters",children:[e.jsx(k,{title:"Supporters"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(T,{children:[e.jsx(z,{children:e.jsx(I,{children:"Filters"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(p,{value:n,onValueChange:s=>{w(s==="all"?"":s),u({organization_id:n,club_id:o,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Organizations"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),l.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Club"}),e.jsxs(p,{value:o,onValueChange:s=>{const r=s==="all"?"":s;C(r),u({organization_id:n,club_id:r,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Clubs"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),i.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Gender"}),e.jsxs(p,{value:m,onValueChange:s=>{const r=s==="all"?"":s;D(r),u({organization_id:n,club_id:o,gender:r,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Genders"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Status"}),e.jsxs(p,{value:x,onValueChange:s=>{const r=s==="all"?"":s;A(r),u({organization_id:n,club_id:o,gender:m,status:r})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Statuses"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-foreground text-background",onClick:K,children:"Reset Filters"})})]})})]}),e.jsxs(T,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between",children:[e.jsx(I,{children:"Supporters"}),e.jsx(b,{href:route("admin.supporters.create"),children:e.jsx(S,{children:"Add Supporter"})})]}),e.jsx(F,{children:e.jsx(G,{columns:X(s=>_(s)),data:v})})]}),a&&e.jsx(Y,{open:!!a,onOpenChange:s=>{s||_(null)},children:e.jsxs(J,{className:"w-96",children:[e.jsxs("div",{className:"grid justify-center",children:[e.jsx("div",{className:"grid justify-center",children:e.jsx("div",{className:"mt-1   bg-foreground  rounded-full w-28 h-28 flex justify-center items-center ",children:a.profile_image?e.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-28 h-28 rounded-full object-cover",onError:s=>{var h;s.currentTarget.style.display="none";const r=document.createElement("span");r.className="italic text-gray-500",r.textContent="No image",(h=s.currentTarget.parentNode)==null||h.appendChild(r)}}):e.jsx("span",{className:"italic text-muted-foreground",children:"No image"})})}),e.jsx("div",{className:"flex justify-start mt-4 mb-4 ",children:e.jsxs("div",{className:"block",children:[e.jsx(Q,{children:"Supporter Details"}),e.jsx(U,{className:"text-xs text-center",children:"Full supporter details"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Name:"})," ",a.name," ",a.surename]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground   font-medium",children:"Email:"})," ",a.email]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Phone :"})," ",a.phone]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Gender:"})," ",a.gender]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:" text-foreground  font-medium",children:"Country:"})," ",a.country]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Type :"})," ",a.type]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground font-medium",children:"Status :"}),e.jsx(W,{variant:a.status?"default":"destructive",children:a.status?"Active":"Inactive"})]})]})]})})]})]})}export{ye as default};
