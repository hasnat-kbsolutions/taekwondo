import{r as d,j as e,Y as M,b as m,y as u}from"./app-C2xXveN-.js";import{B as h}from"./button-CpLBrkPM.js";import{B as x}from"./badge-CZbiwBxD.js";import{A as _,C as k,D as O,a as P,b as B,c as p}from"./authenticated-layout-BjG0-HbX.js";import{S as g,a as j,b as v,c as f,e as s}from"./select-_dWkLhpx.js";import{D as F}from"./DataTable-B7X2CYu4.js";import{A as I,a as H,b as K,c as L,d as V,e as $,f as U,g as q}from"./alert-dialog-DdY6P9-i.js";import{P as z}from"./plus-CsokuCdo.js";import{C as R}from"./clock-Mmql2lI6.js";import{M as Y}from"./map-pin-q2TX3Zb4.js";import{E as G}from"./ellipsis-ObQ0B4yH.js";import{S as J}from"./square-pen-C1mtrOLi.js";import{T as Q}from"./trash-2-DlbeyM8X.js";import"./input-uKThI7IY.js";import"./separator-Be3qWvhY.js";import"./index-BCtSHVQ3.js";import"./sun-wqgmDwy9.js";import"./users-BBtCh4Aq.js";import"./log-out-BUfAgkVI.js";import"./index-C9JcK9ps.js";import"./index-D9Tde0Le.js";import"./chevron-down-cEcyA7ib.js";import"./table-DT4u8R7z.js";function De({events:y,filters:r}){const[a,i]=d.useState(null),[D,l]=d.useState(!1),C=t=>{i(t),l(!0)},b=()=>{a&&u.delete(route("club.events.destroy",a.id),{preserveScroll:!0,onSuccess:()=>{l(!1),i(null)}})},o=({status:t,event_type:n})=>{u.get(route("club.events.index"),{status:t,event_type:n},{preserveState:!0,preserveScroll:!0})},N=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),S=t=>{if(!t)return"";const[n,w]=t.split(":"),c=parseInt(n),E=c>=12?"PM":"AM";return`${c%12||12}:${w} ${E}`},A=t=>{switch(t){case"upcoming":return"bg-blue-500";case"ongoing":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-500"}},T=[{accessorKey:"title",header:"Title",cell:({row:t})=>e.jsx("div",{className:"font-medium",children:t.original.title})},{accessorKey:"event_type",header:"Type",cell:({row:t})=>e.jsx(x,{variant:"outline",children:t.original.event_type})},{header:"Date",cell:({row:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-muted-foreground"}),N(t.original.event_date)]})},{header:"Time",cell:({row:t})=>t.original.start_time?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-muted-foreground"}),S(t.original.start_time)]}):"-"},{header:"Location",cell:({row:t})=>t.original.venue?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.original.venue})]}):"-"},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx(x,{className:A(t.original.status),children:t.original.status})},{id:"actions",cell:({row:t})=>e.jsxs(O,{children:[e.jsx(P,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"icon",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsxs(B,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(m,{href:route("club.events.edit",t.original.id),children:[e.jsx(J,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsxs(p,{onClick:()=>C(t.original),className:"text-red-600",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}];return e.jsxs(_,{children:[e.jsx(M,{title:"Events"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Events"}),e.jsx(h,{asChild:!0,children:e.jsxs(m,{href:route("club.events.create"),children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(g,{value:r.status||"all",onValueChange:t=>o({status:t==="all"?void 0:t,event_type:r.event_type}),children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(v,{placeholder:"Filter by Status"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Status"}),e.jsx(s,{value:"upcoming",children:"Upcoming"}),e.jsx(s,{value:"ongoing",children:"Ongoing"}),e.jsx(s,{value:"completed",children:"Completed"})]})]}),e.jsxs(g,{value:r.event_type||"all",onValueChange:t=>o({status:r.status,event_type:t==="all"?void 0:t}),children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(v,{placeholder:"Filter by Type"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Types"}),e.jsx(s,{value:"training",children:"Training"}),e.jsx(s,{value:"competition",children:"Competition"}),e.jsx(s,{value:"seminar",children:"Seminar"}),e.jsx(s,{value:"meeting",children:"Meeting"}),e.jsx(s,{value:"other",children:"Other"})]})]})]}),e.jsx(F,{columns:T,data:y}),e.jsx(I,{open:D,onOpenChange:l,children:e.jsxs(H,{children:[e.jsxs(K,{children:[e.jsx(L,{children:"Are you sure?"}),e.jsxs(V,{children:['This will permanently delete the event "',a==null?void 0:a.title,'". This action cannot be undone.']})]}),e.jsxs($,{children:[e.jsx(U,{onClick:()=>l(!1),children:"Cancel"}),e.jsx(q,{onClick:b,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})]})}export{De as default};
