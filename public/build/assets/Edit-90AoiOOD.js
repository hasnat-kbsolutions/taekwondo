import{W as C,j as e,Y as G}from"./app-DonfvVoW.js";import{A as D}from"./authenticated-layout-CqmZS_hs.js";import{I as c}from"./input-Dy_qbc52.js";import{P as I}from"./phone-input-BcSvh7cB.js";import{C as v}from"./country-dropdown-BJ3g_fZ8.js";import{L as r}from"./label-DmJFbOHp.js";import{B as b}from"./button-DYztBhfk.js";import{S as u,a as o,b as h,c as x,d as g,f as N,e as l}from"./select-BXXggIaW.js";import"./separator-Bj2Sa2yG.js";import"./index--YW_Mk4_.js";import"./sun-DZbQ5v7_.js";import"./users-puwp-WAo.js";import"./log-out-C0NbFVe-.js";import"./popover-DTvDaQfx.js";import"./index-Bhx3pFlk.js";import"./dialog-DrzO8twQ.js";import"./globe-CqvwpGoe.js";import"./chevron-down-BuTNFib9.js";import"./index-CzXEmqM7.js";function H({student:m,plans:p,currencies:y,feePlan:t}){const{data:a,setData:n,post:w,processing:_,errors:j}=C({...m,_method:"put",profile_image:null,identification_document:null,plan_id:t!=null&&t.plan_id?String(t.plan_id):"",interval:(t==null?void 0:t.interval)||"monthly",interval_count:(t==null?void 0:t.interval_count)||null,discount_type:(t==null?void 0:t.discount_type)||"",discount_value:(t==null?void 0:t.discount_value)||null,currency_code:(t==null?void 0:t.currency_code)||""}),S=s=>{s.preventDefault(),w(route("club.students.update",m.id))},i=s=>j[s]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:j[s]});return e.jsxs(D,{header:"Edit Student",children:[e.jsx(G,{title:"Edit Student"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("form",{onSubmit:S,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{placeholder:"Name",value:a.name,onChange:s=>n("name",s.target.value)}),i("name")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Surname"}),e.jsx(c,{placeholder:"Surname",value:a.surname,onChange:s=>n("surname",s.target.value)})]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"email",placeholder:"Email",value:a.email,onChange:s=>n("email",s.target.value)}),i("email")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(I,{defaultCountry:"MY",value:a.phone,onChange:s=>n("phone",s),className:"w-full"}),i("phone")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Nationality ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{placeholder:"Select nationality",defaultValue:a.nationality,onChange:s=>n("nationality",s.alpha3),slim:!1}),i("nationality")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Date of Birth"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",value:a.dob,onChange:s=>n("dob",s.target.value)}),i("dob")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Date of Deactivation"}),e.jsx(c,{type:"date",value:a.dod,onChange:s=>n("dod",s.target.value)}),i("dod")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Grade ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(u,{value:a.grade||"",onValueChange:s=>n("grade",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Grade"})}),e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(N,{children:"Gup (Student Grades)"}),e.jsx(l,{value:"10th Gup - White",children:"10th Gup - White"}),e.jsx(l,{value:"9th Gup - White w/ Yellow Tag",children:"9th Gup - White w/ Yellow Tag"}),e.jsx(l,{value:"8th Gup - Yellow",children:"8th Gup - Yellow"}),e.jsx(l,{value:"7th Gup - Yellow w/ Green Tag",children:"7th Gup - Yellow w/ Green Tag"}),e.jsx(l,{value:"6th Gup - Green",children:"6th Gup - Green"}),e.jsx(l,{value:"5th Gup - Green w/ Blue Tag",children:"5th Gup - Green w/ Blue Tag"}),e.jsx(l,{value:"4th Gup - Blue",children:"4th Gup - Blue"}),e.jsx(l,{value:"3rd Gup - Blue w/ Red Tag",children:"3rd Gup - Blue w/ Red Tag"}),e.jsx(l,{value:"2nd Gup - Red",children:"2nd Gup - Red"}),e.jsx(l,{value:"1st Gup - Red w/ Black Tag",children:"1st Gup - Red w/ Black Tag"})]}),e.jsxs(g,{children:[e.jsx(N,{children:"Dan (Black Belt Ranks)"}),e.jsx(l,{value:"1st Dan - Black Belt",children:"1st Dan - Black Belt"}),e.jsx(l,{value:"2nd Dan - Assistant Instructor",children:"2nd Dan - Assistant Instructor"}),e.jsx(l,{value:"3rd Dan - Instructor",children:"3rd Dan - Instructor"}),e.jsx(l,{value:"4th Dan - International Instructor",children:"4th Dan - International Instructor"}),e.jsx(l,{value:"5th Dan - International Instructor",children:"5th Dan - International Instructor"}),e.jsx(l,{value:"6th Dan - Senior Instructor",children:"6th Dan - Senior Instructor"}),e.jsx(l,{value:"7th Dan - Master",children:"7th Dan - Master"}),e.jsx(l,{value:"8th Dan - Senior Master",children:"8th Dan - Senior Master"}),e.jsx(l,{value:"9th Dan - Grand Master",children:"9th Dan - Grand Master"})]})]})]}),i("grade")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(u,{value:a.gender,onValueChange:s=>n("gender",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Gender"})}),e.jsxs(x,{children:[e.jsx(l,{value:"male",children:"Male"}),e.jsx(l,{value:"female",children:"Female"})]})]}),i("gender")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["ID/Passport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{placeholder:"ID or Passport Number",value:a.id_passport,onChange:s=>n("id_passport",s.target.value)}),i("id_passport")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"City"}),e.jsx(c,{placeholder:"City",value:a.city,onChange:s=>n("city",s.target.value)}),i("city")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Postal Code"}),e.jsx(c,{placeholder:"Postal Code",value:a.postal_code,onChange:s=>n("postal_code",s.target.value)}),i("postal_code")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Street"}),e.jsx(c,{placeholder:"Street",value:a.street,onChange:s=>n("street",s.target.value)}),i("street")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Country"}),e.jsx(v,{placeholder:"Select country",defaultValue:a.country,onChange:s=>n("country",s.alpha3),slim:!1}),i("country")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Status"}),e.jsxs(u,{value:String(a.status),onValueChange:s=>n("status",s==="true"),children:[e.jsx(o,{children:e.jsx(h,{placeholder:"Select Status"})}),e.jsxs(x,{children:[e.jsx(l,{value:"true",children:"Active"}),e.jsx(l,{value:"false",children:"Inactive"})]})]}),i("status")]}),e.jsx("div",{className:"w-full px-2 mt-6",children:e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plan Assignment"})}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Plan ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(u,{value:a.plan_id||"",onValueChange:s=>n("plan_id",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Plan",children:a.plan_id?(()=>{const s=p.find(d=>String(d.id)===String(a.plan_id));return s?`${s.name} - ${s.currency_code} ${s.base_amount}`:t!=null&&t.plan?`${t.plan.name} - ${t.plan.currency_code} ${t.plan.base_amount}`:"Select Plan"})():"Select Plan"})}),e.jsx(x,{children:p.map(s=>e.jsxs(l,{value:String(s.id),children:[s.name," - ",s.currency_code," ",s.base_amount]},s.id))})]}),i("plan_id")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Interval ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(u,{value:a.interval,onValueChange:s=>n("interval",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Interval"})}),e.jsxs(x,{children:[e.jsx(l,{value:"monthly",children:"Monthly"}),e.jsx(l,{value:"quarterly",children:"Quarterly"}),e.jsx(l,{value:"semester",children:"Semester"}),e.jsx(l,{value:"yearly",children:"Yearly"}),e.jsx(l,{value:"custom",children:"Custom"})]})]}),i("interval")]}),a.interval==="custom"&&e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Interval Count (Months)"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",min:"1",placeholder:"Enter number of months",value:a.interval_count||"",onChange:s=>n("interval_count",s.target.value?parseInt(s.target.value):null)}),i("interval_count")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Discount Type"}),e.jsxs(u,{value:a.discount_type||"none",onValueChange:s=>n("discount_type",s==="none"?"":s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Discount Type (Optional)"})}),e.jsxs(x,{children:[e.jsx(l,{value:"none",children:"None"}),e.jsx(l,{value:"percent",children:"Percentage"}),e.jsx(l,{value:"fixed",children:"Fixed Amount"})]})]}),i("discount_type")]}),a.discount_type&&e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsxs(r,{children:["Discount Value"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",min:"0",step:"0.01",placeholder:a.discount_type==="percent"?"Enter percentage":"Enter amount",value:a.discount_value||"",onChange:s=>n("discount_value",s.target.value?parseFloat(s.target.value):null)}),i("discount_value")]}),e.jsxs("div",{className:"w-[33.33%] px-2 mt-3",children:[e.jsx(r,{children:"Currency"}),e.jsxs(u,{value:a.currency_code||"default",onValueChange:s=>n("currency_code",s==="default"?"":s),children:[e.jsx(o,{className:"w-full",children:e.jsx(h,{placeholder:"Select Currency (Optional)"})}),e.jsxs(x,{children:[e.jsx(l,{value:"default",children:"Use Plan Currency"}),y.map(s=>e.jsxs(l,{value:s.code,children:[s.code," - ",s.name]},s.code))]})]}),i("currency_code")]}),e.jsxs("div",{className:"w-full px-2 mt-3",children:[e.jsx(r,{children:"Upload Profile Image"}),e.jsx(c,{type:"file",onChange:s=>{var d;return n("profile_image",((d=s.target.files)==null?void 0:d[0])??null)}}),i("profile_image")]}),e.jsxs("div",{className:"w-full px-2 mt-3",children:[e.jsx(r,{children:"Upload Identification Document"}),e.jsx(c,{type:"file",onChange:s=>{var d;return n("identification_document",((d=s.target.files)==null?void 0:d[0])??null)}}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please upload ID card and Passport together in a single PDF file (Maximum file size: 2 MB)."}),i("identification_document")]}),e.jsx("div",{className:"w-full px-2 mt-5",children:e.jsx(b,{type:"submit",disabled:_,children:"Update"})})]})})]})}export{H as default};
