import{j as e,Y as j}from"./app-BCeOW9N9.js";import{A as p}from"./authenticated-layout-BDVPFE6k.js";import{C as a,a as i,b as n,c as l}from"./card-VXQ6T6DP.js";import{R as o}from"./RatingStars-BkZpjcIX.js";import{D as u}from"./DataTable-Cvsj2WMj.js";import"./button-BJ6mlj7e.js";import"./input-BpihmCmf.js";import"./separator-BVeLWKCp.js";import"./index-C1m5ObQF.js";import"./sun-HQaehw-B.js";import"./users-BZ-atLCR.js";import"./log-out-g_pGI50i.js";import"./table-BvvKhhch.js";const S=({ratings:t,stats:s,userType:h})=>{const g=[{header:"#",cell:({row:r})=>r.index+1},{header:"Rating",cell:({row:r})=>e.jsx(o,{rating:r.original.rating,readonly:!0,size:"sm"})},{header:"From",cell:({row:r})=>e.jsxs("span",{children:[r.original.rater_name," (",r.original.rater_type,")"]})},{header:"To",cell:({row:r})=>e.jsxs("span",{children:[r.original.rated_name," (",r.original.rated_type,")"]})},{header:"Comment",cell:({row:r})=>e.jsx("span",{className:"max-w-xs truncate",title:r.original.comment||"",children:r.original.comment||"No comment"})},{header:"Date",cell:({row:r})=>e.jsx("span",{children:new Date(r.original.created_at).toLocaleDateString()})}],d=(s==null?void 0:s.total_ratings)??t.length,m=(s==null?void 0:s.average_rating)??(d>0?t.reduce((r,x)=>r+x.rating,0)/d:0),c=h==="Organization";return e.jsxs(p,{header:"Ratings Overview",children:[e.jsx(j,{title:"Ratings Overview"}),e.jsxs("div",{className:"container mx-auto py-10",children:[c&&s?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Total Ratings"})}),e.jsx(l,{children:e.jsx("span",{className:"text-3xl font-bold",children:s.total_ratings})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Average Rating"})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{rating:Math.round(s.average_rating),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold",children:s.average_rating.toFixed(1)})]})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Students Rated"})}),e.jsx(l,{children:e.jsx("span",{className:"text-3xl font-bold",children:s.students_rated})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Instructors Rated"})}),e.jsx(l,{children:e.jsx("span",{className:"text-3xl font-bold",children:s.instructors_rated})})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Total Ratings"})}),e.jsx(l,{children:e.jsx("span",{className:"text-3xl font-bold",children:d})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{className:"text-lg",children:"Average Rating"})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{rating:Math.round(m),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold",children:m.toFixed(1)})]})})]})]}),c&&s&&e.jsxs(a,{className:"mb-8",children:[e.jsx(i,{children:e.jsx(n,{children:"Rating Distribution"})}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(s.rating_distribution).map(([r,x])=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x}),e.jsx("div",{className:"text-sm text-muted-foreground",children:r.replace("_"," ").replace("stars","â˜…")})]},r))})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(n,{children:[c?"Student & Instructor Ratings":"All Ratings"," (",t.length,")"]})}),e.jsx(l,{children:t.length>0?e.jsx(u,{columns:g,data:t}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No ratings found."})})]})]})]})};export{S as default};
