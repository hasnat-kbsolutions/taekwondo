import{j as e,r as f,Y as p,b as m}from"./app-BOiaKrnq.js";import{D as j}from"./DataTable-C7Y4JBaD.js";import{B as x}from"./button-D8YHfysu.js";import{C as b,a as N,b as v,c as y}from"./card-D2K8gMSj.js";import{A as D,D as _,a as w,b as S,c as d}from"./authenticated-layout-DN-QAHOE.js";import{B as C}from"./badge-CGO4XOmO.js";import{R as h}from"./RatingStars-6SF_7-ss.js";import{D as E,a as I,b as P,c as T,d as A}from"./dialog-DXR6Yr1A.js";import{L as c}from"./label-DnRgMY3U.js";import{F as g}from"./file-text-Cja5Td5X.js";import{E as K}from"./ellipsis-BluzSH6V.js";import{E as L}from"./eye-CwtMz0lv.js";import{S as W}from"./square-pen-Dm1aUC8M.js";import{T as B}from"./trash-2-zkKMwqEB.js";import"./table-DNQQVKZT.js";import"./input-CvH_BJnq.js";import"./separator-wF5N-nG0.js";import"./index-Us7THKc4.js";import"./sun-0h1ZuuTt.js";import"./users-DkIv6nVO.js";import"./log-out-DvMYnxvU.js";const M=o=>[{header:"#",cell:({row:t})=>t.index+1},{id:"profile_image",header:"Photo",cell:({row:t})=>{const a=t.original.profile_image;if(a){const r=a.startsWith("http")?a:`/storage/${a}`;return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Profile",className:"w-10 h-10 rounded-full object-cover",onError:l=>{var i;l.currentTarget.style.display="none",(i=l.currentTarget.nextElementSibling)==null||i.classList.remove("hidden")}}),e.jsx("span",{className:"text-gray-400 italic text-xs hidden absolute inset-0 flex items-center justify-center",children:"No image"})]})}return e.jsx("span",{className:"text-gray-400 italic",children:"No image"})}},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{id:"identification_document",header:"Documents",cell:({row:t})=>{const a=t.original.identification_document;if(a){const r=a.startsWith("http")?a:`/storage/${a}`;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-blue-500"}),e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs underline",children:"View Doc"})]})}return e.jsx("span",{className:"text-gray-400 italic text-xs",children:"No doc"})}},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{id:"rating",header:"Rating",cell:({row:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{rating:typeof t.original.average_rating=="number"?Math.round(t.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",t.original.total_ratings,")"]})]})},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx(C,{variant:t.original.status?"default":"destructive",children:t.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:t})=>{const a=t.original;return e.jsxs(_,{children:[e.jsx(w,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(K,{className:"h-4 w-4"})})}),e.jsxs(S,{align:"end",children:[e.jsxs(d,{onClick:()=>o(a),children:[e.jsx(L,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(d,{asChild:!0,children:e.jsxs(m,{href:route("club.students.edit",a.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(d,{asChild:!0,children:e.jsxs(m,{href:route("club.students.destroy",a.id),method:"delete",as:"button",children:[e.jsx(B,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function ie({students:o}){var i,u;const[t,a]=f.useState(null),r=s=>{a(s)},l=()=>{a(null)};return e.jsxs(D,{header:"Students",children:[e.jsx(p,{title:"Students"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex flex-row items-center justify-between",children:[e.jsx(v,{children:"Students"}),e.jsx(m,{href:route("club.students.create"),children:e.jsx(x,{children:"Add Student"})})]}),e.jsx(y,{children:e.jsx(j,{columns:M(r),data:o})})]}),e.jsx(E,{open:!!t,onOpenChange:l,children:e.jsxs(I,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(T,{children:"Student Details"}),e.jsx(A,{children:"View detailed information about the student."})]}),t&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.profile_image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.profile_image.startsWith("http")?t.profile_image:`/storage/${t.profile_image}`,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-2 border-gray-200 shadow-lg",onError:s=>{var n;s.currentTarget.style.display="none",(n=s.currentTarget.nextElementSibling)==null||n.classList.remove("hidden")}}),e.jsx("div",{className:"w-32 h-32 hidden flex items-center justify-center rounded-full bg-gray-100 text-gray-400 text-sm italic border-2 border-gray-200",children:"No Image"})]}):e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-gray-100 text-gray-400 text-sm italic border-2 border-gray-200",children:"No Image"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[t.name," ",t.surname]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.code})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"UID",value:t.uid},{label:"Email",value:t.email},{label:"Phone",value:t.phone},{label:"Grade",value:t.grade},{label:"Gender",value:t.gender},{label:"Nationality",value:t.nationality},{label:"Date of Birth",value:t.dob?new Date(t.dob).toLocaleDateString():"Not specified"},{label:"Date of Death",value:t.dod?new Date(t.dod).toLocaleDateString():"Not specified"},{label:"ID/Passport",value:t.id_passport},{label:"Identification Document",value:t.identification_document?e.jsx("a",{href:t.identification_document.startsWith("http")?t.identification_document:`/storage/${t.identification_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"View Document"}):"No document uploaded"},{label:"City",value:t.city||"Not specified"},{label:"Website",value:t.website||"Not specified"},{label:"Street",value:t.street||"Not specified"},{label:"Postal Code",value:t.postal_code||"Not specified"},{label:"Country",value:t.country||"Not specified"},{label:"Organization",value:((i=t.organization)==null?void 0:i.name)||"Not specified"},{label:"Club",value:((u=t.club)==null?void 0:u.name)||"Not specified"},{label:"Status",value:t.status?"Active":"Inactive"},{label:"Rating",value:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{rating:typeof t.average_rating=="number"?Math.round(t.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[typeof t.average_rating=="number"?t.average_rating.toFixed(1):"0.0"," ","(",t.total_ratings," ","ratings)"]})]})}].map((s,n)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:s.label}),e.jsx("div",{className:"text-sm",children:s.value})]},n))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Attachments"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Profile Image"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-200 min-h-[200px] flex items-center justify-center",children:t.profile_image?e.jsx("img",{src:t.profile_image.startsWith("http")?t.profile_image:`/storage/${t.profile_image}`,alt:"Profile",className:"max-w-full max-h-48 object-contain rounded"}):e.jsx("span",{className:"text-gray-400 italic",children:"No profile image"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-sm font-medium text-muted-foreground",children:"Identification Document"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-200 min-h-[200px] flex items-center justify-center",children:t.identification_document?e.jsxs("div",{className:"text-center",children:[e.jsx(g,{className:"w-12 h-12 text-blue-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"PDF Document Available"}),e.jsx("a",{href:t.identification_document.startsWith("http")?t.identification_document:`/storage/${t.identification_document}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm underline mt-1 inline-block",children:"View Document"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No identification document"})})]})]})]})]})]})})]})]})}export{M as columns,ie as default};
