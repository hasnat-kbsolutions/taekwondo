import{W as _,j as e,Y as C}from"./app-CikEoOUb.js";import{B as p}from"./button-DE34mfwC.js";import{S as i,a as o,b as c,c as h,e as d}from"./select-D_R4pDbd.js";import{I as m}from"./input-BghCconx.js";import{C as N}from"./react-icons.esm-By5OCdRs.js";import{P as S,a as P,b as w}from"./popover-B4Q4HwOH.js";import{C as b}from"./calendar-BNEwoygx.js";import{L as r}from"./label-DFDTJu9O.js";import{C as M,a as E,b as D,c as I}from"./card-B9gfxKxc.js";import{A}from"./authenticated-layout-tnqnI4FE.js";import{f as j}from"./format-7_oTgTIh.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./index-CQAMZMT0.js";import"./chevron-down-rq2aknLd.js";function O({payment:a,students:L}){const{data:t,setData:u,put:v,processing:y,errors:x}=_({student_id:a.student_id||"",notes:a.notes||"",amount:a.amount||"",status:a.status||"unpaid",method:a.method||"cash",pay_at:a.pay_at||"",payment_month:a.payment_month.length===2?a.payment_month:a.payment_month.split("-")[1]||""}),n=(s,g)=>{u(s,g)},f=s=>{s.preventDefault(),v(route("organization.payments.update",a.id))},l=s=>x[s]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[s]});return e.jsxs(A,{header:"Edit Payment",children:[e.jsx(C,{title:"Edit Payment"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(M,{children:[e.jsx(E,{children:e.jsx(D,{children:"Edit Payment"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs(r,{children:["Month",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:t.payment_month,onValueChange:s=>n("payment_month",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Month"})}),e.jsx(h,{children:["01","02","03","04","05","06","07","08","09","10","11","12"].map(s=>e.jsx(d,{value:s,children:new Date(0,parseInt(s)-1).toLocaleString("default",{month:"long"})},s))})]}),l("payment_month")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Pay At",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"w-full justify-start text-left font-normal "+(!t.pay_at&&"text-muted-foreground"),children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),t.pay_at?j(new Date(t.pay_at),"PPP"):"Pick a date"]})}),e.jsx(w,{className:"w-auto p-0",children:e.jsx(b,{mode:"single",selected:t.pay_at?new Date(t.pay_at):void 0,onSelect:s=>n("pay_at",s?j(s,"yyyy-MM-dd"):""),initialFocus:!0})})]}),l("pay_at")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:t.status,onValueChange:s=>n("status",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Status"})}),e.jsxs(h,{children:[e.jsx(d,{value:"paid",children:"Paid"}),e.jsx(d,{value:"unpaid",children:"Unpaid"})]})]}),l("status")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Method",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:t.method,onValueChange:s=>n("method",s),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Method"})}),e.jsxs(h,{children:[e.jsx(d,{value:"cash",children:"Cash"}),e.jsx(d,{value:"stripe",children:"Stripe"})]})]}),l("method")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Payment Month",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"month",value:t.payment_month,onChange:s=>n("payment_month",s.target.value)}),l("payment_month")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Pay At",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",value:t.pay_at,onChange:s=>n("pay_at",s.target.value)}),l("pay_at")]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(r,{children:"Notes"}),e.jsx(m,{value:t.notes,onChange:s=>n("notes",s.target.value)})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(p,{type:"submit",disabled:y,children:"Save"})})]})," "]})})]})})]})}export{O as default};
