import{r as T,j as e,Y as G,y as U}from"./app-v-MKZwHK.js";import{A as H,S as P}from"./authenticated-layout-B2ZYBOu0.js";import{C as l,a as h,b as j,c as a}from"./card-Bue6HVht.js";import{B as i}from"./badge-CmqDq2dd.js";import{S as L,a as I,b as Y,c as $,e as c}from"./select-LjE5uhi2.js";import{C as k,T as q,a as K,b as N,c as p,A as Q}from"./tabs-CWSAMSm4.js";import{U as J}from"./user-CAi1LxFc.js";import{C as W}from"./circle-check-big--mXcFNeJ.js";import{A as z}from"./award-D29TDWFC.js";import{C as X}from"./calendar-CulvmxJX.js";import"./button-y2xYF5vs.js";import"./input-DM5ElhjT.js";import"./separator-DeFpeziM.js";import"./index-CLEmplpx.js";import"./createLucideIcon-aeo75YUw.js";import"./building-2-Bma4Oo2b.js";import"./users-Be_mREES.js";import"./log-out-DFR9R_Ks.js";import"./sun-DA2HSJIJ.js";import"./index-afWeK-hQ.js";import"./index-R1Ab9tXC.js";import"./chevron-down-B8hI96OS.js";function ye({student:t,studentData:r,attendanceData:d,paymentData:o,certifications:v,ratings:g,performanceData:n,recentActivity:B,filters:u}){var _,w,A,S,C,M,R,F;const[y,V]=T.useState(u.year||new Date().getFullYear().toString()),[O,E]=T.useState(u.month||"all"),b=(s,x)=>{const m={year:y};s==="year"?(V(x),m.year=x,m.month="all"):s==="month"&&(E(x),x==="all"?delete m.month:m.month=x),U.get(route("student.student-insights.show"),m,{preserveState:!0,replace:!0})},f=s=>{switch(s.toLowerCase()){case"present":case"paid":case"issued":return"bg-green-100 text-green-800";case"absent":case"pending":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";case"excused":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(H,{children:[e.jsx(G,{title:`My Insights - ${t.name} ${t.surname}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[e.jsx(J,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{children:"My Insights"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[t.name," ",t.surname," -"]}),(_=t.club)!=null&&_.logo?e.jsx("img",{src:`/storage/${t.club.logo}`,alt:`${t.club.name} Logo`,className:"w-4 h-4 rounded-full object-cover"}):e.jsx("div",{className:"w-4 h-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary",children:((A=(w=t.club)==null?void 0:w.name)==null?void 0:A.charAt(0))||"C"})}),e.jsx("span",{children:(S=t.club)==null?void 0:S.name})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Joined ",r.join_date," (",r.duration,")"]}),r.is_new_student&&e.jsx(i,{variant:"secondary",className:"bg-green-100 text-green-800",children:"New Student"}),r.is_senior_student&&e.jsx(i,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Senior Student"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"Organization:"}),(C=t.organization)!=null&&C.logo?e.jsx("img",{src:`/storage/${t.organization.logo}`,alt:`${t.organization.name} Logo`,className:"w-4 h-4 rounded-full object-cover"}):e.jsx("div",{className:"w-4 h-4 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary",children:((R=(M=t.organization)==null?void 0:M.name)==null?void 0:R.charAt(0))||"O"})}),e.jsx("span",{children:((F=t.organization)==null?void 0:F.name)||"N/A"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Grade: ",t.grade||"N/A"]}),e.jsx(i,{className:t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.status?"Active":"Inactive"})]})]})}),e.jsxs(l,{className:"mb-6",children:[e.jsx(h,{children:e.jsx(j,{children:"Filters"})}),e.jsx(a,{children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsxs(L,{value:y,onValueChange:s=>b("year",s),children:[e.jsx(I,{className:"w-32",children:e.jsx(Y,{})}),e.jsx($,{children:Array.from({length:5},(s,x)=>{const m=new Date().getFullYear()-x;return e.jsx(c,{value:m.toString(),children:m},m)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),e.jsxs(L,{value:O,onValueChange:s=>b("month",s),children:[e.jsx(I,{className:"w-40",children:e.jsx(Y,{})}),e.jsxs($,{children:[e.jsx(c,{value:"all",children:"All months"}),e.jsx(c,{value:"1",children:"January"}),e.jsx(c,{value:"2",children:"February"}),e.jsx(c,{value:"3",children:"March"}),e.jsx(c,{value:"4",children:"April"}),e.jsx(c,{value:"5",children:"May"}),e.jsx(c,{value:"6",children:"June"}),e.jsx(c,{value:"7",children:"July"}),e.jsx(c,{value:"8",children:"August"}),e.jsx(c,{value:"9",children:"September"}),e.jsx(c,{value:"10",children:"October"}),e.jsx(c,{value:"11",children:"November"}),e.jsx(c,{value:"12",children:"December"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[d.summary.attendance_rate,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.summary.present," of"," ",d.summary.total_classes," ","classes"]})]})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Payment Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.summary.payment_rate,"%"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["RM"," ",o.summary.total_paid.toFixed(2)," ","paid"]})]})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(z,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certifications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total certifications issued"})]})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.average_rating}),e.jsxs("p",{className:"text-xs text-gray-500",children:["From ",g.total_ratings," ratings"]})]})]})})})]}),e.jsxs(l,{className:"mb-8",children:[e.jsx(h,{children:e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-5 w-5"}),e.jsx("span",{children:"My Information"})]})}),e.jsxs(a,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.join_year}),e.jsx("div",{className:"text-sm text-gray-600",children:"Join Year"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.join_month}),e.jsx("div",{className:"text-sm text-gray-600",children:"Join Month"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.duration_years}),e.jsx("div",{className:"text-sm text-gray-600",children:"Years as Student"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.duration_months}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Months"})]})]}),r.age_at_join&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Age when joined:"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[r.age_at_join," years old"]})]})}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs(i,{variant:"outline",className:"text-sm",children:["Joined: ",r.join_date]}),e.jsxs(i,{variant:"outline",className:"text-sm",children:["Duration: ",r.duration]}),r.is_new_student&&e.jsx(i,{variant:"secondary",className:"bg-green-100 text-green-800",children:"New Student (less than 3 months)"}),r.is_senior_student&&e.jsx(i,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Senior Student (5+ years)"})]})]})]}),e.jsxs(q,{defaultValue:"attendance",className:"space-y-6",children:[e.jsxs(K,{className:"grid w-full grid-cols-6",children:[e.jsx(N,{value:"attendance",children:"Attendance"}),e.jsx(N,{value:"payments",children:"Payments"}),e.jsx(N,{value:"certifications",children:"Certifications"}),e.jsx(N,{value:"ratings",children:"Ratings"}),e.jsx(N,{value:"performance",children:"Performance"}),e.jsx(N,{value:"activity",children:"Activity"})]}),e.jsxs(p,{value:"attendance",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.summary.total_classes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Classes"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.summary.present}),e.jsx("div",{className:"text-sm text-gray-600",children:"Present"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.summary.absent}),e.jsx("div",{className:"text-sm text-gray-600",children:"Absent"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.summary.late}),e.jsx("div",{className:"text-sm text-gray-600",children:"Late"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[d.summary.attendance_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance Rate"})]})})})]}),e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"Monthly Attendance Breakdown"})}),e.jsx(a,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:d.monthly_breakdown.map(s=>e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[s.rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:s.month}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.present,"/",s.total]})]},s.month))})})]})]}),e.jsxs(p,{value:"payments",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["RM"," ",o.summary.total_paid.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Paid"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["RM"," ",o.summary.pending_amount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["RM"," ",o.summary.total_amount.toFixed(2)]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[o.summary.payment_rate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Payment Rate"})]})})})]}),e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"Recent Payments"})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:o.recent_payments.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.formatted_amount}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.method," •"," ",new Date(s.pay_at).toLocaleDateString()]})]}),e.jsx(i,{className:f(s.status),children:s.status})]},s.id))})})]})]}),e.jsx(p,{value:"certifications",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"My Certifications"})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:v.length>0?v.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Grade:"," ",s.grade]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Issued:"," ",new Date(s.earned_at).toLocaleDateString()]})]}),e.jsx(i,{className:"bg-green-100 text-green-800",children:"Issued"})]},s.id)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No certifications issued yet"})})})]})}),e.jsxs(p,{value:"ratings",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:g.average_rating}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["From ",g.total_ratings," ","ratings"]})]})})}),e.jsx(l,{children:e.jsx(a,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:g.rating_breakdown.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm",children:[s.rating," ","stars"]}),e.jsx("span",{className:"text-sm font-semibold",children:s.count})]},s.rating))})})})]}),e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"Recent Ratings"})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:g.recent_ratings.length>0?g.recent_ratings.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg font-semibold",children:s.rating}),e.jsx(P,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["by"," ",s.rater_name]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm text-gray-700",children:s.comment})]},s.id)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No ratings received yet"})})})]})]}),e.jsx(p,{value:"performance",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"Attendance Performance"})}),e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"My Attendance Rate"}),e.jsxs("span",{className:"font-semibold",children:[n.attendance_rate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Club Average"}),e.jsxs("span",{className:"font-semibold",children:[n.club_avg_attendance,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Difference"}),e.jsxs("span",{className:`font-semibold ${n.attendance_vs_club>=0?"text-green-600":"text-red-600"}`,children:[n.attendance_vs_club>=0?"+":"",n.attendance_vs_club.toFixed(1),"%"]})]})]})})]}),e.jsxs(l,{children:[e.jsx(h,{children:e.jsx(j,{children:"Payment Performance"})}),e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"My Payment Rate"}),e.jsxs("span",{className:"font-semibold",children:[n.payment_rate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Club Average"}),e.jsxs("span",{className:"font-semibold",children:[n.club_avg_payment,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Difference"}),e.jsxs("span",{className:`font-semibold ${n.payment_vs_club>=0?"text-green-600":"text-red-600"}`,children:[n.payment_vs_club>=0?"+":"",n.payment_vs_club.toFixed(1),"%"]})]})]})})]})]})}),e.jsx(p,{value:"activity",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(h,{children:e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{children:"Recent Activity"})]})}),e.jsx(a,{children:e.jsx("div",{className:"space-y-4",children:B.map((s,x)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:s.type==="attendance"?e.jsx(X,{className:"h-5 w-5 text-blue-600"}):s.type==="payment"?e.jsx(k,{className:"h-5 w-5 text-green-600"}):e.jsx(z,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString()})]}),e.jsx(i,{className:f(s.status),children:s.status})]},x))})})]})})]})]})})]})}export{ye as default};
