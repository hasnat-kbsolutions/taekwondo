import{W as A,r as f,j as e,Y as y}from"./app-CHxsABbU.js";import{A as E}from"./authenticated-layout-BpjSoaF9.js";import{I as _}from"./input-CbcG-BTm.js";import{B as I}from"./button-CVVcaTnG.js";import{L as n}from"./label-CCOtPfjK.js";import{C as O,a as T,b as V,c as L}from"./card-C5nEaoSG.js";import{S as l,a as d,b as o,c,e as m}from"./select-D09diZvD.js";import{T as B}from"./textarea-CJeeqGNH.js";import"./separator-DNOPl6qu.js";import"./index-CN-1e5st.js";import"./createLucideIcon-BOF96pXa.js";import"./building-2-Ik-crbZS.js";import"./users-BD-bUwfe.js";import"./log-out-DhNmSrES.js";import"./calendar-BaxiiAEL.js";import"./sun-BGtUC1J2.js";import"./index-Dh0DyDEf.js";import"./index-B5rDxbdp.js";import"./chevron-down-DVqaVJfg.js";function se({organizations:C,clubs:b,students:S}){const v=C??[],u=b??[],x=S??[],{data:s,setData:i,post:N,processing:z,errors:h}=A({organization_id:"",club_id:"",student_id:"",file:null,issued_at:"",notes:""}),p=f.useMemo(()=>{const t=u.filter(r=>String(r.organization_id)===String(s.organization_id));return console.log("Filtered Clubs:",t),t},[u,s.organization_id]),j=f.useMemo(()=>{const t=x.filter(r=>String(r.club_id)===String(s.club_id));return console.log("Filtered Students:",t),t},[x,s.club_id]),w=t=>{var g;const r=((g=t.target.files)==null?void 0:g[0])||null;i("file",r)},a=t=>h[t]?e.jsx("div",{className:"text-red-500 text-xs mt-1",children:h[t]}):null,F=t=>{t.preventDefault(),N("/admin/certificates")};return e.jsxs(E,{header:"Create Ahli Gabungan",children:[e.jsx(y,{title:"Create Organization"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(O,{children:[e.jsx(T,{children:e.jsx(V,{children:"Assign Certificate"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:F,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Organization"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:s.organization_id,onValueChange:t=>{i({...s,organization_id:t,club_id:"",student_id:""})},children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Organization"})}),e.jsx(c,{children:v.map(t=>e.jsx(m,{value:t.id.toString(),children:t.name},t.id))})]}),a("organization_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Club ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:s.club_id,onValueChange:t=>{i({...s,club_id:t,student_id:""})},disabled:!s.organization_id||p.length===0,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Club"})}),e.jsx(c,{children:p.map(t=>e.jsx(m,{value:t.id.toString(),children:t.name},t.id))})]}),a("club_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Student"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:s.student_id,onValueChange:t=>i("student_id",t),disabled:!s.club_id||j.length===0,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Student"})}),e.jsx(c,{children:j.map(t=>e.jsx(m,{value:t.id.toString(),children:t.name},t.id))})]}),a("student_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(n,{htmlFor:"issued_at",children:"Issued At"}),e.jsx(_,{id:"issued_at",type:"date",value:s.issued_at,onChange:t=>i("issued_at",t.target.value)}),a("issued_at")]}),e.jsxs("div",{className:"w-[50%] px-2 mt-3",children:[e.jsxs(n,{htmlFor:"file",children:["Certificate File"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"file",type:"file",accept:".pdf,image/*",onChange:w}),a("file")]}),e.jsxs("div",{className:"w-full px-2 mt-3",children:[e.jsx(n,{htmlFor:"notes",children:"Notes"}),e.jsx(B,{id:"notes",value:s.notes,onChange:t=>i("notes",t.target.value),rows:4,placeholder:"Enter notes here"}),a("notes")]}),e.jsx("div",{className:"w-full px-2 mt-6",children:e.jsx(I,{type:"submit",disabled:z,children:"Assign Certificate"})})]})})]})})]})}export{se as default};
