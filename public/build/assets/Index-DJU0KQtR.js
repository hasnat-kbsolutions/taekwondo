import{r as S,j as e,Y as N,y as d}from"./app-Qc4CeIVR.js";import{A as C}from"./authenticated-layout-ky9aO383.js";import{B as A}from"./button-C_h6ToX0.js";import{C as m,a as x,b as p,c as h}from"./card-aGJSTTtW.js";import{L as v}from"./label-B7U_IG_r.js";import{S as w,a as Y,b as M,c as D,e as F}from"./select-C0cthBOg.js";import{f as L}from"./format-LUeNQFBy.js";import"./input-iz2NDNEj.js";import"./separator-CgvCt5_y.js";import"./index-CnUrj3gZ.js";import"./createLucideIcon-775Dkrg4.js";import"./building-2-BOzU0Xrn.js";import"./users-AXSi9GuI.js";import"./log-out-D5ccv8f0.js";import"./calendar-CZxiGZ8L.js";import"./sun-C1Um4luV.js";import"./index-8jmc5Owj.js";import"./index-D46JdVQV.js";import"./chevron-down-Cz7cvS-S.js";const a=new Date().getFullYear(),_=Array.from({length:31},(l,n)=>a-15+n);function I({attendance:l,year:n}){const[s,c]=S.useState(n||a),j=r=>{const t=parseInt(r);c(t),d.get(route("student.attendances.index"),{year:t})},u=()=>{c(a),d.get(route("student.attendances.index"),{year:a})},f=r=>{const t=l[r];return t==="present"?"✅":t==="absent"?"❌":"–"};return e.jsxs(C,{header:"My Attendance",children:[e.jsx(N,{title:"My Attendance"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(p,{children:"Filters"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[180px]",children:[e.jsx(v,{className:"text-sm mb-1",children:"Year"}),e.jsxs(w,{onValueChange:j,value:s.toString(),children:[e.jsx(Y,{children:e.jsx(M,{placeholder:"Select a year"})}),e.jsx(D,{children:_.map(r=>e.jsx(F,{value:r.toString(),children:r},r))})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(A,{onClick:u,children:"Reset Filters"})})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(p,{children:["Attendance for ",s]})}),e.jsx(h,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto border border-collapse w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1 text-left",children:"Month"}),[...Array(31)].map((r,t)=>e.jsx("th",{className:"border px-2 py-1 text-center",children:t+1},t+1))]})}),e.jsx("tbody",{children:[...Array(12)].map((r,t)=>{const y=new Date(s,t).toLocaleString("default",{month:"long"});return e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 font-semibold",children:y}),[...Array(31)].map((V,o)=>{const i=new Date(s,t,o+1),b=L(i,"yyyy-MM-dd"),g=i.getMonth()===t;return e.jsx("td",{className:"border px-1 py-1 text-center",children:g?f(b):""},o)})]},t)})})]})})})]})]})]})}export{I as default};
