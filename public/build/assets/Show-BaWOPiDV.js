import{r as p,W as R,j as e,Y as I,y as A}from"./app-CikEoOUb.js";import{d as C,A as D}from"./authenticated-layout-tnqnI4FE.js";import{C as i,a as l,b as n,c}from"./card-B9gfxKxc.js";import{B as z}from"./button-DE34mfwC.js";import{T as L}from"./textarea-BES-R4bf.js";import{L as a}from"./label-DFDTJu9O.js";import{S as P,a as M,b as k,c as T,e as B}from"./select-D_R4pDbd.js";import{S,R as d}from"./RatingStars-DApZNAQp.js";import{U as E}from"./user-CZJBIOAQ.js";import{C as F}from"./calendar-9yWctGXD.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=C("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=C("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ae=({student:t,ratingsReceived:m,ratingsGiven:x,instructors:_,stats:o})=>{var v,b;const[h,g]=p.useState(""),[j,u]=p.useState(0),[f,N]=p.useState(""),{processing:y,errors:r}=R({rated_id:"",rated_type:"App\\Models\\Instructor",rating:0,comment:""}),w=s=>{s.preventDefault(),A.post(route("ratings.store"),{rated_id:h,rated_type:"App\\Models\\Instructor",rating:j,comment:f},{onSuccess:()=>{g(""),u(0),N("")}})};return e.jsxs(D,{header:"My Profile",children:[e.jsx(I,{title:"My Profile"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"Profile Information"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.name," ",t.surname]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-lg",children:t.email})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"text-lg",children:t.phone})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Grade"}),e.jsx("p",{className:"text-lg",children:t.grade})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"text-lg",children:t.gender})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{className:"text-lg",children:t.dob?new Date(t.dob).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Nationality"}),e.jsx("p",{className:"text-lg",children:t.nationality})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"City"}),e.jsx("p",{className:"text-lg",children:t.city})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Country"}),e.jsx("p",{className:"text-lg",children:t.country})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Club"}),e.jsx("p",{className:"text-lg",children:((v=t.club)==null?void 0:v.name)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsx("p",{className:"text-lg",children:((b=t.organization)==null?void 0:b.name)||"Not assigned"})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Received (",m.length,")"]})}),e.jsx(c,{children:m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["by"," ",s.rater_name," ","(",s.rater_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings received yet."})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Given (",x.length,")"]})}),e.jsx(c,{children:x.length>0?e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["to"," ",s.rated_name," ","(",s.rated_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings given yet."})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Statistics"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Certifications"})]}),e.jsx("span",{className:"font-semibold",children:o.certifications_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Attendances"})]}),e.jsx("span",{className:"font-semibold",children:o.attendances_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Payments"})]}),e.jsx("span",{className:"font-semibold",children:o.payments_count})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Average Rating"})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(d,{rating:typeof t.average_rating=="number"?Math.round(t.average_rating):0,readonly:!0,size:"lg"})}),e.jsx("p",{className:"text-2xl font-bold",children:typeof t.average_rating=="number"?t.average_rating.toFixed(1):"0.0"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.total_ratings," rating",t.total_ratings!==1?"s":""]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Rate an Instructor"})}),e.jsx(c,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"instructor",children:"Select Instructor"}),e.jsxs(P,{value:h,onValueChange:g,children:[e.jsx(M,{children:e.jsx(k,{placeholder:"Choose an instructor"})}),e.jsx(T,{children:_.map(s=>e.jsxs(B,{value:s.id.toString(),children:[s.name," (",s.grade,")"]},s.id))})]}),r.rated_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rated_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Rating"}),e.jsx(d,{rating:j,onRatingChange:u,size:"md"}),r.rating&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rating})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"comment",children:"Comment (Optional)"}),e.jsx(L,{id:"comment",value:f,onChange:s=>N(s.target.value),placeholder:"Share your experience...",rows:3}),r.comment&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.comment})]}),e.jsx(z,{type:"submit",disabled:!h||j===0||y,className:"w-full",children:y?"Submitting...":"Submit Rating"})]})})]})]})]})})]})};export{ae as default};
