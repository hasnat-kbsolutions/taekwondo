import{W as A,r as f,j as e,Y as y}from"./app-CikEoOUb.js";import{A as E}from"./authenticated-layout-tnqnI4FE.js";import{I as _}from"./input-BghCconx.js";import{B as I}from"./button-DE34mfwC.js";import{L as n}from"./label-DFDTJu9O.js";import{C as O,a as T,b as V,c as L}from"./card-B9gfxKxc.js";import{S as r,a as d,b as c,c as o,e as u}from"./select-D_R4pDbd.js";import{T as B}from"./textarea-BES-R4bf.js";import"./index-CQAMZMT0.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";function Q({organizations:C,clubs:b,students:S}){const v=C??[],x=b??[],m=S??[],{data:t,setData:i,post:N,processing:z,errors:h}=A({organization_id:"",club_id:"",student_id:"",file:null,issued_at:"",notes:""}),j=f.useMemo(()=>{const s=x.filter(l=>String(l.organization_id)===String(t.organization_id));return console.log("Filtered Clubs:",s),s},[x,t.organization_id]),p=f.useMemo(()=>{const s=m.filter(l=>String(l.club_id)===String(t.club_id));return console.log("Filtered Students:",s),s},[m,t.club_id]),w=s=>{var g;const l=((g=s.target.files)==null?void 0:g[0])||null;i("file",l)},a=s=>h[s]?e.jsx("div",{className:"text-red-500 text-xs mt-1",children:h[s]}):null,F=s=>{s.preventDefault(),N("/admin/certificates")};return e.jsxs(E,{header:"Create Ahli Gabungan",children:[e.jsx(y,{title:"Create Organization"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(O,{children:[e.jsx(T,{children:e.jsx(V,{children:"Assign Certificate"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:F,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Organization"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(r,{value:t.organization_id,onValueChange:s=>{i({...t,organization_id:s,club_id:"",student_id:""})},children:[e.jsx(d,{children:e.jsx(c,{placeholder:"Select Organization"})}),e.jsx(o,{children:v.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("organization_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Club ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(r,{value:t.club_id,onValueChange:s=>{i({...t,club_id:s,student_id:""})},disabled:!t.organization_id||j.length===0,children:[e.jsx(d,{children:e.jsx(c,{placeholder:"Select Club"})}),e.jsx(o,{children:j.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("club_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Student"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(r,{value:t.student_id,onValueChange:s=>i("student_id",s),disabled:!t.club_id||p.length===0,children:[e.jsx(d,{children:e.jsx(c,{placeholder:"Select Student"})}),e.jsx(o,{children:p.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("student_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(n,{htmlFor:"issued_at",children:"Issued At"}),e.jsx(_,{id:"issued_at",type:"date",value:t.issued_at,onChange:s=>i("issued_at",s.target.value)}),a("issued_at")]}),e.jsxs("div",{className:"w-[50%] px-2 mt-3",children:[e.jsxs(n,{htmlFor:"file",children:["Certificate File"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"file",type:"file",accept:".pdf,image/*",onChange:w}),a("file")]}),e.jsxs("div",{className:"w-full px-2 mt-3",children:[e.jsx(n,{htmlFor:"notes",children:"Notes"}),e.jsx(B,{id:"notes",value:t.notes,onChange:s=>i("notes",s.target.value),rows:4,placeholder:"Enter notes here"}),a("notes")]}),e.jsx("div",{className:"w-full px-2 mt-6",children:e.jsx(I,{type:"submit",disabled:z,children:"Assign Certificate"})})]})})]})})]})}export{Q as default};
