import{r as h,j as e,Y as y,b as o,y as g}from"./app-CNLR0DIp.js";import{B as c}from"./button-BFvzOohO.js";import{C,a as w,b as _,c as S}from"./card-A51GI-p_.js";import{A as D,D as I,a as E,b as z,c as n}from"./authenticated-layout-DutDL5IX.js";import{D as A}from"./DataTable-CsTW4IjW.js";import{L as p}from"./label-DDNeWs3Y.js";import{S as M,a as T,b as K,c as R,e as j}from"./select-B8yE-HKp.js";import{R as f}from"./RatingStars-C5OBqOfM.js";import{D as V,a as F,b as G,c as L,d as P}from"./dialog-C8esMiQc.js";import{E as k}from"./ellipsis-DlSwjC7W.js";import{E as B}from"./eye-Cvc2xaUt.js";import{S as H}from"./square-pen-B92XxbGd.js";import{T as q}from"./trash-2-bb1KgTNm.js";import"./input-BdDHIpxK.js";import"./separator-DTrM_Ru7.js";import"./index-BswMLaOF.js";import"./sun-CboAYruK.js";import"./users-CUo-C-vI.js";import"./log-out-B1kDetli.js";import"./table-5fSRAYSM.js";import"./index-RVYuYhkN.js";import"./index-CwCbuvh8.js";import"./chevron-down-Di6Iui4y.js";const O=i=>[{header:"#",cell:({row:s})=>s.index+1},{header:"Photo",cell:({row:s})=>s.original.profile_picture?e.jsx("img",{src:s.original.profile_picture,alt:"Instructor",className:"w-10 h-10 object-cover rounded-full"}):"-"},{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"IC Number",accessorKey:"ic_number"},{header:"Mobile",accessorKey:"mobile"},{header:"Grade",accessorKey:"grade"},{header:"Gender",accessorKey:"gender",cell:({row:s})=>{const t=s.original.gender;return t?t.charAt(0).toUpperCase()+t.slice(1):"-"}},{header:"Club",cell:({row:s})=>{var t;return((t=s.original.club)==null?void 0:t.name)??"-"}},{header:"Rating",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{rating:typeof s.original.average_rating=="number"?Math.round(s.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.original.total_ratings,")"]})]})},{header:"Actions",cell:({row:s})=>{const t=s.original;return e.jsxs(I,{children:[e.jsx(E,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(k,{className:"h-4 w-4"})})}),e.jsxs(z,{align:"end",children:[e.jsxs(n,{onClick:()=>i(t),children:[e.jsx(B,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(n,{asChild:!0,children:e.jsxs(o,{href:route("organization.instructors.edit",t.id),children:[e.jsx(H,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(n,{asChild:!0,children:e.jsxs(o,{href:route("organization.instructors.destroy",t.id),method:"delete",as:"button",children:[e.jsx(q,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function ge({instructors:i,clubs:s=[],filters:t}){var x;const[d,m]=h.useState(t.club_id||""),[r,u]=h.useState(null),b=a=>{u(a)},v=(a={})=>{g.get(route("organization.instructors.index"),{club_id:a.club_id??(d||null)},{preserveScroll:!0,preserveState:!0,replace:!0})},N=()=>{m(""),g.get(route("organization.instructors.index"),{},{preserveScroll:!0,preserveState:!1,replace:!0})};return e.jsxs(D,{header:"Instructors",children:[e.jsx(y,{title:"Instructors"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(C,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between",children:[e.jsx(_,{children:"Instructors"}),e.jsx(o,{href:route("organization.instructors.create"),children:e.jsx(c,{children:"Add Instructor"})})]}),e.jsxs(S,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Club"}),e.jsxs(M,{value:d,onValueChange:a=>{const l=a==="all"?"":a;m(l),v({club_id:l})},children:[e.jsx(T,{children:e.jsx(K,{placeholder:"All Clubs"})}),e.jsxs(R,{children:[e.jsx(j,{value:"all",children:"All Clubs"}),s.map(a=>e.jsx(j,{value:a.id.toString(),children:a.name},a.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(c,{variant:"secondary",onClick:N,children:"Reset Filters"})})]})}),e.jsx(A,{columns:O(b),data:i})]})]})}),e.jsx(V,{open:!!r,onOpenChange:()=>u(null),children:e.jsxs(F,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(G,{children:[e.jsx(L,{children:"Instructor Details"}),e.jsx(P,{children:"View detailed information about the instructor."})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.profile_picture?e.jsx("img",{src:r.profile_picture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-2 border-gray-200 shadow-lg"}):e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-gray-100 text-gray-400 text-sm italic border-2 border-gray-200",children:"No Image"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.grade})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Email",value:r.email},{label:"Mobile",value:r.mobile||"Not specified"},{label:"IC Number",value:r.ic_number||"Not specified"},{label:"Grade",value:r.grade||"Not specified"},{label:"Club",value:((x=r.club)==null?void 0:x.name)||"Not assigned"},{label:"Address",value:r.address||"Not specified"},{label:"Rating",value:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{rating:typeof r.average_rating=="number"?Math.round(r.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[typeof r.average_rating=="number"?r.average_rating.toFixed(1):"0.0"," ","(",r.total_ratings," ","ratings)"]})]})}].map((a,l)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-sm font-medium text-muted-foreground",children:a.label}),e.jsx("div",{className:"text-sm",children:a.value})]},l))})]})]})})]})}export{ge as default};
