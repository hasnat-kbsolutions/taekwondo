import{r as d,j as e,Y as _,b as m,y as h}from"./app-ByP4EyMF.js";import{B as u}from"./button-xRIIPuWW.js";import{B as x}from"./badge-Dh2Aq8W_.js";import{A as E,C as I,q as F,D as L,a as O,b as P,c as g}from"./authenticated-layout-Qq67eihM.js";import{S as p,a as j,b as v,c as f,e as s}from"./select-DYOzuw-F.js";import{D as $}from"./DataTable-Dw3B_R9W.js";import{A as B,a as V,b as H,c as K,d as q,e as U,f as z,g as R}from"./alert-dialog-DXcn31GH.js";import{c as y}from"./sun-w0LeklHu.js";import{M as Y}from"./map-pin-CCGJE_zB.js";import{F as G}from"./file-text-C9-O2sHM.js";import{D as J}from"./download-Cl1z07H7.js";import{E as Q}from"./ellipsis-C7xeqP8s.js";import{S as W}from"./square-pen-CQC0BOid.js";import{T as X}from"./trash-2-BVfeJSpJ.js";import"./input-DHU4GFng.js";import"./separator-DivMgUP8.js";import"./index-DmN_BMdc.js";import"./users-BmXZoUBI.js";import"./log-out-DV0RpnIg.js";import"./index-BMO2_zHf.js";import"./index-UrMmZlMe.js";import"./index-C39nNiIL.js";import"./chevron-down-oDmv8qA3.js";import"./table-9EkxEIEw.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=y("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function Ae({events:D,filters:r}){const[a,i]=d.useState(null),[N,l]=d.useState(!1),b=t=>{i(t),l(!0)},C=()=>{a&&h.delete(route("club.events.destroy",a.id),{preserveScroll:!0,onSuccess:()=>{l(!1),i(null)}})},o=({status:t,event_type:n})=>{h.get(route("club.events.index"),{status:t,event_type:n},{preserveState:!0,preserveScroll:!0})},S=t=>new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),A=t=>{if(!t)return"";const[n,k]=t.split(":"),c=parseInt(n),M=c>=12?"PM":"AM";return`${c%12||12}:${k} ${M}`},w=t=>{switch(t){case"upcoming":return"bg-blue-500";case"ongoing":return"bg-green-500";case"completed":return"bg-gray-500";default:return"bg-gray-500"}},T=[{accessorKey:"title",header:"Title",cell:({row:t})=>e.jsx("div",{className:"font-medium",children:t.original.title})},{accessorKey:"event_type",header:"Type",cell:({row:t})=>e.jsx(x,{variant:"outline",children:t.original.event_type})},{header:"Date",cell:({row:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),S(t.original.event_date)]})},{header:"Time",cell:({row:t})=>t.original.start_time?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-muted-foreground"}),A(t.original.start_time)]}):"-"},{header:"Location",cell:({row:t})=>t.original.venue?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.original.venue})]}):"-"},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx(x,{className:w(t.original.status),children:t.original.status})},{id:"attachments",header:"Attachments",cell:({row:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[t.original.image&&e.jsxs("a",{href:`/storage/${t.original.image}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100",title:"View Image",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Image"})]}),t.original.document&&e.jsxs("a",{href:`/storage/${t.original.document}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100",title:"Download Document",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx(J,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs",children:"Doc"})]}),!t.original.image&&!t.original.document&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"None"})]})},{id:"actions",cell:({row:t})=>e.jsxs(L,{children:[e.jsx(O,{asChild:!0,children:e.jsx(u,{variant:"ghost",size:"icon",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsx(g,{asChild:!0,children:e.jsxs(m,{href:route("club.events.edit",t.original.id),children:[e.jsx(W,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsxs(g,{onClick:()=>b(t.original),className:"text-red-600",children:[e.jsx(X,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})}];return e.jsxs(E,{children:[e.jsx(_,{title:"Events"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Events"}),e.jsx(u,{asChild:!0,children:e.jsxs(m,{href:route("club.events.create"),children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(p,{value:r.status||"all",onValueChange:t=>o({status:t==="all"?void 0:t,event_type:r.event_type}),children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(v,{placeholder:"Filter by Status"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Status"}),e.jsx(s,{value:"upcoming",children:"Upcoming"}),e.jsx(s,{value:"ongoing",children:"Ongoing"}),e.jsx(s,{value:"completed",children:"Completed"})]})]}),e.jsxs(p,{value:r.event_type||"all",onValueChange:t=>o({status:r.status,event_type:t==="all"?void 0:t}),children:[e.jsx(j,{className:"w-[180px]",children:e.jsx(v,{placeholder:"Filter by Type"})}),e.jsxs(f,{children:[e.jsx(s,{value:"all",children:"All Types"}),e.jsx(s,{value:"training",children:"Training"}),e.jsx(s,{value:"competition",children:"Competition"}),e.jsx(s,{value:"seminar",children:"Seminar"}),e.jsx(s,{value:"meeting",children:"Meeting"}),e.jsx(s,{value:"other",children:"Other"})]})]})]}),e.jsx($,{columns:T,data:D}),e.jsx(B,{open:N,onOpenChange:l,children:e.jsxs(V,{children:[e.jsxs(H,{children:[e.jsx(K,{children:"Are you sure?"}),e.jsxs(q,{children:['This will permanently delete the event "',a==null?void 0:a.title,'". This action cannot be undone.']})]}),e.jsxs(U,{children:[e.jsx(z,{onClick:()=>l(!1),children:"Cancel"}),e.jsx(R,{onClick:C,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})]})}export{Ae as default};
