import{j as e,b,r as d,Y as k,y as E}from"./app-CikEoOUb.js";import{D as G}from"./DataTable-BVsypS1V.js";import{B as S}from"./button-DE34mfwC.js";import{D as M,a as B,b as O,c as y,A as P}from"./authenticated-layout-tnqnI4FE.js";import{E as L}from"./ellipsis-CvJy5PQA.js";import{E as R}from"./eye-Ds39zDLU.js";import{S as q}from"./square-pen-GySVy4y7.js";import{T as H}from"./trash-2-BzQTabuC.js";import{C as T,a as z,b as I,c as F}from"./card-B9gfxKxc.js";import{L as j}from"./label-DFDTJu9O.js";import{S as p,a as f,b as g,c as N,e as t}from"./select-D_R4pDbd.js";import{D as Y,a as J,c as Q,d as U}from"./dialog-PNNo5n6u.js";import{B as W}from"./badge-YCVpdJLF.js";import"./table-BDtgScpB.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";const X=v=>[{header:"#",cell:({row:l})=>l.index+1},{accessorKey:"name",header:"Name"},{accessorKey:"surename",header:"Surename"},{accessorKey:"gender",header:"Gender"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"type",header:"Type"},{id:"actions",header:"Actions",cell:({row:l})=>{const n=l.original;return e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(O,{align:"end",children:[e.jsxs(y,{onClick:()=>v(n),children:[e.jsx(R,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(y,{asChild:!0,children:e.jsxs(b,{href:route("admin.supporters.edit",n.id),children:[e.jsx(q,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(y,{asChild:!0,children:e.jsxs(b,{href:route("admin.supporters.destroy",n.id),method:"delete",as:"button",children:[e.jsx(H,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function fe({supporters:v,organizations:l,clubs:n,filters:c}){const[i,w]=d.useState(c.organization_id||""),[o,C]=d.useState(c.club_id||""),[m,D]=d.useState(c.gender||""),[x,A]=d.useState(c.status||""),[r,_]=d.useState(null),u=({organization_id:s,club_id:a,gender:h,status:V})=>{E.get(route("admin.supporters.index"),{organization_id:s,club_id:a,gender:h,status:V},{preserveScroll:!0,preserveState:!0,replace:!0})},K=()=>{w(""),C(""),D(""),A(""),E.get(route("admin.supporters.index"))};return e.jsxs(P,{header:"Supporters",children:[e.jsx(k,{title:"Supporters"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(T,{children:[e.jsx(z,{children:e.jsx(I,{children:"Filters"})}),e.jsx(F,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(p,{value:i,onValueChange:s=>{w(s==="all"?"":s),u({organization_id:i,club_id:o,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Organizations"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),l.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Club"}),e.jsxs(p,{value:o,onValueChange:s=>{const a=s==="all"?"":s;C(a),u({organization_id:i,club_id:a,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Clubs"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),n.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Gender"}),e.jsxs(p,{value:m,onValueChange:s=>{const a=s==="all"?"":s;D(a),u({organization_id:i,club_id:o,gender:a,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Genders"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(j,{className:"text-sm mb-1",children:"Status"}),e.jsxs(p,{value:x,onValueChange:s=>{const a=s==="all"?"":s;A(a),u({organization_id:i,club_id:o,gender:m,status:a})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Statuses"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-foreground text-background",onClick:K,children:"Reset Filters"})})]})})]}),e.jsxs(T,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between",children:[e.jsx(I,{children:"Supporters"}),e.jsx(b,{href:route("admin.supporters.create"),children:e.jsx(S,{children:"Add Supporter"})})]}),e.jsx(F,{children:e.jsx(G,{columns:X(s=>_(s)),data:v})})]}),r&&e.jsx(Y,{open:!!r,onOpenChange:s=>{s||_(null)},children:e.jsxs(J,{className:"w-96",children:[e.jsxs("div",{className:"grid justify-center",children:[e.jsx("div",{className:"grid justify-center",children:e.jsx("div",{className:"mt-1   bg-foreground  rounded-full w-28 h-28 flex justify-center items-center ",children:r.profile_image?e.jsx("img",{src:r.profile_image,alt:"Profile",className:"w-28 h-28 rounded-full object-cover",onError:s=>{var h;s.currentTarget.style.display="none";const a=document.createElement("span");a.className="italic text-gray-500",a.textContent="No image",(h=s.currentTarget.parentNode)==null||h.appendChild(a)}}):e.jsx("span",{className:"italic text-muted-foreground",children:"No image"})})}),e.jsx("div",{className:"flex justify-start mt-4 mb-4 ",children:e.jsxs("div",{className:"block",children:[e.jsx(Q,{children:"Supporter Details"}),e.jsx(U,{className:"text-xs text-center",children:"Full supporter details"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Name:"})," ",r.name," ",r.surename]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground   font-medium",children:"Email:"})," ",r.email]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Phone :"})," ",r.phone]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Gender:"})," ",r.gender]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:" text-foreground  font-medium",children:"Country:"})," ",r.country]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Type :"})," ",r.type]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground font-medium",children:"Status :"}),e.jsx(W,{variant:r.status?"default":"destructive",children:r.status?"Active":"Inactive"})]})]})]})})]})]})}export{fe as default};
