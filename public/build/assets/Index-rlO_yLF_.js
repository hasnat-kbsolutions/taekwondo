import{j as e,Y as c,b as n,y as m}from"./app-ByP4EyMF.js";import{D as u}from"./DataTable-Dw3B_R9W.js";import{B as d}from"./button-xRIIPuWW.js";import{C as h,a as x,b as g,c as p}from"./card-CKPA4ccG.js";import{A as f,D as j,a as y,b as N,c as i}from"./authenticated-layout-Qq67eihM.js";import{B as b}from"./badge-Dh2Aq8W_.js";import{R as v}from"./RatingStars-DZWBoLLx.js";import{F as C}from"./file-text-C9-O2sHM.js";import{E as D}from"./ellipsis-C7xeqP8s.js";import{E as w}from"./eye-BKf0uv2I.js";import{T as E}from"./trash-2-BVfeJSpJ.js";import"./table-9EkxEIEw.js";import"./input-DHU4GFng.js";import"./separator-DivMgUP8.js";import"./index-DmN_BMdc.js";import"./sun-w0LeklHu.js";import"./users-BmXZoUBI.js";import"./log-out-DV0RpnIg.js";const _=r=>[{header:"#",cell:({row:t})=>t.index+1},{id:"profile_image",header:"Photo",cell:({row:t})=>{const s=t.original.profile_image;if(s){const a=s.startsWith("http")?s:`/storage/${s}`;return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a,alt:"Profile",className:"w-10 h-10 rounded-full object-cover",onError:l=>{var o;l.currentTarget.style.display="none",(o=l.currentTarget.nextElementSibling)==null||o.classList.remove("hidden")}}),e.jsx("span",{className:"text-gray-400 italic text-xs hidden absolute inset-0 flex items-center justify-center",children:"No image"})]})}return e.jsx("span",{className:"text-gray-400 italic",children:"No image"})}},{accessorKey:"code",header:"Code"},{id:"fullName",header:"Name",cell:({row:t})=>`${t.original.name} ${t.original.surname||""}`.trim()},{accessorKey:"email",header:"Email"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{id:"identification_document",header:"Documents",cell:({row:t})=>{const s=t.original.identification_document;if(s){const a=s.startsWith("http")?s:`/storage/${s}`;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-blue-500"}),e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs underline",children:"View Doc"})]})}return e.jsx("span",{className:"text-gray-400 italic text-xs",children:"No doc"})}},{accessorKey:"phone",header:"Phone"},{id:"rating",header:"Rating",cell:({row:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{rating:typeof t.original.average_rating=="number"?Math.round(t.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",t.original.total_ratings,")"]})]})},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx(b,{variant:t.original.status?"default":"destructive",children:t.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:t})=>e.jsxs(j,{children:[e.jsx(y,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"sm",children:e.jsx(D,{className:"w-4 h-4"})})}),e.jsxs(N,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(n,{href:route("club.student-insights.show",t.original.id),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),e.jsx(i,{asChild:!0,children:e.jsx(n,{href:route("club.students.edit",t.original.id),children:"Edit"})}),e.jsxs(i,{onClick:()=>{r&&confirm("Are you sure you want to delete this student?")&&r(t.original)},className:"text-red-600",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}];function O({students:r}){const t=s=>{m.delete(route("club.students.destroy",s.id))};return e.jsxs(f,{header:"Students",children:[e.jsx(c,{title:"Students"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(h,{children:[e.jsxs(x,{className:"flex flex-row items-center justify-between",children:[e.jsx(g,{children:"Students"}),e.jsx(n,{href:route("club.students.create"),children:e.jsx(d,{children:"Add Student"})})]}),e.jsx(p,{children:e.jsx(u,{columns:_(t),data:r})})]})})]})}export{_ as columns,O as default};
