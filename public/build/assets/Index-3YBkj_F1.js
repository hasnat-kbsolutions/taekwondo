import{q as E,r as d,j as e,Y as M,b as x,y as v}from"./app-gYIPFPXi.js";import{B as h}from"./button-DfQjdSuc.js";import{A as O,D as F,a as K,b as T,c as o}from"./authenticated-layout-BYLnZGXD.js";import{D as V}from"./DataTable-CViHcuYQ.js";import{L as N}from"./label-BoxIKn2v.js";import{C,a as I,b as y,c as w}from"./card-G2xcJWQM.js";import{S as D,a as S,b as z,c as _,e as a}from"./select-BcI28XTK.js";import{D as k,a as L,b as P,c as B}from"./dialog-C-QiQU5y.js";import{E as G}from"./ellipsis-BbKLegi2.js";import"./input-B-R5K4jk.js";import"./index-CLbCPIar.js";import"./table-B8RkWeCc.js";import"./index-CD8e43-c.js";import"./index-DuFLIuYL.js";import"./chevron-down-DowfpiUd.js";const R=n=>[{header:"#",cell:({row:r})=>r.index+1},{header:"Photo",cell:({row:r})=>r.original.profile_picture?e.jsx("img",{src:r.original.profile_picture,alt:"Instructor",className:"w-10 h-10 object-cover rounded-full"}):"-"},{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"IC Number",accessorKey:"ic_number"},{header:"Mobile",accessorKey:"mobile"},{header:"Grade",accessorKey:"grade"},{header:"Organization",cell:({row:r})=>{var l;return((l=r.original.organization)==null?void 0:l.name)??"-"}},{header:"Club",cell:({row:r})=>{var l;return((l=r.original.club)==null?void 0:l.name)??"-"}},{header:"Actions",cell:({row:r})=>e.jsxs(F,{children:[e.jsx(K,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsxs(T,{align:"end",children:[e.jsx(o,{onClick:()=>n(r.original),children:"View"}),e.jsx(o,{asChild:!0,children:e.jsx(x,{href:route("admin.instructors.edit",r.original.id),children:"Edit"})}),e.jsx(o,{asChild:!0,children:e.jsx(x,{href:route("admin.instructors.destroy",r.original.id),method:"delete",as:"button",children:"Delete"})})]})]})}];function ne({instructors:n,organizations:r=[],clubs:l=[],filters:m}){var f,b;const{props:q}=E(),[t,u]=d.useState(m.organization_id||""),[c,j]=d.useState(m.club_id||""),[i,p]=d.useState(null),g=(s={})=>{v.get(route("admin.instructors.index"),{organization_id:t||null,club_id:c||null,...s},{preserveScroll:!0,preserveState:!0,replace:!0})},A=()=>{u(""),j(""),v.get(route("admin.instructors.index"))};return e.jsxs(O,{header:"Instructors",children:[e.jsx(M,{title:"Instructors"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(C,{children:[e.jsx(I,{className:"flex flex-row items-center justify-between",children:e.jsx(y,{children:"Filters"})}),e.jsx(w,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(N,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(D,{value:t,onValueChange:s=>{u(s),g({club_id:c})},children:[e.jsx(S,{children:e.jsx(z,{placeholder:"All Organizations"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All"}),r.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(N,{className:"text-sm mb-1",children:"Club"}),e.jsxs(D,{value:c,onValueChange:s=>{j(s),g({organization_id:t})},children:[e.jsx(S,{children:e.jsx(z,{placeholder:"All Clubs"})}),e.jsxs(_,{children:[e.jsx(a,{value:"all",children:"All"}),l.map(s=>e.jsx(a,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(h,{className:"flex flex-wrap items-center gap-2 md:flex-row bg-primary text-black",onClick:A,children:"Reset Filters"})})]})})]})}),e.jsxs("div",{className:"container mx-auto",children:[e.jsxs(C,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsx(y,{children:"Instructors"}),e.jsx(x,{href:route("admin.instructors.create"),children:e.jsx(h,{children:"Add Instructor"})})]}),e.jsx(w,{children:e.jsx(V,{columns:R(s=>p(s)),data:n})})]}),i&&e.jsx(k,{open:!!i,onOpenChange:s=>{s||p(null)},children:e.jsxs(L,{children:[e.jsx(P,{children:"Instructor Details"}),e.jsx(B,{children:"Full instructor details"}),e.jsxs("div",{className:"relative grid grid-cols-2 gap-4 text-sm before:absolute before:top-0 before:bottom-0 before:left-1/2 before:w-px before:bg-gray-200",children:[e.jsxs("div",{className:"space-y-2 pr-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",i.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",i.email]}),e.jsxs("div",{children:[e.jsx("strong",{children:"IC Number:"})," ",i.ic_number]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Mobile:"})," ",i.mobile]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Grade:"})," ",i.grade]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Organization:"})," ",((f=i.organization)==null?void 0:f.name)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Club:"})," ",((b=i.club)==null?void 0:b.name)||"-"]})]}),e.jsxs("div",{className:"space-y-2 pl-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Address:"})," ",i.address]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("strong",{children:"Profile Image:"}),e.jsx("div",{className:"mt-1",children:i.profile_picture?e.jsx("img",{src:i.profile_picture,alt:"Profile",className:"w-24 h-24 rounded object-cover"}):e.jsx("span",{className:"italic text-gray-500",children:"No image"})})]})]})]})]})})]})]})}export{ne as default};
