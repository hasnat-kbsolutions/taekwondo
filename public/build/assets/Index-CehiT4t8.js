import{r as h,W as f,j as e,Y as w,b as p,y as x}from"./app-Qc4CeIVR.js";import{B as t}from"./button-C_h6ToX0.js";import{A as C,D as b,a as y,b as v,c}from"./authenticated-layout-ky9aO383.js";import{D as N}from"./DataTable-sBZnSdCx.js";import{B as D}from"./badge-GE5GUWPt.js";import{L as m}from"./label-B7U_IG_r.js";import{C as S,a as P,b as _,c as z}from"./card-aGJSTTtW.js";import{C as E}from"./country-dropdown-Es3F8izp.js";import{D as K,a as T,b as A,c as F,d as I,e as L}from"./dialog-DvqGXoYj.js";import{I as j}from"./input-iz2NDNEj.js";import{E as B}from"./ellipsis-_bRBEkQo.js";import{S as M}from"./square-pen-QhbxiAVX.js";import{K as U}from"./key-BXkENzWO.js";import{T as k}from"./trash-2-Ca9vEPzt.js";import"./separator-CgvCt5_y.js";import"./index-CnUrj3gZ.js";import"./createLucideIcon-775Dkrg4.js";import"./building-2-BOzU0Xrn.js";import"./users-AXSi9GuI.js";import"./log-out-D5ccv8f0.js";import"./calendar-CZxiGZ8L.js";import"./sun-C1Um4luV.js";import"./table-B63i6qjq.js";import"./popover-BU4ogmC1.js";import"./index-8jmc5Owj.js";import"./globe-BHOLXFft.js";import"./chevron-down-Cz7cvS-S.js";const q=i=>[{header:"#",cell:({row:s})=>s.index+1},{header:"Logo",cell:({row:s})=>s.original.logo?e.jsx("img",{src:s.original.logo,alt:"Club Logo",className:"w-10 h-10 object-cover rounded"}):"-"},{header:"User Name",cell:({row:s})=>{var o;return((o=s.original.user)==null?void 0:o.name)??"-"}},{header:"City",accessorKey:"city"},{header:"Country",accessorKey:"country"},{header:"Phone",accessorKey:"phone"},{header:"Tax No.",accessorKey:"tax_number"},{header:"Invoice Prefix",accessorKey:"invoice_prefix"},{header:"Email",cell:({row:s})=>{var o;return((o=s.original.user)==null?void 0:o.email)??"-"}},{header:"Status",cell:({row:s})=>e.jsx(D,{variant:s.original.status?"default":"destructive",children:s.original.status?"Active":"Inactive"})},{header:"Actions",cell:({row:s})=>e.jsxs(b,{children:[e.jsx(y,{asChild:!0,children:e.jsx(t,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(B,{className:"h-4 w-4"})})}),e.jsxs(v,{align:"end",children:[e.jsx(c,{asChild:!0,children:e.jsxs(p,{href:route("organization.clubs.edit",s.original.id),children:[e.jsx(M,{className:"w-4 h-4 mr-2"})," Edit"]})}),i&&e.jsxs(c,{onClick:()=>i(s.original),children:[e.jsx(U,{className:"w-4 h-4 mr-2"})," Change Password"]}),e.jsx(c,{asChild:!0,children:e.jsxs(p,{href:route("organization.clubs.destroy",s.original.id),method:"delete",as:"button",children:[e.jsx(k,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}];function xe({clubs:i,filters:s}){const[o,u]=h.useState(s.country||""),[n,l]=h.useState(null),r=f({password:"",password_confirmation:""}),g=()=>{u(""),x.get(route("organization.clubs.index"),{},{preserveScroll:!0,preserveState:!0})};return e.jsxs(C,{header:"Clubs",children:[e.jsx(w,{title:"Organizations"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(S,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between",children:[e.jsx(_,{children:"Clubs"}),e.jsx(p,{href:route("organization.clubs.create"),children:e.jsx(t,{children:"Add Club"})})]}),e.jsxs(z,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(m,{className:"text-sm mb-1",children:"Country"}),e.jsx(E,{placeholder:"All Countries",defaultValue:o||"",onChange:a=>{const d=(a==null?void 0:a.alpha3)||"";u(d),x.get(route("organization.clubs.index"),{country:typeof d=="string"?d:null},{preserveScroll:!0,preserveState:!0,replace:!0})},slim:!1})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(t,{variant:"secondary",onClick:g,children:"Reset Filters"})})]})}),e.jsx(N,{columns:q(a=>l(a)),data:i})]})]})}),n&&e.jsx(K,{open:!!n,onOpenChange:a=>{a||(l(null),r.reset())},children:e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(F,{children:"Change Password"}),e.jsxs(I,{children:["Update password for ",n.name]})]}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),r.patch(route("organization.clubs.updatePassword",n.id),{onSuccess:()=>{l(null),r.reset()}})},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(m,{htmlFor:"password",children:["New Password"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"password",type:"password",placeholder:"Enter new password",value:r.data.password,onChange:a=>r.setData("password",a.target.value),required:!0}),r.errors.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.errors.password})]}),e.jsxs("div",{children:[e.jsxs(m,{htmlFor:"password_confirmation",children:["Confirm Password"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"password_confirmation",type:"password",placeholder:"Confirm new password",value:r.data.password_confirmation,onChange:a=>r.setData("password_confirmation",a.target.value),required:!0}),r.errors.password_confirmation&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.errors.password_confirmation})]}),e.jsxs(L,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>{l(null),r.reset()},children:"Cancel"}),e.jsx(t,{type:"submit",disabled:r.processing,children:r.processing?"Updating...":"Update Password"})]})]})]})})]})}export{xe as default};
