import{r as t,j as d,W as oe}from"./app-BW3klZ7R.js";import{I as ae}from"./input-error-B4C5E365.js";import{c as g,b as w,B as ce}from"./button-CVCXKiyn.js";import{L as ne}from"./label-Cc6N2Jcz.js";import{I as re}from"./input-cyZl21wX.js";import{_ as i,e as se,b as O,f as le,g as A,c as D,$ as _,h as m,n as de,i as y,j as ie,R as fe,k as pe,l as $e,m as ue}from"./Combination-iMPIhieh.js";import{h as be}from"./index-Bpr8XaZk.js";const P=t.forwardRef((e,a)=>{const{children:o,...c}=e,n=t.Children.toArray(o),r=n.find(ge);if(r){const s=r.props.children,l=n.map(f=>f===r?t.Children.count(s)>1?t.Children.only(null):t.isValidElement(s)?s.props.children:null:f);return t.createElement(R,i({},c,{ref:a}),t.isValidElement(s)?t.cloneElement(s,void 0,l):null)}return t.createElement(R,i({},c,{ref:a}),o)});P.displayName="Slot";const R=t.forwardRef((e,a)=>{const{children:o,...c}=e;return t.isValidElement(o)?t.cloneElement(o,{...me(c,o.props),ref:a?se(a,o.ref):o.ref}):t.Children.count(o)>1?t.Children.only(null):null});R.displayName="SlotClone";const j=({children:e})=>t.createElement(t.Fragment,null,e);function ge(e){return t.isValidElement(e)&&e.type===j}function me(e,a){const o={...a};for(const c in a){const n=e[c],r=a[c];/^on[A-Z]/.test(c)?n&&r?o[c]=(...l)=>{r(...l),n(...l)}:n&&(o[c]=n):c==="style"?o[c]={...n,...r}:c==="className"&&(o[c]=[n,r].filter(Boolean).join(" "))}return{...e,...o}}const I="Dialog",[M,F]=O(I),[xe,$]=M(I),De=e=>{const{__scopeDialog:a,children:o,open:c,defaultOpen:n,onOpenChange:r,modal:s=!0}=e,l=t.useRef(null),f=t.useRef(null),[p=!1,u]=le({prop:c,defaultProp:n,onChange:r});return t.createElement(xe,{scope:a,triggerRef:l,contentRef:f,contentId:A(),titleId:A(),descriptionId:A(),open:p,onOpenChange:u,onOpenToggle:t.useCallback(()=>u(v=>!v),[u]),modal:s},o)},_e="DialogTrigger",ve=t.forwardRef((e,a)=>{const{__scopeDialog:o,...c}=e,n=$(_e,o),r=D(a,n.triggerRef);return t.createElement(_.button,i({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":N(n.open)},c,{ref:r,onClick:m(e.onClick,n.onOpenToggle)}))}),S="DialogPortal",[Ee,T]=M(S,{forceMount:void 0}),Ae=e=>{const{__scopeDialog:a,forceMount:o,children:c,container:n}=e,r=$(S,a);return t.createElement(Ee,{scope:a,forceMount:o},t.Children.map(c,s=>t.createElement(y,{present:o||r.open},t.createElement(ie,{asChild:!0,container:n},s))))},C="DialogOverlay",Re=t.forwardRef((e,a)=>{const o=T(C,e.__scopeDialog),{forceMount:c=o.forceMount,...n}=e,r=$(C,e.__scopeDialog);return r.modal?t.createElement(y,{present:c||r.open},t.createElement(Ce,i({},n,{ref:a}))):null}),Ce=t.forwardRef((e,a)=>{const{__scopeDialog:o,...c}=e,n=$(C,o);return t.createElement(fe,{as:P,allowPinchZoom:!0,shards:[n.contentRef]},t.createElement(_.div,i({"data-state":N(n.open)},c,{ref:a,style:{pointerEvents:"auto",...c.style}})))}),x="DialogContent",ye=t.forwardRef((e,a)=>{const o=T(x,e.__scopeDialog),{forceMount:c=o.forceMount,...n}=e,r=$(x,e.__scopeDialog);return t.createElement(y,{present:c||r.open},r.modal?t.createElement(Ne,i({},n,{ref:a})):t.createElement(he,i({},n,{ref:a})))}),Ne=t.forwardRef((e,a)=>{const o=$(x,e.__scopeDialog),c=t.useRef(null),n=D(a,o.contentRef,c);return t.useEffect(()=>{const r=c.current;if(r)return be(r)},[]),t.createElement(k,i({},e,{ref:n,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,r=>{var s;r.preventDefault(),(s=o.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,r=>{const s=r.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&r.preventDefault()}),onFocusOutside:m(e.onFocusOutside,r=>r.preventDefault())}))}),he=t.forwardRef((e,a)=>{const o=$(x,e.__scopeDialog),c=t.useRef(!1),n=t.useRef(!1);return t.createElement(k,i({},e,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,r),!r.defaultPrevented){var l;c.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),r.preventDefault()}c.current=!1,n.current=!1},onInteractOutside:r=>{var s,l;(s=e.onInteractOutside)===null||s===void 0||s.call(e,r),r.defaultPrevented||(c.current=!0,r.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const f=r.target;((l=o.triggerRef.current)===null||l===void 0?void 0:l.contains(f))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&n.current&&r.preventDefault()}}))}),k=t.forwardRef((e,a)=>{const{__scopeDialog:o,trapFocus:c,onOpenAutoFocus:n,onCloseAutoFocus:r,...s}=e,l=$(x,o),f=t.useRef(null),p=D(a,f);return pe(),t.createElement(t.Fragment,null,t.createElement($e,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:n,onUnmountAutoFocus:r},t.createElement(ue,i({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":N(l.open)},s,{ref:p,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),L="DialogTitle",we=t.forwardRef((e,a)=>{const{__scopeDialog:o,...c}=e,n=$(L,o);return t.createElement(_.h2,i({id:n.titleId},c,{ref:a}))}),Oe="DialogDescription",Pe=t.forwardRef((e,a)=>{const{__scopeDialog:o,...c}=e,n=$(Oe,o);return t.createElement(_.p,i({id:n.descriptionId},c,{ref:a}))}),je="DialogClose",Ie=t.forwardRef((e,a)=>{const{__scopeDialog:o,...c}=e,n=$(je,o);return t.createElement(_.button,i({type:"button"},c,{ref:a,onClick:m(e.onClick,()=>n.onOpenChange(!1))}))});function N(e){return e?"open":"closed"}const Me="DialogTitleWarning",[Fe,mt]=de(Me,{contentName:x,titleName:L,docsSlug:"dialog"}),Se=De,Te=ve,ke=Ae,Le=Re,Ve=ye,ze=we,Ge=Pe,V=Ie,He="AlertDialog",[We,xt]=O(He,[F]),b=F(),Be=e=>{const{__scopeAlertDialog:a,...o}=e,c=b(a);return t.createElement(Se,i({},c,o,{modal:!0}))},Ue=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,n=b(o);return t.createElement(Te,i({},n,c,{ref:a}))}),Ze=e=>{const{__scopeAlertDialog:a,...o}=e,c=b(a);return t.createElement(ke,i({},c,o))},Ke=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,n=b(o);return t.createElement(Le,i({},n,c,{ref:a}))}),z="AlertDialogContent",[Ye,qe]=We(z),Je=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,children:c,...n}=e,r=b(o),s=t.useRef(null),l=D(a,s),f=t.useRef(null);return t.createElement(Fe,{contentName:z,titleName:Qe,docsSlug:"alert-dialog"},t.createElement(Ye,{scope:o,cancelRef:f},t.createElement(Ve,i({role:"alertdialog"},r,n,{ref:l,onOpenAutoFocus:m(n.onOpenAutoFocus,p=>{var u;p.preventDefault(),(u=f.current)===null||u===void 0||u.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault()}),t.createElement(j,null,c),!1)))}),Qe="AlertDialogTitle",Xe=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,n=b(o);return t.createElement(ze,i({},n,c,{ref:a}))}),et=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,n=b(o);return t.createElement(Ge,i({},n,c,{ref:a}))}),tt=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,n=b(o);return t.createElement(V,i({},n,c,{ref:a}))}),ot="AlertDialogCancel",at=t.forwardRef((e,a)=>{const{__scopeAlertDialog:o,...c}=e,{cancelRef:n}=qe(ot,o),r=b(o),s=D(a,n);return t.createElement(V,i({},r,c,{ref:s}))}),ct=Be,nt=Ue,rt=Ze,G=Ke,H=Je,W=tt,B=at,U=Xe,Z=et,st=ct,lt=nt,dt=rt,K=t.forwardRef(({className:e,...a},o)=>d.jsx(G,{className:g("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:o}));K.displayName=G.displayName;const Y=t.forwardRef(({className:e,...a},o)=>d.jsxs(dt,{children:[d.jsx(K,{}),d.jsx(H,{ref:o,className:g("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));Y.displayName=H.displayName;const q=({className:e,...a})=>d.jsx("div",{className:g("flex flex-col space-y-2 text-center sm:text-left",e),...a});q.displayName="AlertDialogHeader";const J=({className:e,...a})=>d.jsx("div",{className:g("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});J.displayName="AlertDialogFooter";const Q=t.forwardRef(({className:e,...a},o)=>d.jsx(U,{ref:o,className:g("text-lg font-semibold",e),...a}));Q.displayName=U.displayName;const X=t.forwardRef(({className:e,...a},o)=>d.jsx(Z,{ref:o,className:g("text-sm text-muted-foreground",e),...a}));X.displayName=Z.displayName;const ee=t.forwardRef(({variant:e,className:a,...o},c)=>d.jsx(W,{ref:c,className:g(w({variant:e}),a),...o}));ee.displayName=W.displayName;const te=t.forwardRef(({className:e,...a},o)=>d.jsx(B,{ref:o,className:g(w({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));te.displayName=B.displayName;function Dt({className:e=""}){const[a,o]=t.useState(!1),c=t.useRef(null),{data:n,setData:r,delete:s,processing:l,reset:f,errors:p}=oe({password:""}),u=E=>{E.preventDefault(),s(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>v(),onError:()=>{var h;return(h=c.current)==null?void 0:h.focus()},onFinish:()=>f()})},v=()=>{f()};return d.jsx("section",{className:`space-y-6 ${e}`,children:d.jsxs(st,{open:a,children:[d.jsx(lt,{asChild:!0,children:d.jsx(ce,{onClick:()=>o(!0),variant:"destructive",children:"Delete Account"})}),d.jsx(Y,{children:d.jsxs("form",{onSubmit:u,children:[d.jsxs(q,{children:[d.jsx(Q,{children:"Are you sure you want to delete your account?"}),d.jsx(X,{children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."})]}),d.jsxs("div",{className:"py-4",children:[d.jsx(ne,{htmlFor:"password",className:"sr-only",children:"Password"}),d.jsx(re,{id:"password",type:"password",name:"password",ref:c,value:n.password,onChange:E=>r("password",E.target.value),placeholder:"Password"}),d.jsx(ae,{message:p.password,className:"mt-2"})]}),d.jsxs(J,{children:[d.jsx(te,{onClick:()=>o(!1),children:"Cancel"}),d.jsx(ee,{type:"submit",variant:"destructive",disabled:l,children:"Delete Account"})]})]})})]})})}export{Dt as default};
