import{q as V,r as A,j as e,Y as B,y as I}from"./app-B2yls_G8.js";import{A as L}from"./authenticated-layout-Br6CeGKj.js";import{C as P,a as D,b as F,c as O}from"./card-8jx6ta5m.js";import{L as t}from"./label-iIedXhA5.js";import{I as d}from"./input-843JHEZG.js";import{B as v}from"./button-qaeFqUDr.js";import{S as c,a as l,b as m,c as u,e as x}from"./select-CfnHzBCU.js";import"./separator-B284bFje.js";import"./index-3l-FFMRW.js";import"./sun-CkXFa_BK.js";import"./users-CA7Ef4of.js";import"./log-out-rFFBYm8k.js";import"./index-Bs-g6ei6.js";import"./index-B1tUJGE2.js";import"./chevron-down-BiH_uZpu.js";function Z(){var o,_;const{plan:r,organization_id:h,club_id:j,organizations:C=[],clubs:p=[],currencies:S=[],errors:g={}}=V().props,[s,f]=A.useState({organization_id:h?String(h):"",club_id:j?String(j):"",name:(r==null?void 0:r.name)||"",base_amount:((_=(o=r==null?void 0:r.base_amount)==null?void 0:o.toString)==null?void 0:_.call(o))||"",currency_code:(r==null?void 0:r.currency_code)||"MYR",is_active:!!(r!=null&&r.is_active),description:(r==null?void 0:r.description)||""}),y=s.organization_id?p.filter(i=>i.organization_id===Number(s.organization_id)):p,n=(i,N)=>{f(E=>{const b={...E,[i]:N};return i==="organization_id"&&(b.club_id=""),b})},z=i=>{i.preventDefault(),I.post(route("admin.plans.update",r.id),{...s,_method:"put"})},a=i=>g[i]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g[i]});return e.jsxs(L,{header:"Edit Plan",children:[e.jsx(B,{title:"Edit Plan"}),e.jsx("div",{className:"p-6",children:e.jsxs(P,{children:[e.jsx(D,{children:e.jsx(F,{children:"Edit Plan"})}),e.jsx(O,{children:e.jsxs("form",{onSubmit:z,className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(t,{children:["Organization",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:s.organization_id,onValueChange:i=>n("organization_id",i),children:[e.jsx(l,{children:e.jsx(m,{placeholder:"Select Organization"})}),e.jsx(u,{children:C.map(i=>e.jsx(x,{value:String(i.id),children:i.name},i.id))})]}),a("organization_id")]}),e.jsxs("div",{children:[e.jsxs(t,{children:["Club",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:s.club_id,onValueChange:i=>n("club_id",i),disabled:!s.organization_id,children:[e.jsx(l,{children:e.jsx(m,{placeholder:"Select Club"})}),e.jsx(u,{children:y.map(i=>e.jsx(x,{value:String(i.id),children:i.name},i.id))})]}),a("club_id")]}),e.jsxs("div",{children:[e.jsx(t,{children:"Name"}),e.jsx(d,{value:s.name,onChange:i=>n("name",i.target.value)}),a("name")]}),e.jsxs("div",{children:[e.jsx(t,{children:"Base Amount"}),e.jsx(d,{type:"number",value:s.base_amount,onChange:i=>n("base_amount",i.target.value)}),a("base_amount")]}),e.jsxs("div",{children:[e.jsx(t,{children:"Currency"}),e.jsxs(c,{value:s.currency_code,onValueChange:i=>n("currency_code",i),children:[e.jsx(l,{children:e.jsx(m,{placeholder:"Select Currency"})}),e.jsx(u,{children:S.map(i=>e.jsxs(x,{value:i.code,children:[i.code," - ",i.symbol," ",i.name]},i.code))})]}),a("currency_code")]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(t,{children:"Description"}),e.jsx(d,{value:s.description,onChange:i=>n("description",i.target.value)}),a("description")]}),e.jsxs("div",{className:"col-span-2 flex gap-3",children:[e.jsx(v,{type:"submit",children:"Save"}),e.jsx(v,{type:"button",variant:"outline",onClick:()=>history.back(),children:"Cancel"})]})]})})]})})]})}export{Z as default};
