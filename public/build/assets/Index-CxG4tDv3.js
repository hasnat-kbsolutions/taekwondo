import{j as e,r as x,Y as h,b as n}from"./app-CikEoOUb.js";import{D as g}from"./DataTable-BVsypS1V.js";import{B as d}from"./button-DE34mfwC.js";import{C as p,a as j,b as f,c as b}from"./card-B9gfxKxc.js";import{A as N,D as v,a as y,b as D,c as i}from"./authenticated-layout-tnqnI4FE.js";import{B as _}from"./badge-YCVpdJLF.js";import{R as o}from"./RatingStars-DApZNAQp.js";import{D as w,a as S,b as C,c as I,d as P}from"./dialog-PNNo5n6u.js";import{L as l}from"./label-DFDTJu9O.js";import{E}from"./ellipsis-CvJy5PQA.js";import{E as K}from"./eye-Ds39zDLU.js";import{S as A}from"./square-pen-GySVy4y7.js";import{T as B}from"./trash-2-BzQTabuC.js";import"./table-BDtgScpB.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";const M=t=>[{header:"#",cell:({row:a})=>a.index+1},{id:"profile_image",header:"Photo",cell:({row:a})=>a.original.profile_image?e.jsx("img",{src:a.original.profile_image,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("span",{className:"text-gray-400 italic",children:"No image"})},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{accessorKey:"id_passport",header:"ID/Passport"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{id:"rating",header:"Rating",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{rating:typeof a.original.average_rating=="number"?Math.round(a.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",a.original.total_ratings,")"]})]})},{accessorKey:"status",header:"Status",cell:({row:a})=>e.jsx(_,{variant:a.original.status?"default":"destructive",children:a.original.status?"Active":"Inactive"})},{id:"actions",header:"Actions",cell:({row:a})=>{const s=a.original;return e.jsxs(v,{children:[e.jsx(y,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsxs(D,{align:"end",children:[e.jsxs(i,{onClick:()=>t(s),children:[e.jsx(K,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(i,{asChild:!0,children:e.jsxs(n,{href:route("club.students.edit",s.id),children:[e.jsx(A,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(i,{asChild:!0,children:e.jsxs(n,{href:route("club.students.destroy",s.id),method:"delete",as:"button",children:[e.jsx(B,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function X({students:t}){const[a,s]=x.useState(null),c=r=>{s(r)},m=()=>{s(null)};return e.jsxs(N,{header:"Students",children:[e.jsx(h,{title:"Students"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(p,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between",children:[e.jsx(f,{children:"Students"}),e.jsx(n,{href:route("club.students.create"),children:e.jsx(d,{children:"Add Student"})})]}),e.jsx(b,{children:e.jsx(g,{columns:M(c),data:t})})]}),e.jsx(w,{open:!!a,onOpenChange:m,children:e.jsxs(S,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(C,{children:[e.jsx(I,{children:"Student Details"}),e.jsx(P,{children:"View detailed information about the student."})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.profile_image?e.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-2 border-gray-200 shadow-lg"}):e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-gray-100 text-gray-400 text-sm italic border-2 border-gray-200",children:"No Image"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[a.name," ",a.surname]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.code})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"UID",value:a.uid},{label:"Email",value:a.email},{label:"Phone",value:a.phone},{label:"Grade",value:a.grade},{label:"Gender",value:a.gender},{label:"Nationality",value:a.nationality},{label:"Date of Birth",value:a.dob?new Date(a.dob).toLocaleDateString():"Not specified"},{label:"ID/Passport",value:a.id_passport},{label:"City",value:a.city||"Not specified"},{label:"Country",value:a.country||"Not specified"},{label:"Status",value:a.status?"Active":"Inactive"},{label:"Rating",value:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{rating:typeof a.average_rating=="number"?Math.round(a.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[typeof a.average_rating=="number"?a.average_rating.toFixed(1):"0.0"," ","(",a.total_ratings," ","ratings)"]})]})}].map((r,u)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:r.label}),e.jsx("div",{className:"text-sm",children:r.value})]},u))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Attachments"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"ID/Passport Image"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-200 min-h-[200px] flex items-center justify-center",children:a.id_passport_image?e.jsx("img",{src:a.id_passport_image,alt:"ID/Passport",className:"max-w-full max-h-48 object-contain rounded"}):e.jsx("span",{className:"text-gray-400 italic",children:"No ID/Passport image"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Signature Image"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-200 min-h-[200px] flex items-center justify-center",children:a.signature_image?e.jsx("img",{src:a.signature_image,alt:"Signature",className:"max-w-full max-h-48 object-contain rounded"}):e.jsx("span",{className:"text-gray-400 italic",children:"No signature image"})})]})]})]})]})]})})]})]})}export{M as columns,X as default};
