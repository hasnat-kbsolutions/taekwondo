import{r as j,j as e,Y as b}from"./app-C3pTM74K.js";import{A as u}from"./authenticated-layout-BaK2KLp9.js";import{f as n}from"./format-7_oTgTIh.js";import"./button-C58ANW6D.js";import"./input-B4z2IZsF.js";import"./index-C7m1c1FH.js";const y=new Date().getFullYear(),N=Array.from({length:61},(l,a)=>y-30+a);function D({attendance:l,year:a,payments:d}){const[r,x]=j.useState(a),i=t=>{const s=l[t];return s==="present"?"✅":s==="absent"?"❌":"–"};return e.jsxs(u,{header:"Yearly Attendance",children:[e.jsx(b,{title:"Student Attendance"}),e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Year"}),e.jsx("select",{value:r,onChange:t=>x(parseInt(t.target.value)),className:"border px-3 py-2 rounded-md w-40",children:N.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto border border-collapse w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1 text-left",children:"Month"}),[...Array(31)].map((t,s)=>e.jsx("th",{className:"border px-2 py-1 text-center",children:s+1},s+1))]})}),e.jsx("tbody",{children:[...Array(12)].map((t,s)=>{const h=new Date(r,s).toLocaleString("default",{month:"long"});return e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2 py-1 font-semibold",children:h}),[...Array(31)].map((f,c)=>{const o=new Date(r,s,c+1),m=n(o,"yyyy-MM-dd"),p=o.getMonth()===s;return e.jsx("td",{className:"border px-1 py-1 text-center",children:p?i(m):""},c)})]},s)})})]})}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Payments for ",r]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-3 py-2 text-left",children:"#"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Date"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Month"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Amount"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Method"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Status"}),e.jsx("th",{className:"border px-3 py-2 text-left",children:"Notes"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"border px-3 py-4 text-center text-gray-500",children:"No payments found for this year."})}):d.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-3 py-2",children:s+1}),e.jsx("td",{className:"border px-3 py-2",children:t.pay_at?n(new Date(t.pay_at),"yyyy-MM-dd"):"-"}),e.jsx("td",{className:"border px-3 py-2",children:t.payment_month}),e.jsxs("td",{className:"border px-3 py-2",children:["Rs. ",t.amount]}),e.jsx("td",{className:"border px-3 py-2 capitalize",children:t.method}),e.jsx("td",{className:"border px-3 py-2 capitalize",children:t.status}),e.jsx("td",{className:"border px-3 py-2",children:t.notes||"-"})]},t.id))})]})})]})]})]})}export{D as default};
