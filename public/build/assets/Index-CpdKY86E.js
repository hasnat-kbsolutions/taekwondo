import{r as j,j as e,Y as g,y as l}from"./app-CikEoOUb.js";import{A as f}from"./authenticated-layout-tnqnI4FE.js";import{B as S}from"./button-DE34mfwC.js";import{C as i,a as o,b as c,c as d}from"./card-B9gfxKxc.js";import{L as C}from"./label-DFDTJu9O.js";import{S as M,a as Y,b,c as N,e as v}from"./select-D_R4pDbd.js";import{D as P}from"./DataTable-BVsypS1V.js";import{f as w}from"./format-7_oTgTIh.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";import"./table-BDtgScpB.js";const a=new Date().getFullYear(),A=Array.from({length:31},(m,s)=>a-15+s);function q({attendance:m,year:s,payments:x}){const[h,r]=j.useState(s||a),p=t=>{const n=parseInt(t);r(n),l.get(route("student.payments.index"),{year:n})},y=()=>{r(a),l.get(route("student.payments.index"),{year:a})},u=[{header:"#",cell:({row:t})=>t.index+1},{header:"Amount",cell:({row:t})=>`Rs. ${t.original.amount.toFixed(2)}`},{header:"Method",accessorKey:"method"},{header:"Status",cell:({row:t})=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.original.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.original.status})},{header:"Payment Month",accessorKey:"payment_month"},{header:"Pay At",cell:({row:t})=>t.original.pay_at?w(new Date(t.original.pay_at),"MMM dd, yyyy"):"-"},{header:"Notes",cell:({row:t})=>t.original.notes||"-"}];return e.jsxs(f,{header:"My Payments",children:[e.jsx(g,{title:"My Payments"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(c,{children:"Filters"})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[180px]",children:[e.jsx(C,{className:"text-sm mb-1",children:"Year"}),e.jsxs(M,{onValueChange:p,value:h.toString(),children:[e.jsx(Y,{children:e.jsx(b,{placeholder:"Select a year"})}),e.jsx(N,{children:A.map(t=>e.jsx(v,{value:t.toString(),children:t},t))})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{onClick:y,children:"Reset Filters"})})]})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(c,{children:"My Payments"})}),e.jsx(d,{children:e.jsx(P,{data:x,columns:u})})]})]})]})}export{q as default};
