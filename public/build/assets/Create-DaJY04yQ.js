import{r as f,W as b,j as e,Y as y}from"./app-2gn4RfSZ.js";import{A as N}from"./authenticated-layout-Cg-1muXU.js";import{C as h,a as A,b as k,c as p}from"./card-aDrCg9A8.js";import{B as j}from"./button-BIncYwTu.js";import{I as D}from"./input-Dj8_zug_.js";import{L as a}from"./label-DHZZwbSO.js";import{T}from"./textarea-AR39SbWv.js";import{S as w,a as L,b as E,c as F,e as i}from"./select-DucK0tRK.js";import"./separator-B-OjaV0S.js";import"./index-Bkygkmel.js";import"./createLucideIcon-DybH0MdA.js";import"./building-2-DNx1rPF9.js";import"./users-CkuQDTLu.js";import"./log-out-C5WUean8.js";import"./sun-CBb6fQqu.js";import"./index-CBzvCrkR.js";import"./index-BFcKiWpC.js";import"./chevron-down-ytmlgpZO.js";function X({students:u}){const[c,g]=f.useState(new Date().toISOString().split("T")[0]),{data:s,setData:l,post:C,processing:o,errors:m}=b({date:c,attendances:{}}),v=t=>{t.preventDefault(),C(route("instructor.attendances.store"))},S=t=>{g(t),l("date",t)},x=(t,r,n)=>{l("attendances",{...s.attendances,[t]:{...s.attendances[t],[r]:n}})};return e.jsxs(N,{header:"Create Attendance",children:[e.jsx(y,{title:"Create Attendance"}),e.jsx("div",{className:"container mx-auto py-5",children:e.jsxs(h,{children:[e.jsx(A,{children:e.jsx(k,{children:"Create New Attendance Record"})}),e.jsx(p,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"date",children:"Date"}),e.jsx(D,{id:"date",type:"date",value:c,onChange:t=>S(t.target.value),required:!0}),m.date&&e.jsx("p",{className:"text-sm text-red-500",children:m.date})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{children:"Student Attendance"}),u.map(t=>{var r,n;return e.jsx(h,{children:e.jsx(p,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Student"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.name," ",t.surname]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:`status-${t.id}`,children:"Status"}),e.jsxs(w,{value:((r=s.attendances[t.id])==null?void 0:r.status)||"",onValueChange:d=>x(t.id.toString(),"status",d),children:[e.jsx(L,{children:e.jsx(E,{placeholder:"Select status"})}),e.jsxs(F,{children:[e.jsx(i,{value:"present",children:"Present"}),e.jsx(i,{value:"absent",children:"Absent"}),e.jsx(i,{value:"late",children:"Late"}),e.jsx(i,{value:"excused",children:"Excused"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:`remarks-${t.id}`,children:"Remarks (Optional)"}),e.jsx(T,{id:`remarks-${t.id}`,placeholder:"Add any notes...",value:((n=s.attendances[t.id])==null?void 0:n.remarks)||"",onChange:d=>x(t.id.toString(),"remarks",d.target.value)})]})]})})},t.id)})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(j,{type:"submit",disabled:o,className:"bg-primary text-background",children:o?"Creating...":"Create Attendance"})]})]})})]})})]})}export{X as default};
