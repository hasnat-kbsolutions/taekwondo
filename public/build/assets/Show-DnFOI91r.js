import{r as o,W as C,j as e,Y as _,y as R}from"./app-CikEoOUb.js";import{A as w}from"./authenticated-layout-tnqnI4FE.js";import{C as r,a as l,b as i,c as n}from"./card-B9gfxKxc.js";import{B as A}from"./button-DE34mfwC.js";import{T as M}from"./textarea-BES-R4bf.js";import{L as a}from"./label-DFDTJu9O.js";import{S as z,a as U,b as I,c as L,e as P}from"./select-D_R4pDbd.js";import{S as T,R as h}from"./RatingStars-DApZNAQp.js";import{U as D}from"./user-CZJBIOAQ.js";import{U as E}from"./users-nklF4Rz8.js";import"./input-BghCconx.js";import"./index-CQAMZMT0.js";import"./index-BPaBik1e.js";import"./index-CEUW6_er.js";import"./chevron-down-rq2aknLd.js";const $=({instructor:t,ratingsReceived:m,students:S,stats:b})=>{var N,v;const[c,j]=o.useState(""),[x,g]=o.useState(0),[p,u]=o.useState(""),{processing:f,errors:d}=C({rated_id:"",rated_type:"App\\Models\\Student",rating:0,comment:""}),y=s=>{s.preventDefault(),R.post(route("ratings.store"),{rated_id:c,rated_type:"App\\Models\\Student",rating:x,comment:p},{onSuccess:()=>{j(""),g(0),u("")}})};return e.jsxs(w,{header:"My Profile",children:[e.jsx(_,{title:"My Profile"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Profile Information"]})}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold",children:t.name})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-lg",children:t.email})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),e.jsx("p",{className:"text-lg",children:t.mobile})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Grade"}),e.jsx("p",{className:"text-lg",children:t.grade})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"text-lg",children:t.gender?t.gender.charAt(0).toUpperCase()+t.gender.slice(1):"Not specified"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"IC Number"}),e.jsx("p",{className:"text-lg",children:t.ic_number})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Address"}),e.jsx("p",{className:"text-lg",children:t.address})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Club"}),e.jsx("p",{className:"text-lg",children:((N=t.club)==null?void 0:N.name)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsx("p",{className:"text-lg",children:((v=t.organization)==null?void 0:v.name)||"Not assigned"})]})]})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5"}),"Ratings Received (",m.length,")"]})}),e.jsx(n,{children:m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["by"," ",s.rater_name," ","(",s.rater_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings received yet."})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(i,{children:"Statistics"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Students"})]}),e.jsx("span",{className:"font-semibold",children:b.students_count})]})})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(i,{children:"Average Rating"})}),e.jsx(n,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(h,{rating:Math.round(t.average_rating),readonly:!0,size:"lg"})}),e.jsx("p",{className:"text-2xl font-bold",children:typeof t.average_rating=="number"?t.average_rating.toFixed(1):"0.0"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.total_ratings," rating",t.total_ratings!==1?"s":""]})]})})]}),e.jsxs(r,{children:[e.jsx(l,{children:e.jsx(i,{children:"Rate a Student"})}),e.jsx(n,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"student",children:"Select Student"}),e.jsxs(z,{value:c,onValueChange:j,children:[e.jsx(U,{children:e.jsx(I,{placeholder:"Choose a student"})}),e.jsx(L,{children:S.map(s=>e.jsxs(P,{value:s.id.toString(),children:[s.name," ",s.surname," (",s.grade,")"]},s.id))})]}),d.rated_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:d.rated_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Rating"}),e.jsx(h,{rating:x,onRatingChange:g,size:"md"}),d.rating&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:d.rating})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"comment",children:"Comment (Optional)"}),e.jsx(M,{id:"comment",value:p,onChange:s=>u(s.target.value),placeholder:"Share your experience...",rows:3}),d.comment&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:d.comment})]}),e.jsx(A,{type:"submit",disabled:!c||x===0||f,className:"w-full",children:f?"Submitting...":"Submit Rating"})]})})]})]})]})})]})};export{$ as default};
