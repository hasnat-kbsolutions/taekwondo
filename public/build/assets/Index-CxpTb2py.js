import{r as w,j as e,Y as L,b as l}from"./app-BOiaKrnq.js";import{B as f}from"./button-D8YHfysu.js";import{A as C,D as M,a as z,b as D,c}from"./authenticated-layout-DN-QAHOE.js";import{D as B}from"./DataTable-C7Y4JBaD.js";import{C as d,c as o,a as H,b as S}from"./card-D2K8gMSj.js";import{D as W,a as I,b as A,c as T,d as E}from"./dialog-DXR6Yr1A.js";import{B as i}from"./badge-CGO4XOmO.js";import{L as K}from"./label-DnRgMY3U.js";import{E as x}from"./eye-CwtMz0lv.js";import{E as O}from"./ellipsis-BluzSH6V.js";import{S as V}from"./square-pen-Dm1aUC8M.js";import{T as _}from"./trash-2-zkKMwqEB.js";import"./input-CvH_BJnq.js";import"./separator-wF5N-nG0.js";import"./index-Us7THKc4.js";import"./sun-0h1ZuuTt.js";import"./users-DkIv6nVO.js";import"./log-out-DvMYnxvU.js";import"./table-DNQQVKZT.js";function oe({organizations:m,student:P,supporter:G}){var u,g,p,j,b,v,y,N;const n=Array.isArray(m)?m:[],[s,h]=w.useState(null),k=[{header:"ID",accessorKey:"id"},{header:"Name",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"Phone",accessorKey:"phone"},{header:"City",accessorKey:"city"},{header:"Country",accessorKey:"country"},{header:"Students",cell:({row:r})=>{var a;return e.jsxs(l,{className:"inline-flex items-center gap-1 text-blue-600 hover:underline",href:route("admin.students.index",{organization_id:r.original.id}),children:[e.jsx(x,{className:"w-4 h-4"}),((a=r.original.students)==null?void 0:a.length)??0]})}},{header:"Supporters",cell:({row:r})=>{var a;return e.jsxs(l,{className:"inline-flex items-center gap-1 text-blue-600 hover:underline",href:route("admin.supporters.index",{organization_id:r.original.id}),children:[e.jsx(x,{className:"w-4 h-4"}),((a=r.original.supporters)==null?void 0:a.length)??0]})}},{header:"Status",accessorKey:"status",cell:({row:r})=>e.jsx(i,{variant:r.original.status?"default":"destructive",children:r.original.status?"Active":"Inactive"})},{header:"Default Currency",accessorKey:"default_currency",cell:({row:r})=>{const a=r.original.default_currency;return a?e.jsx(i,{variant:"outline",className:"font-mono",children:a}):e.jsx("span",{className:"text-gray-400",children:"Not set"})}},{header:"Actions",cell:({row:r})=>e.jsxs(M,{children:[e.jsx(z,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsxs(D,{align:"end",children:[e.jsxs(c,{onClick:()=>h(r.original),children:[e.jsx(x,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(c,{asChild:!0,children:e.jsxs(l,{href:route("admin.organizations.edit",r.original.id),children:[e.jsx(V,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(c,{asChild:!0,children:e.jsxs(l,{href:route("admin.organizations.destroy",r.original.id),method:"delete",as:"button",children:[e.jsx(_,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}];return e.jsxs(C,{header:"Ahli Gabungan",children:[e.jsx(L,{title:"Organizations"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(d,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(n.reduce((r,a)=>{var t;return r+Number(((t=a.students)==null?void 0:t.length)||0)},0))})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Instructors"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(n.reduce((r,a)=>{var t;return r+Number(((t=a.instructors)==null?void 0:t.length)||0)},0))})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Clubs"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(n.reduce((r,a)=>{var t;return r+Number(((t=a.clubs)==null?void 0:t.length)||0)},0))})]})]})})}),e.jsx(d,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"h-4 w-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Supporters"}),e.jsx("p",{className:"text-2xl font-bold",children:Number(n.reduce((r,a)=>{var t;return r+Number(((t=a.supporters)==null?void 0:t.length)||0)},0))})]})]})})})]}),e.jsxs(d,{children:[e.jsxs(H,{className:"flex flex-row items-center justify-between",children:[e.jsx(S,{children:"Organizations"}),e.jsx(l,{href:route("admin.organizations.create"),children:e.jsx(f,{children:"Add Supporter"})})]}),e.jsx(o,{children:e.jsx(B,{columns:k,data:n})})]}),s&&e.jsx(W,{open:!!s,onOpenChange:r=>{r||h(null)},children:e.jsxs(I,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(A,{children:[e.jsx(T,{children:"Organization Details"}),e.jsx(E,{children:"View detailed information about the organization."})]}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-32 h-32 flex items-center justify-center rounded-full bg-primary/10 text-primary text-4xl font-bold border-2 border-primary/20 shadow-lg",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-xl",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Organization ID:"," ",s.id]})]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Email",value:s.email||"Not specified"},{label:"Phone",value:s.phone||"Not specified"},{label:"City",value:s.city||"Not specified"},{label:"Country",value:s.country||"Not specified"},{label:"Street",value:s.street||"Not specified"},{label:"Postal Code",value:s.postal_code||"Not specified"},{label:"Website",value:s.website?e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:s.website}):"Not specified"},{label:"Status",value:e.jsx(i,{variant:s.status?"default":"destructive",children:s.status?"Active":"Inactive"})}].map((r,a)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-sm font-medium text-muted-foreground",children:r.label}),e.jsx("div",{className:"text-sm",children:r.value})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsxs("h5",{className:"font-semibold mb-3 text-blue-600 dark:text-blue-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Students (",((u=s.students)==null?void 0:u.length)||0,")"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto",children:((g=s.students)==null?void 0:g.length)>0?e.jsx("div",{className:"space-y-2",children:s.students.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),e.jsxs(i,{variant:"outline",className:"text-xs bg-blue-50 dark:bg-blue-950/50 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800",children:["ID:"," ",r.id]})]},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No students found"})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsxs("h5",{className:"font-semibold mb-3 text-green-600 dark:text-green-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Instructors (",((p=s.instructors)==null?void 0:p.length)||0,")"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto",children:((j=s.instructors)==null?void 0:j.length)>0?e.jsx("div",{className:"space-y-2",children:s.instructors.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),r.grade&&e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Grade:"," ",r.grade]})]}),e.jsxs(i,{variant:"outline",className:"text-xs bg-green-50 dark:bg-green-950/50 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800",children:["ID:"," ",r.id]})]},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No instructors found"})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsxs("h5",{className:"font-semibold mb-3 text-purple-600 dark:text-purple-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Clubs (",((b=s.clubs)==null?void 0:b.length)||0,")"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto",children:((v=s.clubs)==null?void 0:v.length)>0?e.jsx("div",{className:"space-y-2",children:s.clubs.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),r.city&&e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.city,","," ",r.country]})]}),e.jsxs(i,{variant:"outline",className:"text-xs bg-purple-50 dark:bg-purple-950/50 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800",children:["ID:"," ",r.id]})]},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No clubs found"})]})})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsxs("h5",{className:"font-semibold mb-3 text-orange-600 dark:text-orange-400 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Supporters (",((y=s.supporters)==null?void 0:y.length)||0,")"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto",children:((N=s.supporters)==null?void 0:N.length)>0?e.jsx("div",{className:"space-y-2",children:s.supporters.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-150",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.name}),e.jsxs(i,{variant:"outline",className:"text-xs bg-orange-50 dark:bg-orange-950/50 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",children:["ID:"," ",r.id]})]},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 dark:text-gray-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No supporters found"})]})})]})]})]})]})})]})]})}export{oe as default};
