import{r as f,W as b,j as e,Y as y}from"./app-DT13sNDJ.js";import{A as N}from"./authenticated-layout-Cx1UTSKQ.js";import{C as h,a as A,b as k,c as p}from"./card-DvyRDZ49.js";import{B as j}from"./button-_MPKCyHU.js";import{I as D}from"./input-2s6pPNzp.js";import{L as a}from"./label-DUjCpFhQ.js";import{T}from"./textarea-DoCttzpQ.js";import{S as w,a as L,b as E,c as F,e as i}from"./select-gAEyQ-Ek.js";import"./separator-oS8k4mHV.js";import"./index-BVHmHscH.js";import"./createLucideIcon-CDCLNRtp.js";import"./building-2-Dmaaj3kn.js";import"./users-GnOVMNQc.js";import"./log-out-DZdJrOvn.js";import"./sun-CNh23O19.js";import"./index-RCdHDkqR.js";import"./index-g2AH_h-X.js";import"./chevron-down-Bm3UrJxU.js";function X({students:u}){const[c,g]=f.useState(new Date().toISOString().split("T")[0]),{data:s,setData:l,post:C,processing:o,errors:m}=b({date:c,attendances:{}}),v=t=>{t.preventDefault(),C(route("instructor.attendances.store"))},S=t=>{g(t),l("date",t)},x=(t,r,n)=>{l("attendances",{...s.attendances,[t]:{...s.attendances[t],[r]:n}})};return e.jsxs(N,{header:"Create Attendance",children:[e.jsx(y,{title:"Create Attendance"}),e.jsx("div",{className:"container mx-auto py-5",children:e.jsxs(h,{children:[e.jsx(A,{children:e.jsx(k,{children:"Create New Attendance Record"})}),e.jsx(p,{children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"date",children:"Date"}),e.jsx(D,{id:"date",type:"date",value:c,onChange:t=>S(t.target.value),required:!0}),m.date&&e.jsx("p",{className:"text-sm text-red-500",children:m.date})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{children:"Student Attendance"}),u.map(t=>{var r,n;return e.jsx(h,{children:e.jsx(p,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Student"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.name," ",t.surname]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:`status-${t.id}`,children:"Status"}),e.jsxs(w,{value:((r=s.attendances[t.id])==null?void 0:r.status)||"",onValueChange:d=>x(t.id.toString(),"status",d),children:[e.jsx(L,{children:e.jsx(E,{placeholder:"Select status"})}),e.jsxs(F,{children:[e.jsx(i,{value:"present",children:"Present"}),e.jsx(i,{value:"absent",children:"Absent"}),e.jsx(i,{value:"late",children:"Late"}),e.jsx(i,{value:"excused",children:"Excused"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:`remarks-${t.id}`,children:"Remarks (Optional)"}),e.jsx(T,{id:`remarks-${t.id}`,placeholder:"Add any notes...",value:((n=s.attendances[t.id])==null?void 0:n.remarks)||"",onChange:d=>x(t.id.toString(),"remarks",d.target.value)})]})]})})},t.id)})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(j,{type:"submit",disabled:o,className:"bg-primary text-background",children:o?"Creating...":"Create Attendance"})]})]})})]})})]})}export{X as default};
