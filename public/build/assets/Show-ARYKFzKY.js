import{r as b,j as e,Y as u}from"./app-ByP4EyMF.js";import{A as f,w as N,r as v,C as y,W as k}from"./authenticated-layout-Qq67eihM.js";import{C as a,c as t,a as l,b as d}from"./card-CKPA4ccG.js";import{B as o}from"./badge-Dh2Aq8W_.js";import{T as w,a as C,b as m,c as h}from"./tabs-XEbZsv0W.js";import"./button-xRIIPuWW.js";import"./input-DHU4GFng.js";import"./separator-DivMgUP8.js";import"./index-DmN_BMdc.js";import"./sun-w0LeklHu.js";import"./users-BmXZoUBI.js";import"./log-out-DV0RpnIg.js";import"./index-BMO2_zHf.js";function F({student:r,gradeHistory:n,payments:c,stats:x}){const[p,g]=b.useState("grades"),j=s=>{switch(s==null?void 0:s.toLowerCase()){case"paid":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return e.jsxs(f,{header:"My Grades & Payments",children:[e.jsx(u,{title:"My Grades & Payments"}),e.jsxs("div",{className:"container mx-auto py-10 space-y-6",children:[e.jsx(a,{children:e.jsxs(t,{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[e.jsxs("span",{children:["Code: ",r.code]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Current Grade: ",e.jsx("span",{className:"font-semibold text-foreground",children:r.grade})]}),r.club&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Club: ",r.club]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(a,{className:"bg-blue-500/5 border-blue-200 dark:border-blue-800",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(d,{className:"text-sm font-medium text-blue-700 dark:text-blue-400 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Grades Achieved"]})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:x.total_grades_achieved})})]}),e.jsxs(a,{className:"bg-green-500/5 border-green-200 dark:border-green-800",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(d,{className:"text-sm font-medium text-green-700 dark:text-green-400 flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Total Days"]})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:x.total_progression_days})})]}),e.jsxs(a,{className:"bg-purple-500/5 border-purple-200 dark:border-purple-800",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(d,{className:"text-sm font-medium text-purple-700 dark:text-purple-400 flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Avg Days/Grade"]})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:Math.round(x.average_days_per_grade)})})]}),e.jsxs(a,{className:"bg-orange-500/5 border-orange-200 dark:border-orange-800",children:[e.jsx(l,{className:"pb-2",children:e.jsxs(d,{className:"text-sm font-medium text-orange-700 dark:text-orange-400 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Payments"]})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:c.length})})]})]}),e.jsx(a,{children:e.jsxs(w,{value:p,onValueChange:g,children:[e.jsxs(C,{className:"grid w-full grid-cols-2 m-4",children:[e.jsx(m,{value:"grades",children:"Grade Progression"}),e.jsx(m,{value:"payments",children:"Payment History"})]}),e.jsx(h,{value:"grades",className:"p-6",children:n.length>0?e.jsx("div",{className:"space-y-4",children:n.map((s,i)=>e.jsxs("div",{className:"flex gap-4 pb-4 last:pb-0 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-sm font-semibold",children:i+1}),i<n.length-1&&e.jsx("div",{className:"w-0.5 h-12 bg-border mt-2"})]}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{variant:"outline",className:"text-lg font-semibold px-3 py-1",children:s.grade_name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.achieved_at_formatted})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Duration: ",s.duration_formatted]}),s.notes&&e.jsx("p",{className:"text-sm text-foreground italic",children:s.notes})]})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No grade history available"})}),e.jsx(h,{value:"payments",className:"p-6",children:c.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Amount"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Method"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:c.map(s=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"py-3 px-4",children:s.payment_date_formatted}),e.jsxs("td",{className:"py-3 px-4 font-semibold",children:[s.amount," ",s.currency]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(o,{className:j(s.status),children:s.status})}),e.jsx("td",{className:"py-3 px-4",children:s.payment_method||"-"}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:s.description||"-"})]},s.id))})]})}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No payment history available"})})]})})]})]})}export{F as default};
