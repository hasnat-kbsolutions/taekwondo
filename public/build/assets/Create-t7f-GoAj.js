import{W as u,r as i,j as e,Y as j}from"./app-B2yls_G8.js";import{A as f,C as b,t as o}from"./authenticated-layout-Br6CeGKj.js";import{B as m}from"./button-qaeFqUDr.js";import{L as N}from"./label-iIedXhA5.js";import{C as g,a as v,b as y,c as C}from"./card-8jx6ta5m.js";import{C as w}from"./calendar-DYyxFm4U.js";import{P as A,a as S,b as P}from"./popover-BJTd3jY_.js";import{f as D}from"./format-LUeNQFBy.js";import"./input-843JHEZG.js";import"./separator-B284bFje.js";import"./index-3l-FFMRW.js";import"./sun-CkXFa_BK.js";import"./users-CA7Ef4of.js";import"./log-out-rFFBYm8k.js";import"./chevron-down-BiH_uZpu.js";import"./index-Bs-g6ei6.js";function Q(){const{data:a,setData:d,post:x,processing:p}=u({date:"",attendances:{}}),[l,F]=i.useState([]),[k,E]=i.useState({}),c=(t,s,r)=>{d("attendances",{...a.attendances,[t]:{...a.attendances[t],[s]:r}})},h=t=>{t.preventDefault(),x(route("club.attendances.store"),{onSuccess:()=>{o.success("Attendance submitted successfully!")},onError:s=>{o.error("Failed to submit attendance."),console.error(s)}})};return e.jsxs(f,{header:"Record Attendance",children:[e.jsx(j,{title:"Record Attendance"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(g,{children:[e.jsx(v,{children:e.jsx(y,{children:"New Attendance"})}),e.jsx(C,{children:e.jsxs("form",{onSubmit:h,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[50%] px-2",children:[e.jsx(N,{htmlFor:"date",children:"Date"}),e.jsxs(A,{children:[e.jsx(S,{asChild:!0,children:e.jsxs(m,{variant:"outline","data-empty":!a.date,className:"data-[empty=true]:text-muted-foreground w-full justify-start text-left font-normal",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),a.date?D(new Date(a.date),"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(P,{className:"w-auto p-0",children:e.jsx(w,{mode:"single",selected:a.date?new Date(a.date):void 0,onSelect:t=>d("date",t?t.toISOString().split("T")[0]:""),initialFocus:!0})})]})]}),l.length>0&&e.jsx("div",{className:"w-full mt-4 overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-2 border-b",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-2 border-b",children:"Attendance"})]})}),e.jsx("tbody",{children:l.map(t=>{var s,r;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border-b",children:t.name}),e.jsx("td",{className:"px-4 py-2 border-b",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`attendance-${t.id}`,value:"present",checked:((s=a.attendances[t.id])==null?void 0:s.status)==="present",onChange:n=>c(t.id,"status",n.target.value)}),e.jsx("span",{children:"Present"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`attendance-${t.id}`,value:"absent",checked:((r=a.attendances[t.id])==null?void 0:r.status)==="absent",onChange:n=>c(t.id,"status",n.target.value)}),e.jsx("span",{children:"Absent"})]})]})})]},t.id)})})]})}),e.jsx("div",{className:"w-[100%] px-2 mt-4",children:e.jsx(m,{type:"submit",disabled:p,children:"Submit Attendance"})})]})})]})})]})}export{Q as default};
