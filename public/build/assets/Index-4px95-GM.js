import{r as c,j as e,Y as S,y}from"./app-CEAkk4i6.js";import{D as N}from"./DataTable-s5tZFgFL.js";import{B as C}from"./button-BIDWBxDs.js";import{C as b,a as A,b as B,c as K}from"./card-CWrPsA_S.js";import{A as R}from"./authenticated-layout-CuUc6cJH.js";import{L as d}from"./label-CNuVDIRz.js";import{S as T,a as _,b as D,c as E,e as m}from"./select-rXOhB-aK.js";import{C as f}from"./country-dropdown-XsdAYqIL.js";import{B as I}from"./badge-DXgozxQp.js";import{R as L}from"./RatingStars-DD90wMny.js";import"./table-DlXI65MA.js";import"./input-BLFkIEB7.js";import"./separator-BTVOhe19.js";import"./index-GNkbtKOe.js";import"./sun-Cb4-sj-T.js";import"./users-DTjBt5Wt.js";import"./log-out-CYh5mh1o.js";import"./index-CPm-OftT.js";import"./index-D0YihXUr.js";import"./index-BZ-LQonx.js";import"./chevron-down-ByOlhStK.js";import"./dialog-DcEVzri4.js";import"./popover-Gu38JwDQ.js";import"./globe-CqoSnSEC.js";const V=()=>[{header:"#",cell:({row:a})=>a.index+1},{id:"profile_image",header:"Photo",cell:({row:a})=>{const l=a.original.profile_image;if(l){const u=l.startsWith("http")?l:`/storage/${l}`;return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"Profile",className:"w-10 h-10 rounded-full object-cover",onError:i=>{var n;i.currentTarget.style.display="none",(n=i.currentTarget.nextElementSibling)==null||n.classList.remove("hidden")}}),e.jsx("span",{className:"text-gray-400 italic text-xs hidden absolute inset-0 flex items-center justify-center",children:"No image"})]})}return e.jsx("span",{className:"text-gray-400 italic",children:"No image"})}},{accessorKey:"code",header:"Code"},{accessorKey:"name",header:"Name"},{accessorKey:"surname",header:"Surname"},{accessorKey:"dob",header:"DOB"},{id:"rating",header:"Rating",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{rating:typeof a.original.average_rating=="number"?Math.round(a.original.average_rating):0,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",a.original.total_ratings,")"]})]})},{accessorKey:"status",header:"Status",cell:({row:a})=>e.jsx(I,{variant:a.original.status?"default":"destructive",children:a.original.status?"Active":"Inactive"})}];function le({club:r,students:a,nationalities:l=[],countries:u=[],filters:i}){const[n,x]=c.useState(i.nationality||""),[h,p]=c.useState(i.country||""),[g,j]=c.useState(i.status||""),o=t=>{y.get(route("organization.clubs.students.index",r.id),{nationality:t.nationality??(n||null),country:t.country??(h||null),status:t.status??(g||null)},{preserveScroll:!0,preserveState:!0,replace:!0})},v=()=>{x(""),p(""),j(""),y.get(route("organization.clubs.students.index",r.id),{},{preserveScroll:!0,preserveState:!1,replace:!0})};return e.jsxs(R,{header:`${r.name} Students`,children:[e.jsx(S,{title:`${r.name} Students`}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(b,{children:[e.jsx(A,{children:e.jsxs(B,{children:[r.name," - Students"]})}),e.jsxs(K,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Nationality"}),e.jsx(f,{placeholder:"All Nationalities",defaultValue:n||"",onChange:t=>{const s=(t==null?void 0:t.alpha3)||"";x(s),o({nationality:s})},slim:!1})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Country"}),e.jsx(f,{placeholder:"All Countries",defaultValue:h||"",onChange:t=>{const s=(t==null?void 0:t.alpha3)||"";p(s),o({country:s})}})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(d,{className:"text-sm mb-1",children:"Status"}),e.jsxs(T,{value:g,onValueChange:t=>{const s=t==="all"?"":t;j(s),o({status:s})},children:[e.jsx(_,{children:e.jsx(D,{placeholder:"All Statuses"})}),e.jsxs(E,{children:[e.jsx(m,{value:"all",children:"All"}),e.jsx(m,{value:"active",children:"Active"}),e.jsx(m,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(C,{variant:"secondary",onClick:v,children:"Reset Filters"})})]})}),e.jsx(N,{columns:V(),data:a})]})]})})]})}export{V as columns,le as default};
