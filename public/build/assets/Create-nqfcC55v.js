import{W as A,r as f,j as e,Y as y}from"./app-D1SDBIop.js";import{A as E}from"./authenticated-layout-CCz5eQ_q.js";import{I as _}from"./input-B3m-7Gcr.js";import{B as I}from"./button-7Hd0cb1s.js";import{L as n}from"./label-Mi81xqvw.js";import{C as O,a as T,b as V,c as L}from"./card-SIQLewJN.js";import{S as l,a as d,b as o,c,e as u}from"./select-DuabGzMV.js";import{T as B}from"./textarea-OOOtUP0S.js";import"./separator-CTLkRMH0.js";import"./index-D1s9PUES.js";import"./sun-Dezua4s8.js";import"./users-BytQ2UPK.js";import"./log-out-BkyLan4n.js";import"./index-DOKFqae7.js";import"./index-CncvHzeb.js";import"./chevron-down-khwMYqqQ.js";function $({organizations:C,clubs:b,students:S}){const v=C??[],x=b??[],m=S??[],{data:t,setData:i,post:N,processing:z,errors:h}=A({organization_id:"",club_id:"",student_id:"",file:null,issued_at:"",notes:""}),p=f.useMemo(()=>{const s=x.filter(r=>String(r.organization_id)===String(t.organization_id));return console.log("Filtered Clubs:",s),s},[x,t.organization_id]),j=f.useMemo(()=>{const s=m.filter(r=>String(r.club_id)===String(t.club_id));return console.log("Filtered Students:",s),s},[m,t.club_id]),w=s=>{var g;const r=((g=s.target.files)==null?void 0:g[0])||null;i("file",r)},a=s=>h[s]?e.jsx("div",{className:"text-red-500 text-xs mt-1",children:h[s]}):null,F=s=>{s.preventDefault(),N("/admin/certificates")};return e.jsxs(E,{header:"Create Ahli Gabungan",children:[e.jsx(y,{title:"Create Organization"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(O,{children:[e.jsx(T,{children:e.jsx(V,{children:"Assign Certificate"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:F,className:"flex flex-wrap",children:[e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Organization"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:t.organization_id,onValueChange:s=>{i({...t,organization_id:s,club_id:"",student_id:""})},children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Organization"})}),e.jsx(c,{children:v.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("organization_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Club ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:t.club_id,onValueChange:s=>{i({...t,club_id:s,student_id:""})},disabled:!t.organization_id||p.length===0,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Club"})}),e.jsx(c,{children:p.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("club_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsxs(n,{children:["Student"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(l,{value:t.student_id,onValueChange:s=>i("student_id",s),disabled:!t.club_id||j.length===0,children:[e.jsx(d,{children:e.jsx(o,{placeholder:"Select Student"})}),e.jsx(c,{children:j.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),a("student_id")]}),e.jsxs("div",{className:"w-[25%] px-2 mt-3",children:[e.jsx(n,{htmlFor:"issued_at",children:"Issued At"}),e.jsx(_,{id:"issued_at",type:"date",value:t.issued_at,onChange:s=>i("issued_at",s.target.value)}),a("issued_at")]}),e.jsxs("div",{className:"w-[50%] px-2 mt-3",children:[e.jsxs(n,{htmlFor:"file",children:["Certificate File"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(_,{id:"file",type:"file",accept:".pdf,image/*",onChange:w}),a("file")]}),e.jsxs("div",{className:"w-full px-2 mt-3",children:[e.jsx(n,{htmlFor:"notes",children:"Notes"}),e.jsx(B,{id:"notes",value:t.notes,onChange:s=>i("notes",s.target.value),rows:4,placeholder:"Enter notes here"}),a("notes")]}),e.jsx("div",{className:"w-full px-2 mt-6",children:e.jsx(I,{type:"submit",disabled:z,children:"Assign Certificate"})})]})})]})})]})}export{$ as default};
