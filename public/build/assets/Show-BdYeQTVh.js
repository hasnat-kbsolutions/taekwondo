import{r as p,W as w,j as e,Y as R,y as D}from"./app-D1SDBIop.js";import{A as I,U as A,S,w as z,C as L}from"./authenticated-layout-CCz5eQ_q.js";import{C as i,a as l,b as n,c}from"./card-SIQLewJN.js";import{B as P}from"./button-7Hd0cb1s.js";import{T as M}from"./textarea-OOOtUP0S.js";import{L as a}from"./label-Mi81xqvw.js";import{S as T,a as B,b as E,c as F,e as O}from"./select-DuabGzMV.js";import{R as d}from"./RatingStars-nGLRhAYW.js";import{C as U}from"./credit-card-CP60D7gK.js";import"./input-B3m-7Gcr.js";import"./separator-CTLkRMH0.js";import"./index-D1s9PUES.js";import"./sun-Dezua4s8.js";import"./users-BytQ2UPK.js";import"./log-out-BkyLan4n.js";import"./index-DOKFqae7.js";import"./index-CncvHzeb.js";import"./chevron-down-khwMYqqQ.js";const ie=({student:t,ratingsReceived:m,ratingsGiven:x,instructors:C,stats:o})=>{var y,b;const[h,g]=p.useState(""),[j,u]=p.useState(0),[f,N]=p.useState(""),{processing:v,errors:r}=w({rated_id:"",rated_type:"App\\Models\\Instructor",rating:0,comment:""}),_=s=>{s.preventDefault(),D.post(route("ratings.store"),{rated_id:h,rated_type:"App\\Models\\Instructor",rating:j,comment:f},{onSuccess:()=>{g(""),u(0),N("")}})};return e.jsxs(I,{header:"My Profile",children:[e.jsx(R,{title:"My Profile"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5"}),"Profile Information"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Name"}),e.jsxs("p",{className:"text-lg font-semibold",children:[t.name," ",t.surname]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-lg",children:t.email})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"text-lg",children:t.phone})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Grade"}),e.jsx("p",{className:"text-lg",children:t.grade})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Gender"}),e.jsx("p",{className:"text-lg",children:t.gender})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Date of Birth"}),e.jsx("p",{className:"text-lg",children:t.dob?new Date(t.dob).toLocaleDateString():"Not specified"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Nationality"}),e.jsx("p",{className:"text-lg",children:t.nationality})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"City"}),e.jsx("p",{className:"text-lg",children:t.city})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Country"}),e.jsx("p",{className:"text-lg",children:t.country})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Club"}),e.jsx("p",{className:"text-lg",children:((y=t.club)==null?void 0:y.name)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),e.jsx("p",{className:"text-lg",children:((b=t.organization)==null?void 0:b.name)||"Not assigned"})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Received (",m.length,")"]})}),e.jsx(c,{children:m.length>0?e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["by"," ",s.rater_name," ","(",s.rater_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings received yet."})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"Ratings Given (",x.length,")"]})}),e.jsx(c,{children:x.length>0?e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{rating:s.rating,readonly:!0,size:"sm"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["to"," ",s.rated_name," ","(",s.rated_type,")"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]}),s.comment&&e.jsx("p",{className:"text-sm",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No ratings given yet."})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Statistics"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Certifications"})]}),e.jsx("span",{className:"font-semibold",children:o.certifications_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Attendances"})]}),e.jsx("span",{className:"font-semibold",children:o.attendances_count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Payments"})]}),e.jsx("span",{className:"font-semibold",children:o.payments_count})]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Average Rating"})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(d,{rating:typeof t.average_rating=="number"?Math.round(t.average_rating):0,readonly:!0,size:"lg"})}),e.jsx("p",{className:"text-2xl font-bold",children:typeof t.average_rating=="number"?t.average_rating.toFixed(1):"0.0"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.total_ratings," rating",t.total_ratings!==1?"s":""]})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(n,{children:"Rate an Instructor"})}),e.jsx(c,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"instructor",children:"Select Instructor"}),e.jsxs(T,{value:h,onValueChange:g,children:[e.jsx(B,{children:e.jsx(E,{placeholder:"Choose an instructor"})}),e.jsx(F,{children:C.map(s=>e.jsxs(O,{value:s.id.toString(),children:[s.name," (",s.grade,")"]},s.id))})]}),r.rated_id&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rated_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Rating"}),e.jsx(d,{rating:j,onRatingChange:u,size:"md"}),r.rating&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.rating})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"comment",children:"Comment (Optional)"}),e.jsx(M,{id:"comment",value:f,onChange:s=>N(s.target.value),placeholder:"Share your experience...",rows:3}),r.comment&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.comment})]}),e.jsx(P,{type:"submit",disabled:!h||j===0||v,className:"w-full",children:v?"Submitting...":"Submit Rating"})]})})]})]})]})})]})};export{ie as default};
