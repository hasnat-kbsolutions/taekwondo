import{q as w,r as l,j as e,Y as z,b as c,y as f}from"./app-IiSPVizZ.js";import{B as d}from"./button-DZ5k6_p9.js";import{C as D}from"./card-DVI4IWoV.js";import{t as C,A,D as E,a as I,b as K,c as v}from"./authenticated-layout-GTORCj1n.js";import{D as L}from"./DataTable-BNel_Nq5.js";import{B as _,E as B}from"./badge-Dv7Jyjks.js";import{L as y}from"./label-C5GXAdxS.js";import{S as F,a as M,b as O,c as T,e as b}from"./select-TbXp28CT.js";import{C as V}from"./country-dropdown-BZggMNBj.js";import"./input-CfWmZ_6-.js";import"./index-_Tw0ogDf.js";import"./table-C-gikHsE.js";import"./index-pwCEMK5N.js";import"./index-CSukujnQ.js";import"./chevron-down-BW5bRSpH.js";import"./popover-BHAKvsyC.js";const P=[{header:"ID",accessorKey:"id"},{header:"Logo",cell:({row:s})=>s.original.logo?e.jsx("img",{src:s.original.logo,alt:"Club Logo",className:"w-10 h-10 object-cover rounded"}):"-"},{header:"User Name",cell:({row:s})=>{var r;return((r=s.original.user)==null?void 0:r.name)??"-"}},{header:"City",accessorKey:"city"},{header:"Country",accessorKey:"country"},{header:"Phone",accessorKey:"phone"},{header:"Tax No.",accessorKey:"tax_number"},{header:"Invoice Prefix",accessorKey:"invoice_prefix"},{header:"Organization",cell:({row:s})=>{var r;return((r=s.original.organization)==null?void 0:r.name)??"-"}},{header:"Email",cell:({row:s})=>{var r;return((r=s.original.user)==null?void 0:r.email)??"-"}},{header:"Status",cell:({row:s})=>e.jsx(_,{variant:s.original.status?"default":"destructive",children:s.original.status?"Active":"Inactive"})},{header:"Actions",cell:({row:s})=>e.jsxs(E,{children:[e.jsx(I,{asChild:!0,children:e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(B,{className:"h-4 w-4"})})}),e.jsxs(K,{align:"end",children:[e.jsx(v,{asChild:!0,children:e.jsx(c,{href:route("admin.clubs.edit",s.original.id),children:"Edit"})}),e.jsx(v,{asChild:!0,children:e.jsx(c,{href:route("admin.clubs.destroy",s.original.id),method:"delete",as:"button",children:"Delete"})})]})]})}];function re({clubs:s,organizations:r=[],filters:u}){var j,g;const{props:h}=w(),t=(j=h.flash)==null?void 0:j.success;l.useEffect(()=>{t&&(console.log("Flash success:",t),C.success(t))},[t]);const i=(g=h.flash)==null?void 0:g.error;l.useEffect(()=>{i&&C.error(i)},[i]);const[n,m]=l.useState(u.organization_id||""),[o,x]=l.useState(u.country||""),p=(a={})=>{f.get(route("admin.clubs.index"),{...a,organization_id:n||null,country:o||null},{preserveScroll:!0,preserveState:!0,replace:!0})},N=()=>{m(""),x(""),f.get(route("admin.clubs.index"),{},{preserveScroll:!0,preserveState:!0})};return e.jsxs(A,{header:"Cawangan",children:[e.jsx(z,{title:"Clubs"}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(y,{className:"text-sm mb-1",children:"Organizations"}),e.jsxs(F,{value:n||"",onValueChange:a=>{m(a),p({country:o})},children:[e.jsx(M,{children:e.jsx(O,{placeholder:"All Organizations"})}),e.jsxs(T,{children:[e.jsx(b,{value:"all",children:"All"}),r.map(a=>e.jsx(b,{value:a.id.toString(),children:a.name},a.id))]})]})]}),e.jsxs("div",{className:"flex flex-col w-[200px]",children:[e.jsx(y,{className:"text-sm mb-1",children:"Country"}),e.jsx(V,{placeholder:"All Countries",defaultValue:o||"",onChange:a=>{const S=(a==null?void 0:a.alpha3)||"";x(S),p({organization_id:n})},slim:!1})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(d,{variant:"outline",onClick:N,children:"Reset Filters"})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Clubs"}),e.jsx(c,{href:route("admin.clubs.create"),children:e.jsx(d,{children:"Add Club"})})]}),e.jsx(D,{children:e.jsx(L,{columns:P,data:s})})]})]})}export{re as default};
