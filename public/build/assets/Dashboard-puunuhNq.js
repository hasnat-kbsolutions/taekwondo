import{r as R,j as e,Y,y as f}from"./app-DT13sNDJ.js";import{A as D,B as p,S as N}from"./authenticated-layout-Cx1UTSKQ.js";import{C as t,a as l,b as a,c as r}from"./card-DvyRDZ49.js";import{B as S}from"./button-_MPKCyHU.js";import{S as A,a as P,b as T,c as M,e as F}from"./select-gAEyQ-Ek.js";import{R as k}from"./RatingStars-QjpEwtxI.js";import{C as H}from"./calendar-BwzjkAKX.js";import{H as b}from"./hourglass-DI6Ysuj9.js";import{T as E}from"./trending-up-BtlVccyS.js";import{D as g}from"./dollar-sign-DWiKMsep.js";import"./input-2s6pPNzp.js";import"./separator-oS8k4mHV.js";import"./index-BVHmHscH.js";import"./createLucideIcon-CDCLNRtp.js";import"./building-2-Dmaaj3kn.js";import"./users-GnOVMNQc.js";import"./log-out-DZdJrOvn.js";import"./sun-CNh23O19.js";import"./index-RCdHDkqR.js";import"./index-g2AH_h-X.js";import"./chevron-down-Bm3UrJxU.js";const o=new Date().getFullYear(),I=Array.from({length:31},(d,i)=>o-15+i),w=(d,i="MYR")=>{const c=Number(d)||0;return i==="JPY"?c.toLocaleString():c.toFixed(2)};function re({year:d,attendanceStats:i,paymentStats:c,ratingStats:j,amountsByCurrency:n,paidAmountsByCurrency:L,defaultCurrencyCode:x}){const[u,h]=R.useState(d||o),y=s=>{const m=parseInt(s);h(m),f.get(route("student.dashboard"),{year:m})},v=()=>{h(o),f.get(route("student.dashboard"),{year:o})};return e.jsxs(D,{header:"Student Dashboard",children:[e.jsx(Y,{title:"Student Dashboard"}),e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-end gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col w-[180px]",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Select Year"}),e.jsxs(A,{onValueChange:y,value:u.toString(),children:[e.jsx(P,{children:e.jsx(T,{placeholder:"Select a year"})}),e.jsx(M,{children:I.map(s=>e.jsx(F,{value:s.toString(),children:s},s))})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(S,{onClick:v,children:"Reset Filters"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Days"}),e.jsx(H,{className:"h-6 w-6 text-primary"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalDays})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Present Days"}),e.jsx(p,{className:"h-6 w-6 text-green-600"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.presentDays})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Absent Days"}),e.jsx(b,{className:"h-6 w-6 text-red-500"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold text-red-500",children:i.absentDays})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Attendance Rate"}),e.jsx(E,{className:"h-6 w-6 text-blue-600"})]}),e.jsx(r,{children:e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[i.attendanceRate,"%"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Payments"}),e.jsx(g,{className:"h-6 w-6 text-primary"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.totalPayments})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Paid"}),e.jsx(p,{className:"h-6 w-6 text-green-600"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.paidPayments})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Pending"}),e.jsx(b,{className:"h-6 w-6 text-yellow-500"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:c.pendingPayments})})]}),e.jsxs(t,{className:"col-span-1 sm:col-span-2 lg:col-span-4",children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(g,{className:"h-6 w-6 text-primary"})]}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-1 w-full",children:[e.jsxs("div",{className:"text-lg font-bold",children:[x==="MYR"?"RM":x," ",w((n==null?void 0:n[x||"MYR"])||0,x||"MYR")]}),n&&Object.keys(n).length>1&&e.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:Object.entries(n).filter(([s])=>s!==x).map(([s,m])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s,":"]}),e.jsx("span",{children:w(m,s)})]},s))})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Average Rating"}),e.jsx(N,{className:"h-6 w-6 text-yellow-500"})]}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{rating:Math.round(j.averageRating||0),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold",children:(j.averageRating||0).toFixed(1)})]})})]}),e.jsxs(t,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(a,{className:"text-sm font-medium",children:"Total Ratings"}),e.jsx(N,{className:"h-6 w-6 text-yellow-500"})]}),e.jsx(r,{children:e.jsx("div",{className:"text-2xl font-bold",children:j.totalRatings||0})})]})]})]})]})}export{re as default};
