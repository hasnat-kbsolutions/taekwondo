import{j as e,b as y,r as d,Y as I,y as E}from"./app-CHxsABbU.js";import{D as k}from"./DataTable-CkQCuIhe.js";import{B as w}from"./button-CVVcaTnG.js";import{D as K,a as V,b as F,c as b,A as G}from"./authenticated-layout-BpjSoaF9.js";import{E as M}from"./ellipsis-ChGKUR5a.js";import{E as B}from"./eye-KjP6m6XA.js";import{S as O}from"./square-pen-aE7EwmXR.js";import{T as P}from"./trash-2-D8bTICyX.js";import{C as L,a as R,b as q,c as H}from"./card-C5nEaoSG.js";import{L as p}from"./label-CCOtPfjK.js";import{S as j,a as f,b as g,c as N,e as t}from"./select-D09diZvD.js";import{D as Y,a as J,c as Q,d as U}from"./dialog-BC-xRP0f.js";import{B as W}from"./badge-C1Xnlai7.js";import"./table-DlA2-qFm.js";import"./input-CbcG-BTm.js";import"./separator-DNOPl6qu.js";import"./index-CN-1e5st.js";import"./createLucideIcon-BOF96pXa.js";import"./building-2-Ik-crbZS.js";import"./users-BD-bUwfe.js";import"./log-out-DhNmSrES.js";import"./calendar-BaxiiAEL.js";import"./sun-BGtUC1J2.js";import"./index-Dh0DyDEf.js";import"./index-B5rDxbdp.js";import"./chevron-down-DVqaVJfg.js";const X=v=>[{header:"#",cell:({row:l})=>l.index+1,meta:{sticky:!0,left:"0px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[60px] w-[60px]"}},{accessorKey:"name",header:"Name",meta:{sticky:!0,left:"60px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[150px]"}},{accessorKey:"surename",header:"Surename"},{accessorKey:"gender",header:"Gender"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"type",header:"Type"},{id:"actions",header:"Actions",cell:({row:l})=>{const i=l.original;return e.jsxs(K,{children:[e.jsx(V,{asChild:!0,children:e.jsx(w,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsxs(F,{align:"end",children:[e.jsxs(b,{onClick:()=>v(i),children:[e.jsx(B,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(b,{asChild:!0,children:e.jsxs(y,{href:route("admin.supporters.edit",i.id),children:[e.jsx(O,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(b,{asChild:!0,children:e.jsxs(y,{href:route("admin.supporters.destroy",i.id),method:"delete",as:"button",children:[e.jsx(P,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function Se({supporters:v,organizations:l,clubs:i,filters:c}){const[n,S]=d.useState(c.organization_id||""),[o,C]=d.useState(c.club_id||""),[m,_]=d.useState(c.gender||""),[x,D]=d.useState(c.status||""),[a,A]=d.useState(null),u=({organization_id:s,club_id:r,gender:h,status:z})=>{E.get(route("admin.supporters.index"),{organization_id:s,club_id:r,gender:h,status:z},{preserveScroll:!0,preserveState:!0,replace:!0})},T=()=>{S(""),C(""),_(""),D(""),E.get(route("admin.supporters.index"))};return e.jsxs(G,{header:"Supporters",children:[e.jsx(I,{title:"Supporters"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(L,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between",children:[e.jsx(q,{children:"Supporters"}),e.jsx(y,{href:route("admin.supporters.create"),children:e.jsx(w,{children:"Add Supporter"})})]}),e.jsxs(H,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(j,{value:n,onValueChange:s=>{S(s==="all"?"":s),u({organization_id:n,club_id:o,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Organizations"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),l.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Club"}),e.jsxs(j,{value:o,onValueChange:s=>{const r=s==="all"?"":s;C(r),u({organization_id:n,club_id:r,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Clubs"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),i.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Gender"}),e.jsxs(j,{value:m,onValueChange:s=>{const r=s==="all"?"":s;_(r),u({organization_id:n,club_id:o,gender:r,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Genders"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Status"}),e.jsxs(j,{value:x,onValueChange:s=>{const r=s==="all"?"":s;D(r),u({organization_id:n,club_id:o,gender:m,status:r})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Statuses"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(w,{variant:"secondary",onClick:T,children:"Reset Filters"})})]})}),e.jsx(k,{columns:X(s=>A(s)),data:v})]})]}),a&&e.jsx(Y,{open:!!a,onOpenChange:s=>{s||A(null)},children:e.jsxs(J,{className:"w-96",children:[e.jsxs("div",{className:"grid justify-center",children:[e.jsx("div",{className:"grid justify-center",children:e.jsx("div",{className:"mt-1   bg-foreground  rounded-full w-28 h-28 flex justify-center items-center ",children:a.profile_image?e.jsx("img",{src:a.profile_image,alt:"Profile",className:"w-28 h-28 rounded-full object-cover",onError:s=>{var h;s.currentTarget.style.display="none";const r=document.createElement("span");r.className="italic text-gray-500",r.textContent="No image",(h=s.currentTarget.parentNode)==null||h.appendChild(r)}}):e.jsx("span",{className:"italic text-muted-foreground",children:"No image"})})}),e.jsx("div",{className:"flex justify-start mt-4 mb-4 ",children:e.jsxs("div",{className:"block",children:[e.jsx(Q,{children:"Supporter Details"}),e.jsx(U,{className:"text-xs text-center",children:"Full supporter details"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Name:"})," ",a.name," ",a.surename]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground   font-medium",children:"Email:"})," ",a.email]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Phone :"})," ",a.phone]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Gender:"})," ",a.gender]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:" text-foreground  font-medium",children:"Country:"})," ",a.country]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Type :"})," ",a.type]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground font-medium",children:"Status :"}),e.jsx(W,{variant:a.status?"default":"destructive",children:a.status?"Active":"Inactive"})]})]})]})})]})]})}export{Se as default};
