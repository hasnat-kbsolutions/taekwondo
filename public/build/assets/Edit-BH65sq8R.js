import{W as S,j as e,Y as C}from"./app-CxTZuyGd.js";import{B as x}from"./button-O6GChIvF.js";import{S as i,a as o,b as c,c as h,e as d}from"./select-5N-T1TLy.js";import{I as u}from"./input-Jc5VxaLp.js";import{L as r}from"./label-BOsW4Ivz.js";import{C as N,a as P,b as w,c as b}from"./card-Tsyb4i5t.js";import{A as E}from"./authenticated-layout-CluqYUVf.js";import{C as M}from"./react-icons.esm-CvMd7KxP.js";import{P as D,a as I,b as V}from"./popover-C3uMaFec.js";import{C as A}from"./calendar-DmGHMwWV.js";import{f as p}from"./format-LUeNQFBy.js";import"./index-BopGJWdU.js";import"./index-D8paM-Vy.js";import"./index-DxtcMYs9.js";import"./chevron-down-CaBLg_eC.js";import"./createLucideIcon-A8Y1Mkot.js";import"./separator-DMAn-66q.js";import"./building-2-VmDwjJQs.js";import"./users-D04CuA_a.js";import"./log-out-M-di3x_B.js";import"./sun-D6Dd0lvh.js";function te({payment:a,students:j}){const{data:s,setData:v,put:f,processing:g,errors:m}=S({student_id:a.student_id||"",notes:a.notes||"",amount:a.amount||"",status:a.status||"unpaid",method:a.method||"cash",pay_at:a.pay_at||"",payment_month:a.payment_month.length===2?a.payment_month:a.payment_month.split("-")[1]||""}),n=(t,_)=>{v(t,_)},y=t=>{t.preventDefault(),f(route("admin.payments.update",a.id))},l=t=>m[t]&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m[t]});return e.jsxs(E,{header:"Edit Payment",children:[e.jsx(C,{title:"Edit Payment"}),e.jsx("div",{className:"container mx-auto py-10",children:e.jsxs(N,{children:[e.jsx(P,{children:e.jsx(w,{children:"Edit Payment"})}),e.jsx(b,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(r,{children:["Student",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:s.student_id.toString(),onValueChange:t=>n("student_id",t),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Student"})}),e.jsx(h,{children:j.map(t=>e.jsx(d,{value:String(t.id),children:t.name},t.id))})]}),l("student_id")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Amount",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{type:"number",value:s.amount,onChange:t=>n("amount",t.target.value)}),l("amount")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:s.status,onValueChange:t=>n("status",t),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Status"})}),e.jsxs(h,{children:[e.jsx(d,{value:"paid",children:"Paid"}),e.jsx(d,{value:"unpaid",children:"Unpaid"})]})]}),l("status")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Method",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:s.method,onValueChange:t=>n("method",t),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Method"})}),e.jsxs(h,{children:[e.jsx(d,{value:"cash",children:"Cash"}),e.jsx(d,{value:"stripe",children:"Stripe"})]})]}),l("method")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Month",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(i,{value:s.payment_month.length===2?s.payment_month:s.payment_month.split("-")[1]||"",onValueChange:t=>n("payment_month",t),children:[e.jsx(o,{className:"w-full",children:e.jsx(c,{placeholder:"Select Month"})}),e.jsx(h,{children:["01","02","03","04","05","06","07","08","09","10","11","12"].map(t=>e.jsx(d,{value:t,children:new Date(0,parseInt(t)-1).toLocaleString("default",{month:"long"})},t))})]}),l("payment_month")]}),e.jsxs("div",{children:[e.jsxs(r,{children:["Pay At",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{children:[e.jsx(I,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:"w-full justify-start text-left font-normal "+(!s.pay_at&&"text-muted-foreground"),children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),s.pay_at?p(new Date(s.pay_at),"PPP"):"Pick a date"]})}),e.jsx(V,{className:"w-auto p-0",children:e.jsx(A,{mode:"single",selected:s.pay_at?new Date(s.pay_at):void 0,onSelect:t=>n("pay_at",t?p(t,"yyyy-MM-dd"):""),initialFocus:!0})})]}),l("pay_at")]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(r,{children:"Notes"}),e.jsx(u,{value:s.notes,onChange:t=>n("notes",t.target.value)})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(x,{type:"submit",disabled:g,children:"Save"})})]})})]})})]})}export{te as default};
