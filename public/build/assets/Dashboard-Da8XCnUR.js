import{j as e,Y as O,b as r}from"./app-CNLR0DIp.js";import{C as l,a as i,b as n,c}from"./card-A51GI-p_.js";import{B as z}from"./badge-sCvS2-u3.js";import{W as w,B as E,C as x,w as G,A as I,q as A,S as N}from"./authenticated-layout-DutDL5IX.js";import{R as k}from"./RatingStars-C5OBqOfM.js";import{G as V,U as W}from"./users-CUo-C-vI.js";import{H as q}from"./hourglass-JC7Exf57.js";import{C as J}from"./circle-check-big-DA6vpIKi.js";import{F as R}from"./file-text-BEfXT_2O.js";import{C as K}from"./coins-2U_Xdj3g.js";import{C as Q}from"./circle-alert-_4BzTYK5.js";import{M as X}from"./map-pin-CZsTuR52.js";import{A as h}from"./arrow-right-DQtVH_Hu.js";import"./button-BFvzOohO.js";import"./input-BdDHIpxK.js";import"./separator-DTrM_Ru7.js";import"./index-BswMLaOF.js";import"./sun-CboAYruK.js";import"./log-out-B1kDetli.js";const M=(u,p="MYR")=>{const d=Number(u)||0;return p==="JPY"?d.toLocaleString():d.toFixed(2)};function fe({studentsCount:u,instructorsCount:p,paymentsCount:d,paidCount:D,pendingCount:S,totalAmount:Z,avgStudentRating:f,avgInstructorRating:v,totalRatings:P,totalAttendanceDays:B,presentDays:T,absentDays:Y,attendanceRate:_,certificationsCount:$,amountsByCurrency:a,defaultCurrencyCode:o,upcomingEvents:j=[],paymentProofs:g=[]}){const F=[{label:"Students",count:u,icon:e.jsx(V,{className:"h-6 w-6 text-primary"}),url:route("club.students.index")},{label:"Instructors",count:p,icon:e.jsx(W,{className:"h-6 w-6 text-primary"}),url:route("club.instructors.index")},{label:"Total Payments",count:d,icon:e.jsx(w,{className:"h-6 w-6 text-primary"}),url:route("club.payments.index")},{label:"Paid",count:D,icon:e.jsx(E,{className:"h-6 w-6 text-green-600"}),url:route("club.payments.index")},{label:"Unpaid",count:S,icon:e.jsx(q,{className:"h-6 w-6 text-yellow-500"}),url:route("club.payments.index")},{label:"Total Amount",count:e.jsxs("div",{className:"space-y-1 w-full",children:[e.jsxs("div",{className:"text-lg font-bold",children:[o==="MYR"?"RM":o," ",M((a==null?void 0:a[o||"MYR"])||0,o||"MYR")]}),a&&Object.keys(a).length>1&&e.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:Object.entries(a).filter(([s])=>s!==o).map(([s,t])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s,":"]}),e.jsx("span",{children:M(t,s)})]},s))})]}),icon:e.jsx(w,{className:"h-6 w-6 text-primary"}),url:route("club.payments.index")},{label:"Attendance Rate",count:`${_}%`,icon:e.jsx(x,{className:"h-6 w-6 text-blue-600"}),url:route("club.attendances.index")},{label:"Present Days",count:T,icon:e.jsx(x,{className:"h-6 w-6 text-green-600"}),url:route("club.attendances.index")},{label:"Absent Days",count:Y,icon:e.jsx(x,{className:"h-6 w-6 text-red-600"}),url:route("club.attendances.index")},{label:"Certifications",count:$,icon:e.jsx(G,{className:"h-6 w-6 text-purple-600"}),url:route("club.certifications.index")}],U=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),H=s=>{if(!s)return"";const[t,b]=s.split(":"),m=parseInt(t),y=m>=12?"PM":"AM";return`${m%12||12}:${b} ${y}`},C=s=>new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),L=(s,t="MYR",b)=>{const m=Number(s)||0;return`${b||(t==="MYR"?"RM":t)} ${m.toFixed(2)}`};return e.jsxs(I,{header:"Dashboard",children:[e.jsx(O,{title:"Dashboard"}),e.jsxs("div",{className:"space-y-6",children:[g&&g.length>0&&e.jsxs(l,{className:"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-green-600"}),e.jsx(n,{className:"text-lg",children:"Payment Proofs (Today)"})]}),e.jsx(r,{href:route("club.payments.index"),className:"text-sm text-primary hover:underline",children:"View All"})]})}),e.jsx(c,{children:e.jsx("div",{className:"grid gap-3 md:grid-cols-5",children:g.map(s=>{var t;return e.jsx(r,{href:route("club.payments.index",{highlight:s.payment_id}),className:"block",children:e.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm line-clamp-1",children:[s.payment.student.name,s.payment.student.surname?` ${s.payment.student.surname}`:""]}),e.jsx(R,{className:"h-4 w-4 text-green-600 shrink-0"})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium text-foreground",children:L(s.payment.amount,s.payment.currency_code,(t=s.payment.currency)==null?void 0:t.symbol)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-3 w-3"}),e.jsx("span",{children:C(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-3 w-3"}),e.jsx("span",{className:"line-clamp-1",children:s.original_filename})]})]})]})},s.id)})})})]}),j&&j.length>0&&e.jsxs(l,{className:"border-orange-500 bg-gradient-to-r from-orange-50 to-blue-50 dark:from-orange-950/20 dark:to-blue-950/20",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-orange-600"}),e.jsx(n,{className:"text-lg",children:"Upcoming Events"})]}),e.jsx(r,{href:route("club.events.index"),className:"text-sm text-primary hover:underline",children:"View All"})]})}),e.jsx(c,{children:e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:j.map(s=>e.jsx(r,{href:route("club.events.edit",s.id),className:"block",children:e.jsxs("div",{className:"p-3 rounded-lg border bg-white dark:bg-gray-800 hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm line-clamp-1",children:s.title}),e.jsx(z,{variant:"outline",className:"text-xs shrink-0",children:s.event_type})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-3 w-3"}),e.jsx("span",{children:U(s.event_date)})]}),s.start_time&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-3 w-3"}),e.jsx("span",{children:H(s.start_time)})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-3 w-3"}),e.jsx("span",{className:"line-clamp-1",children:s.venue})]})]})]})},s.id))})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:"Overview Statistics"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map(s=>e.jsx(r,{href:s.url,className:"block group",children:e.jsxs(l,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:s.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon,e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:s.count})})]})},s.label))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:"Rating Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(l,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Average Student Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{rating:Math.round(f),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:f.toFixed(1)})]})})]})}),e.jsx(r,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(l,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Average Instructor Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{rating:Math.round(v),readonly:!0,size:"sm"}),e.jsx("span",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:v.toFixed(1)})]})})]})}),e.jsx(r,{href:route("club.ratings.index"),className:"block group",children:e.jsxs(l,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer hover:bg-accent/50 border-2 hover:border-primary/20",children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium group-hover:text-primary transition-colors",children:"Total Ratings"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-yellow-500"}),e.jsx(h,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary group-hover:translate-x-1 transition-all duration-200"})]})]}),e.jsx(c,{children:e.jsx("div",{className:"text-2xl font-bold group-hover:text-primary transition-colors",children:P})})]})})]})]})]})]})}export{fe as default};
