import{j as e,b as y,r as d,Y as I,y as E}from"./app-2gn4RfSZ.js";import{D as k}from"./DataTable-DGXkLYlU.js";import{B as w}from"./button-BIncYwTu.js";import{D as K,a as V,b as F,c as b,A as G}from"./authenticated-layout-Cg-1muXU.js";import{E as M}from"./ellipsis-Da7RdrnB.js";import{E as B}from"./eye-D0bOhJrm.js";import{S as O}from"./square-pen-l5RzgZWa.js";import{T as P}from"./trash-2-DD-1iLwA.js";import{C as L,a as R,b as q,c as H}from"./card-aDrCg9A8.js";import{L as p}from"./label-DHZZwbSO.js";import{S as j,a as f,b as g,c as N,e as t}from"./select-DucK0tRK.js";import{D as Y,a as J,c as Q,d as U}from"./dialog-DhmpaYvM.js";import{B as W}from"./badge-BdwXvqD0.js";import"./table-2ad5ZTOX.js";import"./input-Dj8_zug_.js";import"./separator-B-OjaV0S.js";import"./index-Bkygkmel.js";import"./createLucideIcon-DybH0MdA.js";import"./building-2-DNx1rPF9.js";import"./users-CkuQDTLu.js";import"./log-out-C5WUean8.js";import"./sun-CBb6fQqu.js";import"./index-CBzvCrkR.js";import"./index-BFcKiWpC.js";import"./chevron-down-ytmlgpZO.js";const X=v=>[{header:"#",cell:({row:l})=>l.index+1,meta:{sticky:!0,left:"0px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[60px] w-[60px]"}},{accessorKey:"name",header:"Name",meta:{sticky:!0,left:"60px",className:"border-r shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[150px]"}},{accessorKey:"surename",header:"Surename"},{accessorKey:"gender",header:"Gender"},{accessorKey:"email",header:"Email"},{accessorKey:"phone",header:"Phone"},{accessorKey:"type",header:"Type"},{id:"actions",header:"Actions",cell:({row:l})=>{const i=l.original;return e.jsxs(K,{children:[e.jsx(V,{asChild:!0,children:e.jsx(w,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsxs(F,{align:"end",children:[e.jsxs(b,{onClick:()=>v(i),children:[e.jsx(B,{className:"w-4 h-4 mr-2"})," View"]}),e.jsx(b,{asChild:!0,children:e.jsxs(y,{href:route("admin.supporters.edit",i.id),children:[e.jsx(O,{className:"w-4 h-4 mr-2"})," Edit"]})}),e.jsx(b,{asChild:!0,children:e.jsxs(y,{href:route("admin.supporters.destroy",i.id),method:"delete",as:"button",children:[e.jsx(P,{className:"w-4 h-4 mr-2"})," Delete"]})})]})]})}}];function we({supporters:v,organizations:l,clubs:i,filters:c}){const[n,S]=d.useState(c.organization_id||""),[o,C]=d.useState(c.club_id||""),[m,_]=d.useState(c.gender||""),[x,D]=d.useState(c.status||""),[r,A]=d.useState(null),u=({organization_id:s,club_id:a,gender:h,status:z})=>{E.get(route("admin.supporters.index"),{organization_id:s,club_id:a,gender:h,status:z},{preserveScroll:!0,preserveState:!0,replace:!0})},T=()=>{S(""),C(""),_(""),D(""),E.get(route("admin.supporters.index"))};return e.jsxs(G,{header:"Supporters",children:[e.jsx(I,{title:"Supporters"}),e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs(L,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between",children:[e.jsx(q,{children:"Supporters"}),e.jsx(y,{href:route("admin.supporters.create"),children:e.jsx(w,{children:"Add Supporter"})})]}),e.jsxs(H,{children:[e.jsx("div",{className:"mb-6 p-4 border rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Organization"}),e.jsxs(j,{value:n,onValueChange:s=>{S(s==="all"?"":s),u({organization_id:n,club_id:o,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Organizations"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),l.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Club"}),e.jsxs(j,{value:o,onValueChange:s=>{const a=s==="all"?"":s;C(a),u({organization_id:n,club_id:a,gender:m,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Clubs"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),i.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Gender"}),e.jsxs(j,{value:m,onValueChange:s=>{const a=s==="all"?"":s;_(a),u({organization_id:n,club_id:o,gender:a,status:x})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Genders"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"w-[200px]",children:[e.jsx(p,{className:"text-sm mb-1",children:"Status"}),e.jsxs(j,{value:x,onValueChange:s=>{const a=s==="all"?"":s;D(a),u({organization_id:n,club_id:o,gender:m,status:a})},children:[e.jsx(f,{children:e.jsx(g,{placeholder:"All Statuses"})}),e.jsxs(N,{children:[e.jsx(t,{value:"all",children:"All"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(w,{variant:"secondary",onClick:T,children:"Reset Filters"})})]})}),e.jsx(k,{columns:X(s=>A(s)),data:v})]})]}),r&&e.jsx(Y,{open:!!r,onOpenChange:s=>{s||A(null)},children:e.jsxs(J,{className:"w-96",children:[e.jsxs("div",{className:"grid justify-center",children:[e.jsx("div",{className:"grid justify-center",children:e.jsx("div",{className:"mt-1   bg-foreground  rounded-full w-28 h-28 flex justify-center items-center ",children:r.profile_image?e.jsx("img",{src:r.profile_image,alt:"Profile",className:"w-28 h-28 rounded-full object-cover",onError:s=>{var h;s.currentTarget.style.display="none";const a=document.createElement("span");a.className="italic text-gray-500",a.textContent="No image",(h=s.currentTarget.parentNode)==null||h.appendChild(a)}}):e.jsx("span",{className:"italic text-muted-foreground",children:"No image"})})}),e.jsx("div",{className:"flex justify-start mt-4 mb-4 ",children:e.jsxs("div",{className:"block",children:[e.jsx(Q,{children:"Supporter Details"}),e.jsx(U,{className:"text-xs text-center",children:"Full supporter details"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Name:"})," ",r.name," ",r.surename]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground   font-medium",children:"Email:"})," ",r.email]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Phone :"})," ",r.phone]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Gender:"})," ",r.gender]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:" text-foreground  font-medium",children:"Country:"})," ",r.country]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground  font-medium",children:"Type :"})," ",r.type]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-foreground font-medium",children:"Status :"}),e.jsx(W,{variant:r.status?"default":"destructive",children:r.status?"Active":"Inactive"})]})]})]})})]})]})}export{we as default};
